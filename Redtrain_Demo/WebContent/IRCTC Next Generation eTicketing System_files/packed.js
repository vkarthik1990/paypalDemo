if(!window.RichFaces)window.RichFaces={};
(function(d,a){a.RICH_CONTAINER="rf";a.KEYS={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46};a.getDomElement=function(a){var e=typeof a,b;"string"==e?b=document.getElementById(a):"object"==e&&(a.nodeType?b=a:a instanceof d&&(b=a.get(0)));return b};a.$=function(e){if(e=a.getDomElement(e))return(e[a.RICH_CONTAINER]||{}).component};a.$$=function(e,b){for(;b.parentNode;){var c=b[a.RICH_CONTAINER];if(c&&c.component&&c.component.name==e)return c.component;
b=b.parentNode}};a.findNonVisualComponents=function(e){if(e=a.getDomElement(e))return(e[a.RICH_CONTAINER]||{}).attachedComponents};a.invokeMethod=function(e,b){var c=a.$(e),d;if(c&&"function"==typeof(d=c[b]))return d.apply(c,Array.prototype.slice.call(arguments,2))};a.cleanComponent=function(e){var b=a.$(e);b&&(b.destroy(),b.detach(e));if(e=a.findNonVisualComponents(e))for(var c in e)e[c]&&e[c].destroy()};a.cleanDom=function(e){var b="string"==typeof e?document.getElementById(e):d("body").get(0);
"javax.faces.ViewRoot"==e&&(b=d("body").get(0));b&&(e=b.getElementsByTagName("*"),e.length&&(d.each(e,function(){a.cleanComponent(this)}),d.cleanData(e)),a.cleanComponent(b),d.cleanData([b]))};a.submitForm=function(a,e,b){"string"===typeof a&&(a=d(a));var c=a.attr("target"),g=[];try{a.attr("target",b);if(e)for(var j in e){var m=e[j],i=d("input[name='"+j+"']",a);if(0==i.length)var q=d("<input />").attr({type:"hidden",name:j,value:m}),i="javax.faces.portletbridge.STATE_ID"===j?q.prependTo(a):q.appendTo(a);
else i.val(m);i.each(function(){g.push(this)})}a.trigger("submit")}finally{void 0===c?a.removeAttr("target"):a.attr("target",c),d(g).remove()}};d.fn.toXML=function(){var a="";if(0<this.length)if("function"==typeof XMLSerializer||"object"==typeof XMLSerializer){var e=new XMLSerializer;this.each(function(){a+=e.serializeToString(this)})}else void 0!==this[0].xml?this.each(function(){a+=this.xml}):this.each(function(){a+=this});return a};var f=/([#;&,.+*~':"!^$\[\]()=>|\/])/g;a.escapeCSSMetachars=function(a){return a.replace(f,
"\\$1")};var c;a.setLog=function(a){c=a};a.log={debug:function(a){c&&c.debug(a)},info:function(a){c&&c.info(a)},warn:function(a){c&&c.warn(a)},error:function(a){c&&c.error(a)},setLevel:function(a){c&&c.setLevel(a)},getLevel:function(){return c?c.getLevel():"info"},clear:function(){c&&c.clear()}};a.getValue=function(a,e){var b=e,c=0;do b=b[a[c++]];while(b&&c!=a.length);return b};var b=/^\s*[_A-Z,a-z]\w*(?:\s*\.\s*[_A-Z,a-z]\w*)*\s*$/,e=/\s*\.\s*/;a.evalMacro=function(c,g){var j="";if(b.test(c)){var m=
d.trim(c).split(e);(j=a.getValue(m,g))||(j=a.getValue(m,window))}else try{if(g.eval)j=g.eval(c);else with(g)j=eval(c)}catch(i){a.log.warn("Exception: "+i.message+"\n["+c+"]")}"function"==typeof j&&(j=j(g));return j||""};var g=/^\w+$/;a.interpolate=function(a,e){var b=[],c;for(c in e)g.test(c)&&b.push(c);b=RegExp("\\{("+b.join("|")+")\\}","g");return a.replace(b,function(a,b){return e[b]})};a.clonePosition=function(){};var i={event:{begin:["begin"],complete:["beforedomupdate"],success:["success","complete"]},
error:["error","complete"]},h=function(a){return d("partial-response extension#org\\.richfaces\\.extension",a)},l=/^\s*(\[|\{)/;a.parseJSON=function(e){try{if(e)return l.test(e)?d.parseJSON(e):d.parseJSON('{"root": '+e+"}").root}catch(b){a.log.warn("Error evaluating JSON data from element <"+elementName+">: "+b.message)}return null};var j=function(e,b){var c=d.trim(e.children(b).text());return a.parseJSON(c)};a.createJSFEventsAdapter=function(e){var e=e||{},b;return function(c){var g=c.source,m=c.status,
q=c.type;if("event"==q&&"begin"==m)b=!1;else if("error"==q)b=!0;else if(b||"complete"==m&&a.ajaxContainer&&a.ajaxContainer.isIgnoreResponse&&a.ajaxContainer.isIgnoreResponse())return;var f=i[q];if(m=(f||{})[m]||f)for(f=0;f<m.length;f++){var r=m[f],n=e[r];if(n){var l={};d.extend(l,c);l.type=r;if("error"!=q&&(delete l.status,l.responseXML)){var s=h(l.responseXML),r=j(s,"data"),s=j(s,"componentData");l.data=r;l.componentData=s||{}}n.call(g,l)}}}};a.setGlobalStatusNameVariable=function(e){e?a.statusName=
e:delete a.statusName};a.setZeroRequestDelay=function(a){if("undefined"==typeof a.requestDelay)a.requestDelay=0};var m=function(){var a=arguments;return 1==a.length?a[0]:function(){for(var e,b=0;b<a.length;b++)e=a[b].apply(this,arguments);return e}},q=function(a,e){return function(b){a(e,b)}},r=function(a){return a?new Function("event",a):null},s=function(){var a=function(a,e){var b=h(e.responseXML),b=r(b.children(e.type).text());a&&a.call(window,e);b&&b.call(window,e)};return{error:null,begin:null,
complete:a,beforedomupdate:a}}();a.ajax=function(e,b,c){var g;g=c.sourceId?c.sourceId:"object"==typeof e&&e.id?e.id:e;c=c||{};parameters=c.parameters||{};parameters.execute="@component";parameters.render="@component";c.clientParameters&&d.extend(parameters,c.clientParameters);parameters["org.richfaces.ajax.component"]||(parameters["org.richfaces.ajax.component"]=g);var j,i;for(i in s){var f=c[i],f="function"==typeof f?f:r(f),h=s[i];h&&(f=q(h,f));f&&(j=j||{},j[i]=f)}if(c.status)i=function(){a.setGlobalStatusNameVariable(c.status)},
j=j||{},j.begin=j.begin?m(i,j.begin):i;c.incId&&(parameters[g]=g);if(j)g=a.createJSFEventsAdapter(j),parameters.onevent=g,parameters.onerror=g;if(a.queue)parameters.queueId=c.queueId;jsf.ajax.request(e,b,parameters)};var n=function(e){var b=e.responseXML;if("event"==e.type&&"complete"==e.status&&b&&(e=d(b).children("partial-response"))&&e.length)e=e.children("changes").children("update, delete"),d.each(e,function(){a.cleanDom(d(this).attr("id"))})},t=function(){return"undefined"!=typeof jsf&&jsf.ajax?
(jsf.ajax.addOnEvent(n),!0):!1};t()||d(document).ready(t);window.addEventListener?window.addEventListener("unload",a.cleanDom,!1):window.attachEvent("onunload",a.cleanDom)})(jQuery,RichFaces);
(function(d,a,f){a.ajaxContainer=a.ajaxContainer||{};if(!a.ajaxContainer.jsfRequest)a.ajaxContainer.jsfRequest=f.ajax.request,f.ajax.request=function(c,b,e){a.queue.push(c,b,e)},a.ajaxContainer.jsfResponse=f.ajax.response,a.ajaxContainer.isIgnoreResponse=function(){return a.queue.isIgnoreResponse()},f.ajax.response=function(c,b){a.queue.response(c,b)},a.queue=function(){var c={},b=function(e,b,g,j){this.queue=e;this.source=b;this.options=d.extend({},j||{});this.queueOptions={};var m;if(this.options.queueId){if(c[this.options.queueId])m=
this.options.queueId;delete this.options.queueId}else{var e=a.getDomElement(b),i;e&&(e=d(e).closest("form"),0<e.length&&(i=e.get(0)));m=i&&i.id&&c[i.id]?i.id:"org.richfaces.queue.global"}if(m)if(this.queueOptions=c[m]||{},this.queueOptions.queueId)this.queueOptions=d.extend({},c[this.queueOptions.queueId]||{},this.queueOptions);else{if(e=a.getDomElement(b))e=d(e).closest("form"),0<e.length&&(i=e.get(0));if(m=i&&i.id&&c[i.id]?i.id:"org.richfaces.queue.global")this.queueOptions=d.extend({},c[m]||{},
this.queueOptions)}if("undefined"==typeof this.queueOptions.requestGroupingId)this.queueOptions.requestGroupingId="string"==typeof this.source?this.source:this.source.id;g&&g instanceof Object&&("layerX"in g&&delete g.layerX,"layerY"in g&&delete g.layerY);this.event=d.extend({},g);this.requestGroupingId=this.queueOptions.requestGroupingId;this.eventsCount=1};d.extend(b.prototype,{isIgnoreDupResponses:function(){return this.queueOptions.ignoreDupResponses},getRequestGroupId:function(){return this.requestGroupingId},
setRequestGroupId:function(a){this.requestGroupingId=a},resetRequestGroupId:function(){this.requestGroupingId=void 0},setReadyToSubmit:function(a){this.readyToSubmit=a},getReadyToSubmit:function(){return this.readyToSubmit},ondrop:function(){var a=this.queueOptions.onqueuerequestdrop;a&&a.call(this.queue,this.source,this.options,this.event)},onRequestDelayPassed:function(){this.readyToSubmit=!0;h.call(this.queue)},startTimer:function(){var a=this.queueOptions.requestDelay;"number"!=typeof a&&(a=this.queueOptions.requestDelay||
0);e.debug("Queue will wait "+(a||0)+"ms before submit");if(a){var b=this;this.timer=window.setTimeout(function(){try{b.onRequestDelayPassed()}finally{b=b.timer=void 0}},a)}else this.onRequestDelayPassed()},stopTimer:function(){if(this.timer)window.clearTimeout(this.timer),this.timer=void 0},clearEntry:function(){this.stopTimer();if(this.request)this.request.shouldNotifyQueue=!1,this.request=void 0},getEventsCount:function(){return this.eventsCount},setEventsCount:function(a){this.eventsCount=a}});
var e=a.log,g=[],i;f.ajax.addOnEvent(function(a){"event"==a.type&&"success"==a.status&&(e.debug("richfaces.queue: ajax submit successfull"),i=null,h())});f.ajax.addOnError(function(){e.debug("richfaces.queue: ajax submit error");i=null;h()});var h=function(){if(i)e.debug("richfaces.queue: Waiting for previous submit results");else if(l())e.debug("richfaces.queue: Nothing to submit");else{var b;if(g[0].getReadyToSubmit()){b=i=g.shift();e.debug("richfaces.queue: will submit request NOW");var c=i.options;
c["AJAX:EVENTS_COUNT"]=i.eventsCount;a.ajaxContainer.jsfRequest(i.source,i.event,c);c.queueonsubmit&&c.queueonsubmit.call(b);m("onrequestdequeue",b)}}},l=function(){return 0==j()},j=function(){return g.length},m=function(a,e){var b=e.queueOptions[a];b&&("string"==typeof b?(new Function(b)).call(null,e):b.call(null,e));var d,g;e.queueOptions.queueId&&(d=c[e.queueOptions.queueId])&&(g=d[a])&&g!=b&&g.call(null,e)},q=function(a){g.push(a);e.debug("New request added to queue. Queue requestGroupingId changed to "+
a.getRequestGroupId());m("onrequestqueue",a)};return{DEFAULT_QUEUE_ID:"org.richfaces.queue.global",getSize:j,isEmpty:l,submitFirst:function(){if(!l()){var a=g[0];a.stopTimer();a.setReadyToSubmit(!0);h()}},push:function(a,c,d){a=new b(this,a,c,d);c=a.getRequestGroupId();(d=g[g.length-1])?d.getRequestGroupId()==c?(e.debug("Similar request currently in queue"),e.debug("Combine similar requests and reset timer"),d.stopTimer(),a.setEventsCount(d.getEventsCount()+1),g[g.length-1]=a,m("onrequestqueue",a)):
(e.debug("Last queue entry is not the last anymore. Stopping requestDelay timer and marking entry as ready for submission"),d.stopTimer(),d.resetRequestGroupId(),d.setReadyToSubmit(!0),q(a),h()):q(a);a.startTimer()},response:function(e,b){this.isIgnoreResponse()?(i=null,h()):a.ajaxContainer.jsfResponse(e,b)},isIgnoreResponse:function(){var a=g[0];return a&&i.isIgnoreDupResponses()&&i.queueOptions.requestGroupingId==a.queueOptions.requestGroupingId},clear:function(){var a=g[g.length-1];a&&a.stopTimer();
g=[]},setQueueOptions:function(e,b){var g=typeof e;if("string"==g){if(c[e])throw"Queue already registered";c[e]=b}else"object"==g&&d.extend(c,e);return a.queue},getQueueOptions:function(a){return c[a]||{}}}}()})(jQuery,RichFaces,jsf);
(function(d,a){a.csv=a.csv||{};var f={},c=/\'?\{(\d+)\}\'?/g,b=function(a,e){if(a){for(var b=a.replace(c,"\n$1\n").split("\n"),d,g=1;g<b.length;g+=2)d=e[b[g]],b[g]="undefined"==typeof d?"":d;return b.join("")}return""},e=function(a){return null!==a.value&&void 0!=a.value?a.value:""},g=function(a,e){if(e.selected)return a[a.length]=e.value},i={hidden:function(a){return e(a)},text:function(a){return e(a)},textarea:function(a){return e(a)},"select-one":function(a){if(-1!=a.selectedIndex)return e(a)},
password:function(a){return e(a)},file:function(a){return e(a)},radio:function(a){return a.checked?!0:!1},checkbox:function(a){return a.checked?!0:!1},"select-multiple":function(a){for(var a=a.childNodes,e=[],b=0;b<a.length;b++){var c=a[b];if("OPTGROUP"===c.tagName)for(var c=c.childNodes,d=0;d<c.length;d++)e=g(e,c[d]);else e=g(e,c)}return e},input:function(a){return e(a)}};d.extend(a.csv,{RE_DIGITS:/^-?\d+$/,RE_FLOAT:/^(-?\d+)?(\.(\d+)?(e[+-]?\d+)?)?$/,addMessage:function(a){d.extend(f,a)},getMessage:function(a,
e,c){a=a?a:f[e]||{detail:"",summary:"",severity:0};return{detail:b(a.detail,c),summary:b(a.summary,c),severity:a.severity}},interpolateMessage:function(a,e){return{detail:b(a.detail,e),summary:b(a.summary,e),severity:a.severity}},sendMessage:function(e,b){a.Event.fire(window.document,a.Event.MESSAGE_EVENT_TYPE,{sourceId:e,message:b})},clearMessage:function(e){a.Event.fire(window.document,a.Event.MESSAGE_EVENT_TYPE,{sourceId:e})},validate:function(e,b,c,g){var c=a.getDomElement(c||b),j,m=c;j="";if(i[m.type])j=
i[m.type](m);else if(void 0!==m.value)j=m.value;else if(m=d(m))if("function"===typeof m.getValue)j=m.getValue();else if(m=d(":not(:submit):not(:button):not(:image):input:visible:enabled:first",m))j=m[0],j=i[j.type](j);var f,m=g.c;a.csv.clearMessage(b);if(m)try{m.f&&(f=m.f(j,b,m.p?m.p.label||b:b,m.m))}catch(h){return h.severity=2,a.csv.sendMessage(b,h),!1}else f=j;j=!0;if(m=g.v)for(var l,o,w=0;w<m.length;w++)try{o=m[w],(l=o.f)&&l(f,o.p?o.p.label||b:b,o.p,o.m)}catch(y){y.severity=2,a.csv.sendMessage(b,
y),j=!1}j&&!g.da&&g.a&&g.a.call(c,e,b);return j}});var h=function(e,b,c,g,j,m){var i=null;if(e&&(e=d.trim(e),!a.csv.RE_DIGITS.test(e)||(i=parseInt(e,10))<g||i>j))throw a.csv.interpolateMessage(c,m?[e,m,b]:[e,b]);return i},l=function(e,b,c,g){var j=null;if(e&&(e=d.trim(e),!a.csv.RE_FLOAT.test(e)||isNaN(j=parseFloat(e))))throw a.csv.interpolateMessage(c,g?[e,g,b]:[e,b]);return j};d.extend(a.csv,{convertBoolean:function(a){if("string"===typeof a){if(a=d.trim(a).toLowerCase(),"on"===a||"true"===a||"yes"===
a)return!0}else if(!0===a)return!0;return!1},convertDate:function(a){a=d.trim(a);return Date.parse(a)},convertByte:function(a,e,b,c){return h(a,e,c,-128,127,254)},convertNumber:function(e,b,c,g){e=d.trim(e);c=parseFloat(e);if(isNaN(c))throw a.csv.interpolateMessage(g,[e,99,b]);return c},convertFloat:function(a,e,b,c){return l(a,e,c,2E9)},convertDouble:function(a,e,b,c){return l(a,e,c,1999999)},convertShort:function(a,e,b,c){return h(a,e,c,-32768,32767,32456)},convertInteger:function(a,e,b,c){return h(a,
e,c,-2147483648,2147483648,9346)},convertCharacter:function(a,e,b,c){return h(a,e,c,0,65535)},convertLong:function(a,e,b,c){return h(a,e,c,-9223372036854775E3,9223372036854775E3,98765432)}});var j=function(e,b,c,d){var g="number"===typeof c.min,j="number"===typeof c.max;if(j&&e>c.max)throw a.csv.interpolateMessage(d,g?[c.min,c.max,b]:[c.max,b]);if(g&&e<c.min)throw a.csv.interpolateMessage(d,j?[c.min,c.max,b]:[c.min,b]);},m=function(e,b,c,d){if("string"!=typeof c||0==c.length)throw a.csv.getMessage(d,
"REGEX_VALIDATOR_PATTERN_NOT_SET",[]);var g=c;"^"!==g.slice(0,1)&&(g="^"+g);g.slice(-1);var j;try{j=RegExp(g)}catch(m){throw a.csv.getMessage(d,"REGEX_VALIDATOR_MATCH_EXCEPTION",[]);}if(!j.test(e))throw a.csv.interpolateMessage(d,[c,b]);};d.extend(a.csv,{validateLongRange:function(e,b,c,g){var m=typeof e;if("number"!==m){if("string"!=m)throw a.csv.getMessage(g,"LONG_RANGE_VALIDATOR_TYPE",[componentId,""]);e=d.trim(e);if(!a.csv.RE_DIGITS.test(e)||NaN==(e=parseInt(e,10)))throw a.csv.getMessage(g,"LONG_RANGE_VALIDATOR_TYPE",
[componentId,""]);}j(e,b,c,g)},validateDoubleRange:function(e,b,c,g){var m=typeof e;if("number"!==m){if("string"!==m)throw a.csv.getMessage(g,"DOUBLE_RANGE_VALIDATOR_TYPE",[componentId,""]);e=d.trim(e);if(!a.csv.RE_FLOAT.test(e)||NaN==(e=parseFloat(e)))throw a.csv.getMessage(g,"DOUBLE_RANGE_VALIDATOR_TYPE",[componentId,""]);}j(e,b,c,g)},validateLength:function(a,e,b,c){j(a?a.length:0,e,b,c)},validateSize:function(a,e,b,c){j(a?a.length:0,e,b,c)},validateRegex:function(a,e,b,c){m(a,e,b.pattern,c)},
validatePattern:function(a,e,b,c){m(a,e,b.regexp,c)},validateRequired:function(e,b,c,d){if(void 0===e||null===e||""===e)throw a.csv.interpolateMessage(d,[b]);},validateTrue:function(a,e,b,c){if(!0!==a)throw c;},validateFalse:function(a,e,b,c){if(!1!==a)throw c;},validateMax:function(a,e,b,c){if(a>b.value)throw c;},validateMin:function(a,e,b,c){if(a<b.value)throw c;}})})(jQuery,window.RichFaces||(window.RichFaces={}));
(function(d,a,f){a.blankFunction=function(){};a.BaseComponent=function(a){this.id=a;this.options=this.options||{}};var c={},b=function(e,d,i){var i=i||{},f=a.blankFunction;f.prototype=e.prototype;d.prototype=new f;d.prototype.constructor=d;d.$super=e.prototype;if(d.$super==a.BaseComponent.prototype)var l=jQuery.extend({},c,i||{});d.extend=function(a,e){var e=e||{},c=jQuery.extend({},l||i||{},e||{});return b(d,a,c)};return l||i};a.BaseComponent.extend=function(e,c){return b(a.BaseComponent,e,c)};a.BaseComponent.extendClass=
function(e){var b=e.init||a.blankFunction;this.extend(b);b.extendClass=this.extendClass;d.extend(b.prototype,e);return b};d.extend(a.BaseComponent.prototype,function(){return{name:"BaseComponent",toString:function(){var a=[];this.constructor.$super&&(a[a.length]=this.constructor.$super.toString());a[a.length]=this.name;return a.join(", ")},getValue:function(){},getEventElement:function(){return this.id},attachToDom:function(e){e=e||this.id;if(e=a.getDomElement(e))(e[a.RICH_CONTAINER]=e[a.RICH_CONTAINER]||
{}).component=this;return e},detach:function(e){e=e||this.id;(e=a.getDomElement(e))&&e[a.RICH_CONTAINER]&&(e[a.RICH_CONTAINER].component=null)},invokeEvent:function(e,b,c,f){var l,j,c=d.extend({},c,{type:e});if(!c)document.createEventObject?(c=document.createEventObject(),c.type=e):document.createEvent&&(c=document.createEvent("Events"),c.initEvent(e,!0,!1));c[a.RICH_CONTAINER]={component:this,data:f};var m=this.options["on"+e];"function"==typeof m&&(l=m.call(b,c));a.Event&&(j=a.Event.callHandler(this,
e,f));!1!=j&&!1!=l&&(j=!0);return j},destroy:function(){}}}(f));a.BaseNonVisualComponent=function(a){this.id=a;this.options=this.options||{}};a.BaseNonVisualComponent.extend=function(e,c){return b(a.BaseNonVisualComponent,e,c)};a.BaseNonVisualComponent.extendClass=function(e){var b=e.init||a.blankFunction;this.extend(b);b.extendClass=this.extendClass;d.extend(b.prototype,e);return b};d.extend(a.BaseNonVisualComponent.prototype,function(){return{name:"BaseNonVisualComponent",toString:function(){var a=
[];this.constructor.$super&&(a[a.length]=this.constructor.$super.toString());a[a.length]=this.name;return a.join(", ")},getValue:function(){},attachToDom:function(e){e=e||this.id;if(e=a.getDomElement(e)){var b=e[a.RICH_CONTAINER]=e[a.RICH_CONTAINER]||{};if(!b.attachedComponents)b.attachedComponents={};b.attachedComponents[this.name]=this}return e},detach:function(e){e=e||this.id;(e=a.getDomElement(e))&&e[a.RICH_CONTAINER]&&(e[a.RICH_CONTAINER].attachedComponents[this.name]=null)},destroy:function(){}}}(f))})(jQuery,
window.RichFaces||(window.RichFaces={}));
(function(d,a){a.ui=a.ui||{};a.ui.Base=function(c,b,e){this.namespace="."+a.Event.createNamespace(this.name,c);f.constructor.call(this,c);this.options=d.extend(this.options,e,b);this.attachToDom();this.__bindEventHandlers()};a.BaseComponent.extend(a.ui.Base);var f=a.ui.Base.$super;d.extend(a.ui.Base.prototype,{__bindEventHandlers:function(){},destroy:function(){a.Event.unbindById(this.id,this.namespace);f.destroy.call(this)}})})(jQuery,window.RichFaces||(window.RichFaces={}));
(function(d){function a(a){a=d.event.fix(a);return{width:0,height:0,left:a.pageX,top:a.pageY}}function f(a){var a=d(a),e=a.offset(),b={width:a.outerWidth(),height:a.outerHeight(),left:Math.floor(e.left),top:Math.floor(e.top)};if(1<a.length)for(var c,g,f=1;f<a.length;f++)if(e=a.eq(f),"none"!=e.css("display")){c=e.outerWidth();g=e.outerHeight();var e=e.offset(),r=b.left-e.left;if(0>r){if(c-r>b.width)b.width=c-r}else b.width+=r;r=b.top-e.top;if(0>r){if(g-r>b.height)b.height=g-r}else b.height+=r;if(e.left<
b.left)b.left=e.left;if(e.top<b.top)b.top=e.top}return b}function c(a,e,b,c){var d={},g=c.charAt(0);if("L"==g)d.left=a.left;else if("R"==g)d.left=a.left+a.width;g=c.charAt(1);if("T"==g)d.top=a.top;else if("B"==g)d.top=a.top+a.height;g=c.charAt(2);if("L"==g)d.left-=e[0],d.right=d.left,d.left-=b.width;else if("R"==g)d.left+=e[0],d.right=d.left+b.width;g=c.charAt(3);if("T"==g)d.top-=e[1],d.bottom=d.top,d.top-=b.height;else if("B"==g)d.top+=e[1],d.bottom=d.top+b.height;return d}d.fn.setPosition=function(i,
h){var l=typeof i;if("object"==l||"string"==l){var j={},j="string"==l||i.nodeType||i instanceof jQuery||"undefined"!=typeof i.length?f(i):i.type?a(i):i.id?f(document.getElementById(i.id)):i,h=h||{},m=d.extend({},e,h.type||h.from||h.to?d.PositionTypes[h.type||b]:{noPositionType:!0},h);if(!m.noPositionType){if(2<m.from.length)m.from=g[m.from.toLowerCase()];if(2<m.to.length)m.to=g[m.to.toLowerCase()]}return this.each(function(){element=d(this);var a=j,e=element,b=e.width(),g=e.height();a.width=a.width||
0;a.height=a.height||0;var i=parseInt(e.css("left"),10);if(isNaN(i)||0==i)i=0,e.css("left","0px");if(isNaN(a.left))a.left=i;var f=parseInt(e.css("top"),10);if(isNaN(f)||0==f)f=0,e.css("top","0px");if(isNaN(a.top))a.top=f;var h={};if(m.noPositionType)h.left=a.left+a.width+m.offset[0],h.top=a.top+m.offset[1];else{var l=d(window),h=l.scrollLeft(),p=l.scrollTop(),o;o=h+l.width();l=p+l.height();var w=m.offset,b={width:b,height:g},g=0,y,F,v,B,x,I=m.from+m.to;if(0>I.indexOf("A"))h=c(a,w,b,I);else{for(var M=
"AAAA"==I,J=0;J<m.auto.length;J++){if(M)B=m.auto[J];else{B=I;x=m.auto[J];v="";for(var G=void 0;v.length<B.length;)G=B.charAt(v.length),v+="A"==G?x.charAt(v.length):G;B=v}v=c(a,w,b,B);B=v.left;x=v.top;if(v.left>=h&&v.top>=p&&v.right<=o&&v.bottom<=l)v=0;else{var G=v.left>h?v.left:h,K=v.top>p?v.top:p;v=((v.right<o?v.right==v.left?G:v.right:o)-G)*((v.bottom<l?v.bottom==v.top?K:v.bottom:l)-K)}if(0!=v)0<=B&&0<=x&&g<v&&(y=B,F=x,g=v);else break}if(0!=v&&(0>B||0>x||g>v))B=y,x=F;h={left:B,top:x}}}var a=!1,
L,H;if("none"==e.css("display"))a=!0,H=e.get(0),L=H.style.visibility,H.style.visibility="hidden",H.style.display="block";y=e.offset();if(a)H.style.visibility=L,H.style.display="none";h.left+=i-Math.floor(y.left);h.top+=f-Math.floor(y.top);i!=h.left&&e.css("left",h.left+"px");f!=h.top&&e.css("top",h.top+"px")})}return this};var b="TOOLTIP",e={collision:"",offset:[0,0]},g={"top-left":"LT","top-right":"RT","bottom-left":"LB","bottom-right":"RB","top-auto":"AT","bottom-auto":"AB","auto-left":"LA","auto-right":"RA",
"auto-auto":"AA"};d.PositionTypes={TOOLTIP:{from:"AA",to:"AA",auto:"RTRT,RBRT,LTRT,RTLT,LTLT,LBLT,RTRB,RBRB,LBRB,RBLB".split(",")},DROPDOWN:{from:"AA",to:"AA",auto:["LBRB","LTRT","RBLB","RTLT"]},DDMENUGROUP:{from:"AA",to:"AA",auto:["RTRB","RBRT","LTLB","LBLT"]}};d.addPositionType=function(a,e){d.PositionTypes[a]=e}})(jQuery);if(!window.RichFaces)window.RichFaces={};
(function(d,a){var f=function(a){var e=a;try{e=eval(a)}catch(b){}return e},c=function(a,e){var b=a||f(e);b instanceof d||(b=d(b||""));return b},b=function(a){return function(){c(null,a.selector)[a.attachType||"bind"](a.event,null,new Function("event",a.query))}},e=function(a){var e=new Function("options","arguments[1]."+a.query);return function(){var b,d;1==arguments.length?d=arguments[0]:(b=arguments[0],d=arguments[1]);b=c(b,a.selector);e.call(this,d,b)}},g=function(a){return a.event?b(a):e(a)};
a.jQuery={createFunction:g,query:function(a){"immediate"==a.timing?g(a).call(this):d(document).ready(g(a))}}})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.DragIndicator=function(a,b){f.constructor.call(this,a);this.attachToDom(a);this.indicator=d(document.getElementById(a));this.options=b};a.BaseComponent.extend(a.ui.DragIndicator);var f=a.ui.DragIndicator.$super;d.extend(a.ui.DragIndicator.prototype,function(){return{show:function(){this.indicator.show()},hide:function(){this.indicator.hide()},getAcceptClass:function(){return this.options.acceptClass},getRejectClass:function(){return this.options.rejectClass},getDraggingClass:function(){return this.options.draggingClass},
getElement:function(){return this.indicator}}}())})(jQuery,window.RichFaces);
(function(d,a){for(var f=["debug","info","warn","error"],c={debug:"debug",info:"info ",warn:"warn ",error:"error"},b={debug:1,info:2,warn:3,error:4},e={__import:function(a,e){if(a===document)return e;for(var b=d(),c=0;c<e.length;c++)if(a.importNode)b=b.add(a.importNode(e[c],!0));else{var g=a.createElement("div");g.innerHTML=e[c].outerHTML;for(g=g.firstChild;g;g=g.nextSibling)b=b.add(g)}return b},__getStyles:function(){var a=jQuery("head");if(0==a.length)return"";try{var e=a.clone();if(e.children().length==
a.children().length)return e.children(":not(style):not(link[rel='stylesheet'])").remove().end().html();var b=[];a.children("style, link[rel='stylesheet']").each(function(){b.push(this.outerHTML)});return b.join("")}catch(c){return""}},__openPopup:function(){if(!this.__popupWindow||this.__popupWindow.closed){this.__popupWindow=open("","_richfaces_logWindow","height=400, width=600, resizable = yes, status=no, scrollbars = yes, statusbar=no, toolbar=no, menubar=no, location=no");var a=this.__popupWindow.document;
a.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>'+this.__getStyles()+"</head><body onunload='window.close()'><div id='richfaces.log' clas='rf-log rf-log-popup'></div></body></html>");a.close();this.__initializeControls(a)}else this.__popupWindow.focus()},__hotkeyHandler:function(a){a.ctrlKey&&a.shiftKey&&(this.hotkey||"l").toLowerCase()==String.fromCharCode(a.keyCode).toLowerCase()&&
this.__openPopup()},__getTimeAsString:function(){var a=new Date;return this.__lzpad(a.getHours(),2)+":"+this.__lzpad(a.getMinutes(),2)+":"+this.__lzpad(a.getSeconds(),2)+"."+this.__lzpad(a.getMilliseconds(),3)},__lzpad:function(a,e){for(var a=a.toString(),b=[],c=0;c<e-a.length;c++)b.push("0");b.push(a);return b.join("")},__getMessagePrefix:function(a){return c[a]+"["+this.__getTimeAsString()+"]: "},__setLevelFromSelect:function(a){this.setLevel(a.target.value)},__initializeControls:function(a){var e=
d("#richfaces\\.log",a),b=e.children("button.rf-log-element");0==b.length&&(b=d("<button type='button' class='rf-log-element'>Clear</button>",a).appendTo(e));b.click(d.proxy(this.clear,this));b=e.children("select.rf-log-element");0==b.length&&(b=d("<select class='rf-log-element' name='richfaces.log' />",a).appendTo(e));if(0==b.children().length)for(var c=0;c<f.length;c++)d("<option value='"+f[c]+"'>"+f[c]+"</option>",a).appendTo(b);b.val(this.getLevel());b.change(d.proxy(this.__setLevelFromSelect,
this));b=e.children(".rf-log-contents");0==b.length&&(b=d("<div class='rf-log-contents'></div>",a).appendTo(e));this.__contentsElement=b},__append:function(a){var e=this.__contentsElement;if("popup"==this.mode){var b=this.__popupWindow.document;d(b.createElement("div")).appendTo(e).append(this.__import(b,a))}else d(document.createElement("div")).appendTo(e).append(a)},__log:function(a,e){if("console"==this.mode)console[a]("RichFaces: "+e);else if(this.__contentsElement&&b[a]>=b[this.getLevel()]){var c=
d(),c=c.add(d("<span class='rf-log-entry-lbl rf-log-entry-lbl-"+a+"'></span>").text(this.__getMessagePrefix(a))),g=d("<span class='rf-log-entry-msg rf-log-entry-msg-"+a+"'></span>");"object"!=typeof e||!e.appendTo?g.text(e):e.appendTo(g);c=c.add(g);this.__append(c)}},init:function(e){i.constructor.call(this,"richfaces.log");this.attachToDom();a.setLog(this);e=e||{};this.level=e.level;this.hotkey=e.hotkey;this.mode=e.mode||"inline";if("console"!=this.mode)"popup"==this.mode?(this.__boundHotkeyHandler=
d.proxy(this.__hotkeyHandler,this),d(document).bind("keydown",this.__boundHotkeyHandler)):this.__initializeControls(document)},destroy:function(){a.setLog(null);this.__popupWindow&&this.__popupWindow.close();this.__popupWindow=null;if(this.__boundHotkeyHandler)d(document).unbind("keydown",this.__boundHotkeyHandler),this.__boundHotkeyHandler=null;this.__contentsElement=null;i.destroy.call(this)},setLevel:function(a){this.level=a;this.clear()},getLevel:function(){return this.level||"info"},clear:function(){this.__contentsElement&&
this.__contentsElement.children().remove()}},g=0;g<f.length;g++)e[f[g]]=function(){var a=f[g];return function(e){this.__log(a,e)}}();a.HtmlLog=a.BaseComponent.extendClass(e);var i=a.HtmlLog.$super;jQuery(document).ready(function(){"undefined"!=typeof jsf&&function(a,e,b){var c=function(e){var b="<"+e.tagName.toLowerCase(),e=a(e);e.attr("id")&&(b+=" id="+e.attr("id"));e.attr("class")&&(b+=" class="+e.attr("class"));return b+" ...>"},d=function(e,b){var c=a(b);e.append("Element <b>"+b.nodeName+"</b>");
c.attr("id")&&e.append(document.createTextNode(" for id="+c.attr("id")));a(document.createElement("br")).appendTo(e);a("<span class='rf-log-entry-msg-xml'></span>").appendTo(e).text(c.toXML());a(document.createElement("br")).appendTo(e)},g=function(e){var b=a(document.createElement("span"));e.children().each(function(){var e=a(this);e.is("changes")?(b.append("Listing content of response <b>changes</b> element:<br />"),e.children().each(function(){d(b,this)})):d(b,this)});return b},i=function(b){try{var d=
e.log,j=b.source,i=b.type,f=b.responseXML,q=b.responseText;if("error"!=i){if(d.info("Received '"+i+"' event from "+c(j)),"beforedomupdate"==i){var s;f&&(s=a(f).children("partial-response"));var w=a("<span>Server returned responseText: </span><span class='rf-log-entry-msg-xml'></span>").eq(1).text(q).end();s&&s.length?(d.debug(w),d.info(g(s))):d.info(w)}}else d.error("Received '"+i+"@"+b.status+"' event from "+c(j)),d.error("["+b.responseCode+"] "+b.errorName+": "+b.errorMessage)}catch(y){}},i=e.createJSFEventsAdapter({begin:i,
beforedomupdate:i,success:i,complete:i,error:i});b.ajax.addOnEvent(i);b.ajax.addOnError(i)}(jQuery,RichFaces,jsf)})})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.Poll=function(c,b){f.constructor.call(this,c,b);this.id=c;this.attachToDom();this.interval=b.interval||1E3;this.ontimer=b.ontimer;this.pollElement=a.getDomElement(this.id);a.ui.pollTracker=a.ui.pollTracker||{};b.enabled&&this.startPoll()};a.BaseComponent.extend(a.ui.Poll);var f=a.ui.Poll.$super;d.extend(a.ui.Poll.prototype,function(){return{name:"Poll",startPoll:function(){this.stopPoll();var c=this;a.ui.pollTracker[c.id]=window.setTimeout(function(){try{c.ontimer.call(c.pollElement||
window),c.startPoll()}catch(a){}},c.interval)},stopPoll:function(){a.ui.pollTracker&&a.ui.pollTracker[this.id]&&(window.clearTimeout(a.ui.pollTracker[this.id]),delete a.ui.pollTracker[this.id])},setZeroRequestDelay:function(a){if("undefined"==typeof a.requestDelay)a.requestDelay=0},destroy:function(){this.stopPoll();this.detach(this.id);f.destroy.call(this)}}}())})(jQuery,RichFaces);
function toolbarHandlers(d){d.id&&d.events&&jQuery(".rf-tb-itm",document.getElementById(d.id)).bind(d.events);if((d=d.groups)&&0<d.length){var a,f;for(f in d)if(a=d[f]){var c=a.ids,b,e=[];for(b in c)e.push(document.getElementById(c[b]));jQuery(e).bind(a.events)}}}
(function(d,a){var f=function(a){return a?"richfaces:ajaxStatus@"+a:"richfaces:ajaxStatus"},c=function(e,b){if(b)for(var c=d.statusName,h=e.source,l=!1,j=f(c),c=c?[a(document)]:[a(h).parents("form"),a(document)],h=0;h<c.length&&!l;h++){var m=c[h],q=m.data(j);if(q){for(var r in q){var s=q[r];s[b].apply(s,arguments)?l=!0:delete q[r]}l||m.removeData(j)}}},b=function(){var a=arguments.callee;if(!a.initialized)a.initialized=!0,a=d.createJSFEventsAdapter({begin:function(a){c(a,"start")},error:function(a){c(a,
"error")},success:function(a){c(a,"success")},complete:function(){d.setGlobalStatusNameVariable(null)}}),jsf.ajax.addOnEvent(a),jsf.ajax.addOnError(a)};d.ui=d.ui||{};d.ui.Status=d.BaseComponent.extendClass({name:"Status",init:function(a,b){this.id=a;this.attachToDom();this.options=b||{};this.register()},register:function(){b();var e=this.options.statusName,c=f(e);e?e=a(document):(e=a(d.getDomElement(this.id)).parents("form"),0==e.length&&(e=a(document)));var i=e.data(c);i||(i={},e.data(c,i));i[this.id]=
this},start:function(){this.options.onstart&&this.options.onstart.apply(this,arguments);return this.__showHide(".rf-st-start")},stop:function(){this.__stop();return this.__showHide(".rf-st-stop")},success:function(){this.options.onsuccess&&this.options.onsuccess.apply(this,arguments);return this.stop()},error:function(){this.options.onerror&&this.options.onerror.apply(this,arguments);this.__stop();return this.__showHide(":not(.rf-st-error) + .rf-st-stop, .rf-st-error")},__showHide:function(e){var b=
a(d.getDomElement(this.id));return b?(b.children().each(function(){var b=a(this);b.css("display",b.is(e)?"":"none")}),!0):!1},__stop:function(){this.options.onstop&&this.options.onstop.apply(this,arguments)}})})(window.RichFaces,jQuery);
(function(d,a){a.ui=a.ui||{};a.ui.DataTable=function(a,b){f.constructor.call(this,a);this.options=d.extend(this.options,b||{});this.attachToDom()};a.BaseComponent.extend(a.ui.DataTable);var f=a.ui.DataTable.$super;d.extend(a.ui.DataTable,{SORTING:"rich:sorting",FILTERING:"rich:filtering",SUBTABLE_SELECTOR:".rf-cst"});d.extend(a.ui.DataTable.prototype,function(){var c=function(a,e,c,d){var f={},a=this.id+a;f[a]=e+":"+(c||"")+":"+d;e=this.options.ajaxEventOption;for(a in e)f[a]||(f[a]=e[a]);return f};
return{name:"RichFaces.ui.DataTable",sort:function(b,e,d){b=c.call(this,a.ui.DataTable.SORTING,b,e,d);a.ajax(this.id,null,{parameters:b})},clearSorting:function(){this.sort("","",!0)},filter:function(b,e,d){b=c.call(this,a.ui.DataTable.FILTERING,b,e,d);a.ajax(this.id,null,{parameters:b})},clearFiltering:function(){this.filter("","",!0)},expandAllSubTables:function(){this.invokeOnSubTables("expand")},collapseAllSubTables:function(){this.invokeOnSubTables("collapse")},switchSubTable:function(a){this.getSubTable(a).switchState()},
getSubTable:function(b){return a.$(b)},invokeOnSubTables:function(b){var e=this.invokeOnComponent;d(document.getElementById(this.id)).children(a.ui.DataTable.SUBTABLE_SELECTOR).each(function(){if(this.firstChild&&this.firstChild[a.RICH_CONTAINER]&&this.firstChild[a.RICH_CONTAINER].component){var c=this.firstChild[a.RICH_CONTAINER].component;c instanceof RichFaces.ui.CollapsibleSubTable&&e(c,b)}})},invokeOnSubTable:function(a,e){this.invokeOnComponent(this.getSubTable(a),e)},invokeOnComponent:function(a,
e){if(a){var c=a[e];"function"==typeof c&&c.call(a)}},destroy:function(){f.destroy.call(this)}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.CollapsibleSubTable=function(c,b,e){this.id=c;this.stateInput=e.stateInput;this.optionsInput=e.optionsInput;this.expandMode=e.expandMode||a.ui.CollapsibleSubTable.MODE_CLNT;this.eventOptions=e.eventOptions;this.formId=b;this.attachToDom()};d.extend(a.ui.CollapsibleSubTable,{MODE_AJAX:"ajax",MODE_SRV:"server",MODE_CLNT:"client",collapse:0,expand:1});a.BaseComponent.extend(a.ui.CollapsibleSubTable);var f=a.ui.CollapsibleSubTable.$super;d.extend(a.ui.CollapsibleSubTable.prototype,
function(){return{name:"CollapsibleSubTable",switchState:function(c,b){if(this.expandMode==a.ui.CollapsibleSubTable.MODE_AJAX){var e=this.eventOptions;this.__switchState();a.ajax(this.id,c,e)}else this.expandMode==a.ui.CollapsibleSubTable.MODE_SRV?(this.__switchState(),d(document.getElementById(this.formId)).submit()):this.expandMode==a.ui.CollapsibleSubTable.MODE_CLNT&&(this.isExpanded()?this.collapse(b):this.expand(b))},collapse:function(){this.setState(a.ui.CollapsibleSubTable.collapse);d(document.getElementById(this.id)).parent().hide()},
expand:function(){this.setState(a.ui.CollapsibleSubTable.expand);d(document.getElementById(this.id)).parent().show()},isExpanded:function(){return parseInt(this.getState())==a.ui.CollapsibleSubTable.expand},__switchState:function(){this.setState(this.isExpanded()?a.ui.CollapsibleSubTable.collapse:a.ui.CollapsibleSubTable.expand)},getState:function(){return d(document.getElementById(this.stateInput)).val()},setState:function(a){d(document.getElementById(this.stateInput)).val(a)},setOption:function(a){d(document.getElementById(this.optionsInput)).val(a)},
getMode:function(){return this.expandMode},destroy:function(){f.destroy.call(this)}}}())})(jQuery,window.RichFaces);
(function(d,a){a.Event=a.Event||{};var f=function(e){if(!e)throw"RichFaces.Event: empty selector";return RichFaces.BaseComponent&&e instanceof RichFaces.BaseComponent?d(a.getDomElement(e.getEventElement())):d(e)},c=function(e,b){return function(c,d){c[a.RICH_CONTAINER]||(c[a.RICH_CONTAINER]={data:d});return b.call(e||this,c,this,d)}},b=function(a,b){var d={},f;for(f in a)d[f]=c(b,a[f]);return d};d.extend(a.Event,{RICH_NAMESPACE:"RICH",EVENT_NAMESPACE_SEPARATOR:".",MESSAGE_EVENT_TYPE:"onmessage",ready:function(a){return d(document).ready(a)},
bind:function(a,d,i,h,l){if("object"==typeof d)f(a).bind(b(d,i),l);else return i=c(h,i),f(a).bind(d,l,i),i},bindById:function(a,g,i,f,l){if("object"==typeof g)d(document.getElementById(a)).bind(b(g,i),l);else{var j=c(f,i);d(document.getElementById(a)).bind(g,l,j)}return j},bindOne:function(a,b,d,h,l){d=c(h,d);f(a).one(b,l,d);return d},bindOneById:function(a,b,i,f,l){i=c(f,i);d(document.getElementById(a)).one(b,l,i);return i},unbind:function(a,b,c){return f(a).unbind(b,c)},unbindById:function(a,b,
c){return d(document.getElementById(a)).unbind(b,c)},bindScrollEventHandlers:function(e,b,c){for(var d=[],e=a.getDomElement(e).parentNode;e&&e!=window.document.body;){if(e.offsetWidth!=e.scrollWidth||e.offsetHeight!=e.scrollHeight)d.push(e),a.Event.bind(e,"scroll"+c.getNamespace(),b,c);e=e.parentNode}return d},unbindScrollEventHandlers:function(e,b){a.Event.unbind(e,"scroll"+b.getNamespace())},fire:function(a,b,c){b=d.Event(b);f(a).trigger(b,[c]);return!b.isDefaultPrevented()},fireById:function(a,
b,c){b=d.Event(b);d(document.getElementById(a)).trigger(b,[c]);return!b.isDefaultPrevented()},callHandler:function(a,b,c){return f(a).triggerHandler(b,[c])},callHandlerById:function(a,b,c){return d(document.getElementById(a)).triggerHandler(b,[c])},createNamespace:function(b,c,d){var f=[];f.push(d||a.Event.RICH_NAMESPACE);b&&f.push(b);c&&f.push(c);return f.join(a.Event.EVENT_NAMESPACE_SEPARATOR)}})})(jQuery,window.RichFaces||(window.RichFaces={}));
(function(d){function a(a){var b=a||window.event,e=[].slice.call(arguments,1),g=0,f=0,h=0,a=d.event.fix(b);a.type="mousewheel";a.wheelDelta&&(g=a.wheelDelta/120);a.detail&&(g=-a.detail/3);h=g;void 0!==b.axis&&b.axis===b.HORIZONTAL_AXIS&&(h=0,f=-1*g);void 0!==b.wheelDeltaY&&(h=b.wheelDeltaY/120);void 0!==b.wheelDeltaX&&(f=-1*b.wheelDeltaX/120);e.unshift(a,g,f,h);return d.event.handle.apply(this,e)}var f=["DOMMouseScroll","mousewheel"];d.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var c=
f.length;c;)this.addEventListener(f[--c],a,!1);else this.onmousewheel=a},teardown:function(){if(this.removeEventListener)for(var c=f.length;c;)this.removeEventListener(f[--c],a,!1);else this.onmousewheel=null}};d.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
(function(d,a){a.ui=a.ui||{};var f=function(a,b,e){var f,b=function(a){a.data.fn.call(a.data.component,a)},j={};j.component=e;for(f in a){var m=d(document.getElementById(f));j.id=f;j.page=a[f];j.element=m;j.fn=e.processClick;m.bind("click",c(j),b)}},c=function(a){var b,e={};for(b in a)e[b]=a[b];return e},b=function(a,b){"mousedown"==b.type?a.addClass("rf-ds-press"):("mouseup"==b.type||"mouseout"==b.type)&&a.removeClass("rf-ds-press")};a.ui.DataScroller=function(a,c,h){e.constructor.call(this,a);var l=
this.attachToDom();this.options=h;this.currentPage=h.currentPage;c&&"function"==typeof c&&RichFaces.Event.bindById(a,this.getScrollEventName(),c);a={};h.buttons&&(d(l).delegate(".rf-ds-btn","mouseup mousedown mouseout",function(a){d(this).hasClass("rf-ds-dis")?d(this).removeClass("rf-ds-press"):b(d(this),a)}),f(h.buttons.left,a,this),f(h.buttons.right,a,this));h.digitals&&(d(l).delegate(".rf-ds-nmb-btn","mouseup mousedown mouseout",function(a){b(d(this),a)}),f(h.digitals,a,this))};a.BaseComponent.extend(a.ui.DataScroller);
var e=a.ui.DataScroller.$super;d.extend(a.ui.DataScroller.prototype,function(){return{name:"RichFaces.ui.DataScroller",processClick:function(a){if(a=a.data)(a=a.page)&&this.switchToPage(a)},switchToPage:function(a){"undefined"!=typeof a&&null!=a&&RichFaces.Event.fireById(this.id,this.getScrollEventName(),{page:a})},fastForward:function(){this.switchToPage("fastforward")},fastRewind:function(){this.switchToPage("fastrewind")},next:function(){this.switchToPage("next")},previous:function(){this.switchToPage("previous")},
first:function(){this.switchToPage("first")},last:function(){this.switchToPage("last")},getScrollEventName:function(){return"rich:datascroller:onscroll"},destroy:function(){e.destroy.call(this)}}}())})(jQuery,window.RichFaces);
(function(d,a){function f(a){return!d(a).parents().andSelf().filter(function(){return"hidden"===d.curCSS(this,"visibility")||d.expr.filters.hidden(this)}).length}d.ui=d.ui||{};d.ui.version||(d.extend(d.ui,{version:"1.8.6",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),d.fn.extend({_focus:d.fn.focus,focus:function(a,b){return"number"===typeof a?this.each(function(){var e=this;setTimeout(function(){d(e).focus();b&&b.call(e)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=d.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.curCSS(this,
"position",1))&&/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?d(document):a},zIndex:function(c){if(c!==a)return this.css("zIndex",c);if(this.length)for(var c=d(this[0]),b;c.length&&c[0]!==document;){b=c.css("position");if("absolute"===
b||"relative"===b||"fixed"===b)if(b=parseInt(c.css("zIndex"),10),!isNaN(b)&&0!==b)return b;c=c.parent()}return 0},disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),d.each(["Width","Height"],function(c,b){function e(a,b,e,c){d.each(g,function(){b-=parseFloat(d.curCSS(a,"padding"+this,!0))||0;e&&(b-=parseFloat(d.curCSS(a,"border"+
this+"Width",!0))||0);c&&(b-=parseFloat(d.curCSS(a,"margin"+this,!0))||0)});return b}var g="Width"===b?["Left","Right"]:["Top","Bottom"],f=b.toLowerCase(),h={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+b]=function(c){return c===a?h["inner"+b].call(this):this.each(function(){d(this).css(f,e(this,c)+"px")})};d.fn["outer"+b]=function(a,c){return"number"!==typeof a?h["outer"+b].call(this,a):this.each(function(){d(this).css(f,
e(this,a,!0,c)+"px")})}}),d.extend(d.expr[":"],{data:function(a,b,e){return!!d.data(a,e[3])},focusable:function(a){var b=a.nodeName.toLowerCase(),e=d.attr(a,"tabindex");if("area"===b){b=a.parentNode;e=b.name;if(!a.href||!e||"map"!==b.nodeName.toLowerCase())return!1;a=d("img[usemap=#"+e+"]")[0];return!!a&&f(a)}return(/input|select|textarea|button|object/.test(b)?!a.disabled:"a"==b?a.href||!isNaN(e):!isNaN(e))&&f(a)},tabbable:function(a){var b=d.attr(a,"tabindex");return(isNaN(b)||0<=b)&&d(a).is(":focusable")}}),
d(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));d.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});d.support.minHeight=100===b.offsetHeight;d.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"}),d.extend(d.ui,{plugin:{add:function(a,b,e){var a=d.ui[a].prototype,g;for(g in e)a.plugins[g]=a.plugins[g]||[],a.plugins[g].push([b,e[g]])},call:function(a,b,e){if((b=a.plugins[b])&&a.element[0].parentNode)for(var d=0;d<b.length;d++)a.options[b[d][0]]&&
b[d][1].apply(a.element,e)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,b){if("hidden"===d(a).css("overflow"))return!1;var e=b&&"left"===b?"scrollLeft":"scrollTop",g=!1;if(0<a[e])return!0;a[e]=1;g=0<a[e];a[e]=0;return g},isOverAxis:function(a,b,e){return a>b&&a<b+e},isOver:function(a,b,e,g,f,h){return d.ui.isOverAxis(a,e,f)&&d.ui.isOverAxis(b,g,h)}}))})(jQuery);
(function(d,a){if(d.cleanData){var f=d.cleanData;d.cleanData=function(a){for(var e=0,c;null!=(c=a[e]);e++)d(c).triggerHandler("remove");f(a)}}else{var c=d.fn.remove;d.fn.remove=function(a,e){return this.each(function(){e||(!a||d.filter(a,[this]).length)&&d("*",this).add([this]).each(function(){d(this).triggerHandler("remove")});return c.call(d(this),a,e)})}}d.widget=function(a,e,c){var f=a.split(".")[0],h,a=a.split(".")[1];h=f+"-"+a;if(!c)c=e,e=d.Widget;d.expr[":"][h]=function(e){return!!d.data(e,
a)};d[f]=d[f]||{};d[f][a]=function(a,b){arguments.length&&this._createWidget(a,b)};e=new e;e.options=d.extend(!0,{},e.options);d[f][a].prototype=d.extend(!0,e,{namespace:f,widgetName:a,widgetEventPrefix:d[f][a].prototype.widgetEventPrefix||a,widgetBaseClass:h},c);d.widget.bridge(a,d[f][a])};d.widget.bridge=function(b,e){d.fn[b]=function(c){var f="string"===typeof c,h=Array.prototype.slice.call(arguments,1),l=this,c=!f&&h.length?d.extend.apply(null,[!0,c].concat(h)):c;if(f&&"_"===c.charAt(0))return l;
f?this.each(function(){var e=d.data(this,b),m=e&&d.isFunction(e[c])?e[c].apply(e,h):e;if(m!==e&&m!==a)return l=m,!1}):this.each(function(){var a=d.data(this,b);a?a.option(c||{})._init():d.data(this,b,new e(c,this))});return l}};d.Widget=function(a,e){arguments.length&&this._createWidget(a,e)};d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,e){d.data(e,this.widgetName,this);this.element=d(e);this.options=d.extend(!0,{},this.options,this._getCreateOptions(),
a);var c=this;this.element.bind("remove."+this.widgetName,function(){c.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return d.metadata&&d.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},
option:function(b,e){var c=b;if(0===arguments.length)return d.extend({},this.options);if("string"===typeof b){if(e===a)return this.options[b];c={};c[b]=e}this._setOptions(c);return this},_setOptions:function(a){var e=this;d.each(a,function(a,b){e._setOption(a,b)});return this},_setOption:function(a,e){this.options[a]=e;"disabled"===a&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",e);return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,e,c){var f=this.options[a],e=d.Event(e);e.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();c=c||{};if(e.originalEvent)for(var a=d.event.props.length,h;a;)h=d.event.props[--a],e[h]=e.originalEvent[h];this.element.trigger(e,c);return!(d.isFunction(f)&&!1===f.call(this.element[0],e,c)||e.isDefaultPrevented())}}})(jQuery);
(function(d){d.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(d){return a._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(a._preventClickEvent)return a._preventClickEvent=!1,d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(a);this._mouseDownEvent=a;var f=this,c=1==a.which,b="string"==typeof this.options.cancel?d(a.target).parents().add(a.target).filter(this.options.cancel).length:!1;if(!c||b||!this._mouseCapture(a))return!0;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=!0},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted))return a.preventDefault(),
!0;this._mouseMoveDelegate=function(a){return f._mouseMove(a)};this._mouseUpDelegate=function(a){return f._mouseUp(a)};d(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=!0}},_mouseMove:function(a){if(d.browser.msie&&!(9<=document.documentMode)&&!a.button)return this._mouseUp(a);if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();if(this._mouseDistanceMet(a)&&
this._mouseDelayMet(a))(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted)this._mouseStarted=!1,this._preventClickEvent=a.target==this._mouseDownEvent.target,this._mouseStop(a);return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-
a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(d){d.ui=d.ui||{};var a=/left|center|right/,f=/top|center|bottom/,c=d.fn.position,b=d.fn.offset;d.fn.position=function(e){if(!e||!e.of)return c.apply(this,arguments);var e=d.extend({},e),b=d(e.of),i=b[0],h=(e.collision||"flip").split(" "),l=e.offset?e.offset.split(" "):[0,0],j,m,q;9===i.nodeType?(j=b.width(),m=b.height(),q={top:0,left:0}):i.setTimeout?(j=b.width(),m=b.height(),q={top:b.scrollTop(),left:b.scrollLeft()}):i.preventDefault?(e.at="left top",j=m=0,q={top:e.of.pageY,left:e.of.pageX}):
(j=b.outerWidth(),m=b.outerHeight(),q=b.offset());d.each(["my","at"],function(){var b=(e[this]||"").split(" ");1===b.length&&(b=a.test(b[0])?b.concat(["center"]):f.test(b[0])?["center"].concat(b):["center","center"]);b[0]=a.test(b[0])?b[0]:"center";b[1]=f.test(b[1])?b[1]:"center";e[this]=b});1===h.length&&(h[1]=h[0]);l[0]=parseInt(l[0],10)||0;1===l.length&&(l[1]=l[0]);l[1]=parseInt(l[1],10)||0;"right"===e.at[0]?q.left+=j:"center"===e.at[0]&&(q.left+=j/2);"bottom"===e.at[1]?q.top+=m:"center"===e.at[1]&&
(q.top+=m/2);q.left+=l[0];q.top+=l[1];return this.each(function(){var a=d(this),b=a.outerWidth(),c=a.outerHeight(),g=parseInt(d.curCSS(this,"marginLeft",!0))||0,f=parseInt(d.curCSS(this,"marginTop",!0))||0,i=b+g+parseInt(d.curCSS(this,"marginRight",!0))||0,u=c+f+parseInt(d.curCSS(this,"marginBottom",!0))||0,p=d.extend({},q),o;"right"===e.my[0]?p.left-=b:"center"===e.my[0]&&(p.left-=b/2);"bottom"===e.my[1]?p.top-=c:"center"===e.my[1]&&(p.top-=c/2);p.left=parseInt(p.left);p.top=parseInt(p.top);o={left:p.left-
g,top:p.top-f};d.each(["left","top"],function(a,g){if(d.ui.position[h[a]])d.ui.position[h[a]][g](p,{targetWidth:j,targetHeight:m,elemWidth:b,elemHeight:c,collisionPosition:o,collisionWidth:i,collisionHeight:u,offset:l,my:e.my,at:e.at})});d.fn.bgiframe&&a.bgiframe();a.offset(d.extend(p,{using:e.using}))})};d.ui.position={fit:{left:function(a,b){var c=d(window),c=b.collisionPosition.left+b.collisionWidth-c.width()-c.scrollLeft();a.left=0<c?a.left-c:Math.max(a.left-b.collisionPosition.left,a.left)},
top:function(a,b){var c=d(window),c=b.collisionPosition.top+b.collisionHeight-c.height()-c.scrollTop();a.top=0<c?a.top-c:Math.max(a.top-b.collisionPosition.top,a.top)}},flip:{left:function(a,b){if("center"!==b.at[0]){var c=d(window),c=b.collisionPosition.left+b.collisionWidth-c.width()-c.scrollLeft(),f="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,l="left"===b.at[0]?b.targetWidth:-b.targetWidth,j=-2*b.offset[0];a.left+=0>b.collisionPosition.left?f+l+j:0<c?f+l+j:0}},top:function(a,
b){if("center"!==b.at[1]){var c=d(window),c=b.collisionPosition.top+b.collisionHeight-c.height()-c.scrollTop(),f="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,l="top"===b.at[1]?b.targetHeight:-b.targetHeight,j=-2*b.offset[1];a.top+=0>b.collisionPosition.top?f+l+j:0<c?f+l+j:0}}}};if(!d.offset.setOffset)d.offset.setOffset=function(a,b){if(/static/.test(d.curCSS(a,"position")))a.style.position="relative";var c=d(a),f=c.offset(),l=parseInt(d.curCSS(a,"top",!0),10)||0,j=parseInt(d.curCSS(a,
"left",!0),10)||0,f={top:b.top-f.top+l,left:b.left-f.left+j};"using"in b?b.using.call(a,f):c.css(f)},d.fn.offset=function(a){var c=this[0];return!c||!c.ownerDocument?null:a?this.each(function(){d.offset.setOffset(this,a)}):b.call(this)}})(jQuery);
(function(d,a){a.ui.Message=function(a,b){f.constructor.call(this,a,b,c);this.options.isMessages?(this.severityClasses=["rf-msgs-inf","rf-msgs-wrn","rf-msgs-err","rf-msgs-ftl"],this.summaryClass="rf-msgs-sum",this.detailClass="rf-msgs-dtl"):(this.severityClasses=["rf-msg-inf","rf-msg-wrn","rf-msg-err","rf-msg-ftl"],this.summaryClass="rf-msg-sum",this.detailClass="rf-msg-dtl")};a.ui.Base.extend(a.ui.Message);var f=a.ui.Message.$super,c={showSummary:!0,level:0,isMessages:!1,globalOnly:!1},b=function(b,
c,f){c=d(a.getDomElement(this.id));b=f.sourceId;f=f.message;if(this.options.forComponentId)this.options.forComponentId===b&&(c.empty(),e.call(this,b,f));else if(!f||this.options.globalOnly)for(;c=a.getDomElement(this.id+":"+b);)d(c).remove();else e.call(this,b,f)},e=function(b,e){if(e&&e.severity>=this.options.level){var c=d(a.getDomElement(this.id)),f=d("<span/>",{"class":this.severityClasses[e.severity],id:this.id+":"+b});e.summary&&(this.options.tooltip?f.attr("title",e.summary):this.options.showSummary&&
f.append(d("<span/>",{"class":this.summaryClass}).text(e.summary)));this.options.showDetail&&e.detail&&f.append(d("<span/>",{"class":this.detailClass}).text(e.detail));c.append(f)}};d.extend(a.ui.Message.prototype,{name:"Message",__bindEventHandlers:function(){a.Event.bind(window.document,a.Event.MESSAGE_EVENT_TYPE+this.namespace,b,this)},destroy:function(){a.Event.unbind(window.document,a.Event.MESSAGE_EVENT_TYPE+this.namespace);f.destroy.call(this)}})})(jQuery,window.RichFaces||(window.RichFaces=
{}));
(function(d,a){d.ui=d.ui||{};d.ui.InputNumberSlider=d.BaseComponent.extendClass({name:"InputNumberSlider",delay:200,maxValue:100,minValue:0,step:1,tabIndex:0,decreaseSelectedClass:"rf-insl-dec-sel",handleSelectedClass:"rf-insl-hnd-sel",increaseSelectedClass:"rf-insl-inc-sel",init:function(d,c,b){$superInputNumberSlider.constructor.call(this,d);a.extend(this,c);this.range=this.maxValue-this.minValue;this.id=d;this.element=a(this.attachToDom());this.input=this.element.children(".rf-insl-inp-cntr").children(".rf-insl-inp");this.track=
this.element.children(".rf-insl-trc-cntr").children(".rf-insl-trc");this.handleContainer=this.track.children("span");this.handle=this.handleContainer.children(".rf-insl-hnd, .rf-insl-hnd-dis");this.tooltip=this.element.children(".rf-insl-tt");d=Number(this.input.val());if(isNaN(d))d=this.minValue;this.handleContainer.css("display","block");this.track.css("padding-right",this.handle.width()+"px");this.__setValue(d,null,!0);if(!this.disabled){this.decreaseButton=this.element.children(".rf-insl-dec");
this.increaseButton=this.element.children(".rf-insl-inc");this.track[0].tabIndex=this.tabIndex;for(var e in b)this[e]+=" "+b[e];b=a.proxy(this.__inputHandler,this);this.input.change(b);this.input.submit(b);this.element.mousewheel(a.proxy(this.__mousewheelHandler,this));this.track.keydown(a.proxy(this.__keydownHandler,this));this.decreaseButton.mousedown(a.proxy(this.__decreaseHandler,this));this.increaseButton.mousedown(a.proxy(this.__increaseHandler,this));this.track.mousedown(a.proxy(this.__mousedownHandler,
this))}},decrease:function(a){var c=this.value-this.step,c=this.roundFloat(c);this.setValue(c,a)},increase:function(a){var c=this.value+this.step,c=this.roundFloat(c);this.setValue(c,a)},getValue:function(){return this.value},setValue:function(a,c){this.disabled||this.__setValue(a,c)},roundFloat:function(a){var c=this.step.toString(),b=0;if(/\./.test(c))b=c.length-c.indexOf(".")-1;else{if(1<=this.step)return a;/e/.test(c)&&(b=c.split("-")[1])}a=a.toFixed(b);return parseFloat(a)},__setValue:function(a,
c,b){if(!isNaN(a)){if(a>this.maxValue)a=this.maxValue;else if(a<this.minValue)a=this.minValue;if(a!=this.value)this.input.val(a),this.handleContainer.css("padding-left",100*(a-this.minValue)/this.range+"%"),this.tooltip.text(a),this.tooltip.setPosition(this.handle,{from:"LT",offset:[0,5]}),this.value=a,this.onchange&&!b&&this.onchange.call(this.element[0],c)}},__inputHandler:function(a){var c=Number(this.input.val());isNaN(c)?this.input.val(this.value):this.__setValue(c,a)},__mousewheelHandler:function(a,
c,b,e){c=b||e;0<c?this.increase(a):0>c&&this.decrease(a);return!1},__keydownHandler:function(a){if(37==a.keyCode){var c=Number(this.input.val())-this.step,c=this.roundFloat(c);this.__setValue(c,a);a.preventDefault()}else 39==a.keyCode&&(c=Number(this.input.val())+this.step,c=this.roundFloat(c),this.__setValue(c,a),a.preventDefault())},__decreaseHandler:function(d){var c=this;c.decrease(d);this.intervalId=window.setInterval(function(){c.decrease(d)},this.delay);a(document).one("mouseup",!0,a.proxy(this.__clearInterval,
this));this.decreaseButton.addClass(this.decreaseSelectedClass);d.preventDefault()},__increaseHandler:function(d){var c=this;c.increase(d);this.intervalId=window.setInterval(function(){c.increase(d)},this.delay);a(document).one("mouseup",a.proxy(this.__clearInterval,this));this.increaseButton.addClass(this.increaseSelectedClass);d.preventDefault()},__clearInterval:function(a){window.clearInterval(this.intervalId);a.data?this.decreaseButton.removeClass(this.decreaseSelectedClass):this.increaseButton.removeClass(this.increaseSelectedClass)},
__mousedownHandler:function(d){this.__mousemoveHandler(d);this.track.focus();d=a(document);d.mousemove(a.proxy(this.__mousemoveHandler,this));d.one("mouseup",a.proxy(this.__mouseupHandler,this));this.handle.addClass(this.handleSelectedClass);this.tooltip.show()},__mousemoveHandler:function(a){var c=this.range*(a.pageX-this.track.offset().left-this.handle.width()/2)/(this.track.width()-this.handle.width())+this.minValue,c=Math.round(c/this.step)*this.step,c=this.roundFloat(c);this.__setValue(c,a);
a.preventDefault()},__mouseupHandler:function(){this.handle.removeClass(this.handleSelectedClass);this.tooltip.hide();a(document).unbind("mousemove",this.__mousemoveHandler)},destroy:function(){a(document).unbind("mousemove",this.__mousemoveHandler);$superInputNumberSlider.destroy.call(this)}});$superInputNumberSlider=d.ui.InputNumberSlider.$super})(window.RichFaces,jQuery);
(function(d,a){a.ui=a.ui||{};a.ui.CollapsibleSubTableToggler=function(a,c){this.id=a;this.eventName=c.eventName;this.expandedControl=c.expandedControl;this.collapsedControl=c.collapsedControl;this.forId=c.forId;(this.element=d(document.getElementById(this.id)))&&this.eventName&&this.element.bind(this.eventName,d.proxy(this.switchState,this))};d.extend(a.ui.CollapsibleSubTableToggler.prototype,function(){return{switchState:function(d){var c=a.$(this.forId);if(c){var b=c.getMode();a.ui.CollapsibleSubTable.MODE_CLNT==
b&&this.toggleControl(c.isExpanded());c.setOption(this.id);c.switchState(d)}},toggleControl:function(a){var c=d(document.getElementById(this.expandedControl)),b=d(document.getElementById(this.collapsedControl));a?(c.hide(),b.show()):(b.hide(),c.show())}}}())})(jQuery,window.RichFaces);
(function(d,a){var f=["rf-tr-nd-colps","rf-tr-nd-exp"],c=["rf-trn-hnd-colps","rf-trn-hnd-exp"],b=["rf-trn-ico-colps","rf-trn-ico-exp"];a.ui=a.ui||{};a.ui.TreeNode=a.BaseComponent.extendClass({name:"TreeNode",init:function(b,c){e.constructor.call(this,b);this.__rootElt=d(this.attachToDom());this.__children=[];this.__initializeChildren(c);var g=(c.clientEventHandlers||{})[this.getId().substring(c.treeId.length)]||{};g.bth&&a.Event.bind(this.__rootElt,"beforetoggle",new Function("event",g.bth));g.th&&
a.Event.bind(this.__rootElt,"toggle",new Function("event",g.th));this.__addLastNodeClass()},destroy:function(){if(this.parent)this.parent.removeChild(this),this.parent=null;this.__clientToggleStateInput=null;this.__clearChildren();this.__rootElt=null;e.destroy.call(this)},__initializeChildren:function(b){var e=this;this.__rootElt.children(".rf-tr-nd").each(function(){e.addChild(new a.ui.TreeNode(this,b))})},__addLastNodeClass:function(){0==this.__rootElt.next("div").length&&this.__rootElt.addClass("rf-tr-nd-last")},
__getNodeContainer:function(){return this.__rootElt.find(" > .rf-trn:first")},__getHandle:function(){return this.__getNodeContainer().find(" > .rf-trn-hnd:first")},__getContent:function(){return this.__getNodeContainer().find(" > .rf-trn-cnt:first")},__getIcons:function(){return this.__getContent().find(" > .rf-trn-ico")},getParent:function(){return this.__parent},setParent:function(a){this.__parent=a},addChild:function(a,b){this.__children.splice("undefined"!=typeof b?b:this.__children.length,0,
a);a.setParent(this)},removeChild:function(a){if(this.__children.length&&(a=this.__children.indexOf(a),-1!=a&&(a=this.__children.splice(a,1))))for(var b=0;b<a.length;b++)a[b].setParent(void 0)},__clearChildren:function(){for(var a=0;a<this.__children.length;a++)this.__children[a].setParent(void 0);this.__children=[]},isExpanded:function(){return!this.isLeaf()&&this.__rootElt.hasClass("rf-tr-nd-exp")},isCollapsed:function(){return!this.isLeaf()&&this.__rootElt.hasClass("rf-tr-nd-colps")},isLeaf:function(){return this.__rootElt.hasClass("rf-tr-nd-lf")},
__canBeToggled:function(){return!this.isLeaf()&&!this.__rootElt.hasClass("rf-tr-nd-exp-nc")&&!this.__loading},toggle:function(){this.__canBeToggled()&&(this.isCollapsed()?this.expand():this.collapse())},__updateClientToggleStateInput:function(a){if(!this.__clientToggleStateInput)this.__clientToggleStateInput=d("<input type='hidden' />").appendTo(this.__rootElt).attr({name:this.getId()+"__NEW_NODE_TOGGLE_STATE"});this.__clientToggleStateInput.val(a.toString())},__fireBeforeToggleEvent:function(){return a.Event.callHandler(this.__rootElt,
"beforetoggle")},__fireToggleEvent:function(){a.Event.callHandler(this.__rootElt,"toggle")},__makeLoading:function(){this.__loading=!0;this.__getNodeContainer().addClass("rf-trn-ldn")},__resetLoading:function(){this.__loading=!1;this.__getNodeContainer().removeClass("rf-trn-ldn")},__changeToggleState:function(a){if(!this.isLeaf()&&a^this.isExpanded()&&!1!==this.__fireBeforeToggleEvent()){var e=this.getTree();switch(e.getToggleType()){case "client":this.__rootElt.addClass(f[a?1:0]).removeClass(f[!a?
1:0]);this.__getHandle().addClass(c[a?1:0]).removeClass(c[!a?1:0]);e=this.__getIcons();1==e.length&&e.addClass(b[a?1:0]).removeClass(b[!a?1:0]);this.__updateClientToggleStateInput(a);this.__fireToggleEvent();break;case "ajax":case "server":e.__sendToggleRequest(null,this,a)}}},collapse:function(){this.__changeToggleState(!1)},expand:function(){this.__changeToggleState(!0)},__setSelected:function(a){var b=this.__getContent();a?b.addClass("rf-trn-sel"):b.removeClass("rf-trn-sel");this.__selected=a},
isSelected:function(){return this.__selected},getTree:function(){return this.getParent().getTree()},getId:function(){return this.__rootElt.attr("id")}});var e=a.ui.TreeNode.$super;a.ui.TreeNode.initNodeByAjax=function(b,e){var c=d(document.getElementById(b)),j=e||{},g=c.parent(".rf-tr-nd, .rf-tr"),f=c.prevAll(".rf-tr-nd").length,g=a.$(g[0]);j.treeId=g.getTree().getId();c=new a.ui.TreeNode(c[0],j);g.addChild(c,f);g.getTree().getSelection().contains(c.getId())&&c.__setSelected(!0)};a.ui.TreeNode.emitToggleEvent=
function(b){(b=document.getElementById(b))&&a.$(b).__fireToggleEvent()};a.ui.Tree=a.ui.TreeNode.extendClass({name:"Tree",init:function(b,e){this.__treeRootElt=d(a.getDomElement(b));var c={};c.clientEventHandlers=e.clientEventHandlers||{};c.treeId=b;g.constructor.call(this,this.__treeRootElt,c);this.__toggleType=e.toggleType||"ajax";this.__selectionType=e.selectionType||"client";if(e.ajaxSubmitFunction)this.__ajaxSubmitFunction=new Function("event","source","params","complete",e.ajaxSubmitFunction);
e.onbeforeselectionchange&&a.Event.bind(this.__treeRootElt,"beforeselectionchange",new Function("event",e.onbeforeselectionchange));e.onselectionchange&&a.Event.bind(this.__treeRootElt,"selectionchange",new Function("event",e.onselectionchange));(this.__toggleNodeEvent=e.toggleNodeEvent)&&this.__treeRootElt.delegate(".rf-trn",this.__toggleNodeEvent,this,this.__nodeToggleActivated);(!this.__toggleNodeEvent||"click"!=this.__toggleNodeEvent)&&this.__treeRootElt.delegate(".rf-trn-hnd","click",this,this.__nodeToggleActivated);
this.__treeRootElt.delegate(".rf-trn-cnt","mousedown",this,this.__nodeSelectionActivated);this.__findSelectionInput();this.__selection=new a.ui.TreeNodeSet(this.__selectionInput.val());d(document).ready(d.proxy(this.__updateSelectionFromInput,this))},__findSelectionInput:function(){this.__selectionInput=d(" > .rf-tr-sel-inp",this.__treeRootElt)},__addLastNodeClass:function(){},destroy:function(){this.__toggleNodeEvent&&this.__treeRootElt.undelegate(".rf-trn",this.__toggleNodeEvent,this,this.__nodeToggleActivated);
(!this.__toggleNodeEvent||"click"!=this.__toggleNodeEvent)&&this.__treeRootElt.undelegate(".rf-trn-hnd","click",this,this.__nodeToggleActivated);this.__treeRootElt.undelegate(".rf-trn-cnt","mousedown",this.__nodeSelectionActivated);this.__ajaxSubmitFunction=this.__selectionInput=this.__treeRootElt=null;g.destroy.call(this)},__nodeToggleActivated:function(b){b.data==a.$(d(this).closest(".rf-tr"))&&a.$(d(this).closest(".rf-tr-nd")).toggle()},__nodeSelectionActivated:function(b){var e=b.data;if(e==a.$(d(this).closest(".rf-tr"))){var c=
a.$(d(this).closest(".rf-tr-nd"));b.ctrlKey?e.__toggleSelection(c):e.__addToSelection(c)}},__sendToggleRequest:function(b,e,c){var d=e.getId(),g={};g[d+"__NEW_NODE_TOGGLE_STATE"]=c;"server"==this.getToggleType()?(b=this.__treeRootElt.closest("form"),a.submitForm(b,g)):(e.__makeLoading(),g[d+"__TRIGGER_NODE_AJAX_UPDATE"]=c,this.__ajaxSubmitFunction(b,d,g,function(){var b=a.$(d);b&&b.__resetLoading()}))},getToggleType:function(){return this.__toggleType},getSelectionType:function(){return this.__selectionType},
getTree:function(){return this},__handleSelectionChange:function(b){var e={oldSelection:this.getSelection().getNodes(),newSelection:b.getNodes()};!1!==a.Event.callHandler(this.__treeRootElt,"beforeselectionchange",e)&&(this.__selectionInput.val(b.getNodeString()),"client"==this.getSelectionType()?this.__updateSelection(b):this.__ajaxSubmitFunction(null,this.getId()))},__toggleSelection:function(a){this.__handleSelectionChange(this.getSelection().cloneAndToggle(a))},__addToSelection:function(a){this.__handleSelectionChange(this.getSelection().cloneAndAdd(a))},
__updateSelectionFromInput:function(){this.__findSelectionInput();this.__updateSelection(new a.ui.TreeNodeSet(this.__selectionInput.val()))},__updateSelection:function(b){var e=this.getSelection();e.each(function(){this.__setSelected(!1)});b.each(function(){this.__setSelected(!0)});e.getNodeString()!=b.getNodeString()&&a.Event.callHandler(this.__treeRootElt,"selectionchange",{oldSelection:e.getNodes(),newSelection:b.getNodes()});this.__selection=b},getSelection:function(){return this.__selection},
contextMenuAttach:function(b){var e="[id='"+this.id[0].id+"'] ",e=e+("undefined"===typeof b.options.targetSelector?".rf-trn-cnt":b.options.targetSelector),e=jQuery.trim(e);a.Event.bind(e,b.options.showEvent,d.proxy(b.__showHandler,b),b)}});var g=a.ui.Tree.$super;a.ui.TreeNodeSet=function(){this.init.apply(this,arguments)};d.extend(a.ui.TreeNodeSet.prototype,{init:function(a){this.__nodeId=a},contains:function(a){return a.getId?this.__nodeId==a.getId():this.__nodeId==a},getNodeString:function(){return this.__nodeId},
toString:function(){return this.getNodeString()},getNodes:function(){if(this.__nodeId){var b=a.$(this.__nodeId);return b?[b]:null}return[]},cloneAndAdd:function(b){return new a.ui.TreeNodeSet(b.getId())},cloneAndToggle:function(b){b=this.contains(b)?"":b.getId();return new a.ui.TreeNodeSet(b)},each:function(a){d.each(this.getNodes()||[],a)}})})(jQuery,RichFaces);
(function(d,a){function f(a){this.comp=a}a.ui=a.ui||{};f.prototype={exec:function(b,e){if("server"==e.switchMode)return this.execServer(b,e);if("ajax"==e.switchMode)return this.execAjax(b,e);if("client"==e.switchMode)return this.execClient(b,e);a.log.error("SwitchItems.exec : unknown switchMode ("+this.comp.switchMode+")")},execServer:function(b,e){if(b&&!b.__leave())return!1;this.__setActiveItem(e.getName());a.submitForm(this.__getParentForm());return!1},execAjax:function(b,e){var c=d.extend({},
this.comp.options.ajax,{});this.__setActiveItem(e.getName());a.ajax(this.comp.id,null,c);b&&this.__setActiveItem(b.getName());return!1},execClient:function(a,e){if(a&&!a.__leave())return!1;this.__setActiveItem(e.getName());e.__enter();this.comp.__fireItemChange(a,e);return!0},__getParentForm:function(){return d(a.getDomElement(this.comp.id)).parents("form:first")},__setActiveItem:function(b){a.getDomElement(this.__getValueInputId()).value=b;this.comp.activeItem=b},__getValueInputId:function(){return this.comp.id+
"-value"}};a.ui.TogglePanel=a.BaseComponent.extendClass({name:"TogglePanel",init:function(a,e){c.constructor.call(this,a);this.attachToDom();this.items=[];this.options=d.extend(this.options,e||{});this.activeItem=this.options.activeItem;this.__addUserEventHandler("itemchange");this.__addUserEventHandler("beforeitemchange")},getSelectItem:function(){return this.activeItem},switchToItem:function(b){var e=this.getNextItem(b);if(null==e)return a.log.warn("TogglePanel.switchToItems("+b+"): item with name '"+
b+"' not found"),!1;var c=this.__getItemByName(this.getSelectItem());return!this.__fireBeforeItemChange(c,e)?(a.log.warn("TogglePanel.switchToItems("+b+"): switch has been canceled by beforeItemChange event"),!1):this.__itemsSwitcher().exec(c,e)},getNextItem:function(a){if(a){var e=this.__ITEMS_META_NAMES[a];return e?this.__getItem(e(this)):this.__getItemByName(a)}return this.__getItemByName(this.nextItem())},onCompleteHandler:function(a){var e=this.__getItemByName(this.activeItem),a=this.__getItemByName(a);
this.__itemsSwitcher().execClient(e,a)},getItems:function(){return this.items},getItemsNames:function(){for(var a=[],e=0;e<this.items.length;e++)a.push(this.items[e].getName());return a},nextItem:function(a){a=this.__getItemIndex(a||this.activeItem);return-1==a?null:this.__getItemName(a+1)},firstItem:function(){return this.__getItemName(0)},lastItem:function(){return this.__getItemName(this.items.length-1)},prevItem:function(a){a=this.__getItemIndex(a||this.activeItem);return!this.options.cycledSwitching&&
1>a?null:this.__getItemName(a-1)},__itemsSwitcher:function(){return new f(this)},__ITEMS_META_NAMES:function(){function a(b,c,d){for(;(!b.items[c]||b.items[c].disabled)&&c<b.items.length&&0<c;)c+=d;return c}return{"@first":function(e){return a(e,0,1)},"@prev":function(e){return a(e,parseInt(e.__getItemIndex(e.activeItem))-1,-1)},"@next":function(e){return a(e,parseInt(e.__getItemIndex(e.activeItem))+1,1)},"@last":function(e){return a(e,e.items.length-1,-1)}}}(),__getItemIndex:function(b){for(var e,
c=0;c<this.items.length;c++)if(e=this.items[c],!e.disabled&&e.getName()===b)return c;a.log.info("TogglePanel.getItemIndex: item with name '"+b+"' not found");return-1},__addUserEventHandler:function(b){var e=this.options["on"+b];e&&a.Event.bindById(this.id,b,e)},__getItem:function(a){if(this.options.cycledSwitching){var e=this.items.length;return this.items[(e+a)%e]}return 0<=a&&a<this.items.length?this.items[a]:null},__getItemByName:function(a){return this.__getItem(this.__getItemIndex(a))},__getItemName:function(a){a=
this.__getItem(a);return null==a?null:a.getName()},__fireItemChange:function(b,e){return new a.Event.fireById(this.id,"itemchange",{id:this.id,oldItem:b,newItem:e})},__fireBeforeItemChange:function(b,e){return a.Event.fireById(this.id,"beforeitemchange",{id:this.id,oldItem:b,newItem:e})}});var c=a.ui.TogglePanel.$super})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};var f=function(a){a.stopPropagation();a.preventDefault()},c={width:-1,height:-1,minWidth:-1,minHeight:-1,modal:!0,moveable:!0,resizeable:!1,autosized:!1,left:"auto",top:"auto",zindex:100,shadowDepth:5,shadowOpacity:0.1,attachToBody:!0};a.ui.PopupPanel=function(e,g){b.constructor.call(this,e);this.markerId=e;this.attachToDom(this.markerId);this.options=d.extend(this.options,c,g||{});this.minWidth=this.getMinimumSize(this.options.minWidth);this.minHeight=this.getMinimumSize(this.options.minHeight);
this.maxWidth=this.options.maxWidth;this.maxHeight=this.options.maxHeight;this.baseZIndex=this.options.zindex;this.div=d(a.getDomElement(e));this.cdiv=d(a.getDomElement(e+"_container"));this.contentDiv=d(a.getDomElement(e+"_content"));this.shadowDiv=d(a.getDomElement(e+"_shadow"));this.shadeDiv=d(a.getDomElement(e+"_shade"));this.scrollerDiv=d(a.getDomElement(e+"_content_scroller"));d(this.shadowDiv).css("opacity",this.options.shadowOpacity);this.shadowDepth=parseInt(this.options.shadowDepth);this.borders=
[];this.firstHref=d(a.getDomElement(e+"FirstHref"));this.options.resizeable&&(this.borders.push(new a.ui.PopupPanel.Border(e+"ResizerN",this,"N-resize",a.ui.PopupPanel.Sizer.N)),this.borders.push(new a.ui.PopupPanel.Border(e+"ResizerE",this,"E-resize",a.ui.PopupPanel.Sizer.E)),this.borders.push(new a.ui.PopupPanel.Border(e+"ResizerS",this,"S-resize",a.ui.PopupPanel.Sizer.S)),this.borders.push(new a.ui.PopupPanel.Border(e+"ResizerW",this,"W-resize",a.ui.PopupPanel.Sizer.W)),this.borders.push(new a.ui.PopupPanel.Border(e+
"ResizerNW",this,"NW-resize",a.ui.PopupPanel.Sizer.NW)),this.borders.push(new a.ui.PopupPanel.Border(e+"ResizerNE",this,"NE-resize",a.ui.PopupPanel.Sizer.NE)),this.borders.push(new a.ui.PopupPanel.Border(e+"ResizerSE",this,"SE-resize",a.ui.PopupPanel.Sizer.SE)),this.borders.push(new a.ui.PopupPanel.Border(e+"ResizerSW",this,"SW-resize",a.ui.PopupPanel.Sizer.SW)));this.options.moveable&&a.getDomElement(e+"_header")?this.header=new a.ui.PopupPanel.Border(e+"_header",this,"move",a.ui.PopupPanel.Sizer.Header):
d(a.getDomElement(e+"_header")).css("cursor","default")};a.BaseComponent.extend(a.ui.PopupPanel);var b=a.ui.PopupPanel.$super;d.extend(a.ui.PopupPanel.prototype,function(){return{name:"PopupPanel",saveInputValues:function(a){d.browser.msie&&d("input[type=checkbox], input[type=radio]",a).each(function(){d(this).defaultChecked=d(this).checked})},width:function(){return this.getContentElement()[0].clientWidth},height:function(){return this.getContentElement()[0].clientHeight},getLeft:function(){return this.cdiv.css("left")},
getTop:function(){return this.cdiv.css("top")},getInitialSize:function(){return this.options.autosized?15:d(a.getDomElement(this.markerId+"_header_content")).height()},getContentElement:function(){if(!this._contentElement)this._contentElement=this.cdiv;return this._contentElement},getSizeElement:function(){return document.body},getMinimumSize:function(a){return Math.max(a,2*this.getInitialSize()+2)},__getParsedOption:function(a,b){var c=parseInt(a[b],10);if(0>c||isNaN(c))c=this[b];return c},destroy:function(){this.parent=
this.firstHref=this.lastOutside=this.firstOutside=this._contentElement=null;if(this.header)this.header.destroy(),this.header=null;for(var a=0;a<this.borders.length;a++)this.borders[a].destroy();this.borders=null;this.domReattached&&this.div.remove();this.eIframe=this.userOptions=this.scrollerDiv=this.shadowDiv=this.contentDiv=this.cdiv=this.div=this.options=this.markerId=null;b.destroy.call(this)},initIframe:function(){this.contentWindow&&d(this.contentWindow.document.body).css("margin","0px 0px 0px 0px");
"transparent"==d(document.body).css("background-color")&&(d(this).css("filter","alpha(opacity=0)"),d(this).css("opacity","0"))},setLeft:function(a){isNaN(a)||this.cdiv.css("left",a+"px")},setTop:function(a){isNaN(a)||this.cdiv.css("top",a+"px")},show:function(b,c){var f=this.cdiv;if(!this.shown&&this.invokeEvent("beforeshow",b,null,f)){this.preventFocus();if(!this.domReattached){this.parent=this.div.parent();var h;if(c)h=c.domElementAttachment;if(!h)h=this.options.domElementAttachment;h="parent"==
h?this.parent:"form"==h?this.findForm(f)[0]||document.body:document.body;h!=this.parent?(this.saveInputValues(f),this.shadeDiv.length&&h.appendChild(this.shadeDiv.get(0)),h.appendChild(this.cdiv.get(0)),this.domReattached=!0):this.parent.show()}h=d("form",f);if(this.options.keepVisualState&&h)for(var l=0;l<h.length;l++)d(h[l]).bind("submit",{popup:this},this.setStateInput);h={};this.userOptions={};d.extend(h,this.options);c&&(d.extend(h,c),d.extend(this.userOptions,c));this.currentMinHeight=this.getMinimumSize(this.__getParsedOption(h,
"minHeight"));this.currentMinWidth=this.getMinimumSize(this.__getParsedOption(h,"minWidth"));l=this.getContentElement();if(!this.options.autosized){if(h.width&&-1==h.width)h.width=300;if(h.height&&-1==h.height)h.height=200}if(h.width&&-1!=h.width){if(this.currentMinWidth>h.width)h.width=this.currentMinWidth;if(h.width>this.maxWidth)h.width=this.maxWidth;d(a.getDomElement(l)).css("width",h.width+(/px/.test(h.width)?"":"px"));this.shadowDiv.css("width",h.width+(/px/.test(h.width)?"":"px"));this.scrollerDiv.css("width",
h.width+(/px/.test(h.width)?"":"px"))}if(h.height&&-1!=h.height){if(this.currentMinHeight>h.height)h.height=this.currentMinHeight;if(h.height>this.maxHeight)h.height=this.maxHeight;d(a.getDomElement(l)).css("height",h.height+(/px/.test(h.height)?"":"px"));l=d(a.getDomElement(this.markerId+"_header"))?d(a.getDomElement(this.markerId+"_header")).innerHeight():0;this.scrollerDiv.css("height",h.height-l+(/px/.test(h.height)?"":"px"))}if(this.options.overlapEmbedObjects&&!this.iframe)this.iframe=this.markerId+
"IFrame",d('<iframe src="javascript:\'\'" frameborder="0" scrolling="no" id="'+this.iframe+'" class="rf-pp-ifr" style="width:'+this.options.width+"px; height:"+this.options.height+'px;"></iframe>').insertBefore(d(":first-child",this.cdiv)[0]),l=d(a.getDomElement(this.iframe)),l.bind("load",this.initIframe),this.eIframe=l;if(h.left){if("auto"!=h.left)l=parseInt(h.left,10);else var l=this.__calculateWindowWidth(),j=this.width(),l=l>=j?(l-j)/2:0;this.setLeft(Math.round(l));d(this.shadowDiv).css("left",
this.shadowDepth)}h.top&&("auto"!=h.top?h=parseInt(h.top,10):(h=this.__calculateWindowHeight(),l=this.height(),h=h>=l?(h-l)/2:0),this.setTop(Math.round(h)),d(this.shadowDiv).css("top",this.shadowDepth),d(this.shadowDiv).css("bottom",-this.shadowDepth));this.div.css("visibility","");this.div.css("display","block");this.options.autosized&&this.shadowDiv.css("width",this.cdiv[0].clientWidth);h={};h.parameters=c||{};this.shown=!0;this.invokeEvent("show",h,null,f)}},__calculateWindowHeight:function(){var a=
document.documentElement;return self.innerHeight||a&&a.clientHeight||document.body.clientHeight},__calculateWindowWidth:function(){var a=document.documentElement;return self.innerWidth||a&&a.clientWidth||document.body.clientWidth},startDrag:function(){var b=document.body;"undefined"!=typeof b.onselectstart?d(a.getDomElement(b)).bind("selectstart",f):d(a.getDomElement(b)).bind("mousedown",f)},firstOnfocus:function(a){(a=d(a.data.popup.firstHref))&&a.focus()},processAllFocusElements:function(a,b){var c=
-1,d;if(a.focus&&1==a.nodeType&&(d=a.tagName)&&-1!=(c="|a|input|select|button|textarea|".indexOf(d.toLowerCase()))&&"|"==="|a|input|select|button|textarea|".charAt(c-1)&&"|"==="|a|input|select|button|textarea|".charAt(c+d.length)&&!a.disabled&&"hidden"!=a.type)b.call(this,a);else if(a!=this.cdiv.get(0))for(c=a.firstChild;c;)(!c.style||"none"!=c.style.display)&&this.processAllFocusElements(c,b),c=c.nextSibling},processTabindexes:function(a){if(!this.firstOutside)this.firstOutside=a;if(!a.prevTabIndex)a.prevTabIndex=
a.tabIndex,a.tabIndex=-1;if(!a.prevAccessKey)a.prevAccessKey=a.accessKey,a.accessKey=""},restoreTabindexes:function(a){if(void 0!=a.prevTabIndex)0==a.prevTabIndex?d(a).removeAttr("tabindex"):a.tabIndex=a.prevTabIndex,a.prevTabIndex=void 0;if(void 0!=a.prevAccessKey)""==a.prevAccessKey?d(a).removeAttr("accesskey"):a.accessKey=a.prevAccessKey,a.prevAccessKey=void 0},preventFocus:function(){this.options.modal&&(this.processAllFocusElements(document,this.processTabindexes),this.firstOutside&&d(a.getDomElement(this.firstOutside)).bind("focus",
{popup:this},this.firstOnfocus))},restoreFocus:function(){if(this.options.modal&&(this.processAllFocusElements(document,this.restoreTabindexes),this.firstOutside))d(a.getDomElement(this.firstOutside)).unbind("focus",this.firstOnfocus),this.firstOutside=null},endDrag:function(){for(var b=0;b<this.borders.length;b++)this.borders[b].show(),this.borders[b].doPosition();b=document.body;"undefined"!=typeof b.onselectstart?d(a.getDomElement(b)).unbind("selectstart",f):d(a.getDomElement(b)).unbind("mousedown",
f)},hide:function(a,b){var c=this.cdiv;this.restoreFocus();if(this.shown&&this.invokeEvent("beforehide",a,null,c)){this.currentMinWidth=this.currentMinHeight=void 0;this.div.hide();if(this.parent&&this.domReattached){this.saveInputValues(c);var f=this.div.get(0);this.shadeDiv.length&&f.appendChild(this.shadeDiv.get(0));f.appendChild(c.get(0));this.domReattached=!1}f={};f.parameters=b||{};var l=d("form",c);if(this.options.keepVisualState&&l)for(var j=0;j<l.length;j++)d(l[j]).unbind("submit",this.setStateInput);
this.shown=!1;this.invokeEvent("hide",f,null,c)}},getStyle:function(b,c){return parseInt(d(a.getDomElement(b)).css(c).replace("px",""),10)},doResizeOrMove:function(a){var b={},c={},f={},l={},j={},m,q=this.getContentElement(),r=m=this.getStyle(q,"width");m+=a.deltaWidth||0;m>=this.currentMinWidth||this.options.autosized?(f.width=m+"px",l.width=m+"px",j.width=m-0+"px"):(f.width=this.currentMinWidth+"px",l.width=this.currentMinWidth+"px",j.width=this.currentMinWidth-0+"px",b.vx=r-this.currentMinWidth,
b.x=!0);if(m>this.options.maxWidth){if(a.deltaWidth)f.width=this.currentMaxWidth+"px",l.width=this.currentMaxWidth+"px",j.width=this.currentMaxWidth-0+"px",b.vx=r-this.currentMaxWidth;b.x=!0}if(b.vx&&a.deltaX)a.deltaX=-b.vx;r=d(this.cdiv);if(a.deltaX&&(b.vx||!b.x)){if(b.vx)a.deltaX=b.vx;m=this.getStyle(r,"left");m+=a.deltaX;c.left=m+"px"}var s=m=this.getStyle(q,"height");m+=a.deltaHeight||0;if(m>=this.currentMinHeight||this.options.autosized){if(a.deltaHeight)f.height=m+"px",l.height=m+"px",j.height=
m-22+"px"}else{if(a.deltaHeight)f.height=this.currentMinHeight+"px",l.height=this.currentMinHeight+"px",j.height=this.currentMinHeight-22+"px",b.vy=s-this.currentMinHeight;b.y=!0}if(m>this.options.maxHeight){if(a.deltaHeight)f.height=this.currentMaxHeight+"px",l.height=this.currentMaxHeight+"px",j.height=this.currentMaxHeight-22+"px",b.vy=s-this.currentMaxHeight;b.y=!0}if(b.vy&&a.deltaY)a.deltaY=-b.vy;if(a.deltaY&&(b.vy||!b.y)&&b.vy)a.deltaY=b.vy;if(a.deltaY&&(b.vy||!b.y)){if(b.vy)a.deltaY=b.vy;m=
this.getStyle(r,"top");m+=a.deltaY;c.top=m+"px"}q.css(f);this.scrollerDiv.css(j);this.eIframe&&this.eIframe.css(j);this.shadowDiv.css(l);r.css(c);this.shadowDiv.css({});d.extend(this.userOptions,c);d.extend(this.userOptions,f);a=this.width();c=this.height();this.reductionData=null;if(a<=2*this.getInitialSize())this.reductionData={},this.reductionData.w=a;if(c<=2*this.getInitialSize()){if(!this.reductionData)this.reductionData={};this.reductionData.h=c}this.header&&this.header.doPosition();return b},
setSize:function(b,c){var d=b-this.width(),f=c-this.height();this.doResizeOrMove(new a.ui.PopupPanel.Sizer.Diff(0,0,d,f))},moveTo:function(a,b){this.cdiv.css("top",a);this.cdiv.css("left",b)},move:function(b,c){this.doResizeOrMove(new a.ui.PopupPanel.Sizer.Diff(b,c,0,0))},resize:function(b,c){this.doResizeOrMove(new a.ui.PopupPanel.Sizer.Diff(0,0,b,c))},findForm:function(a){for(;a;)if(a[0]&&(!a[0].tagName||"form"!=a[0].tagName.toLowerCase()))a=d(a).parent();else break;return a},setStateInput:function(a){var b=
a.data.popup;target=d(b.findForm(a.currentTarget));var c=document.createElement("input");c.type="hidden";c.id=b.markerId+"OpenedState";c.name=b.markerId+"OpenedState";c.value=b.shown?"true":"false";target.append(c);d.each(b.userOptions,function(a,e){c=document.createElement("input");c.type="hidden";c.id=b.markerId+"StateOption_"+a;c.name=b.markerId+"StateOption_"+a;c.value=e;target.append(c)});return!0}}}());d.extend(a.ui.PopupPanel,{showPopupPanel:function(b){a.Event.ready(function(){a.$(b).show()})},
hidePopupPanel:function(b){a.Event.ready(function(){a.$(b).hide()})}})})(jQuery,window.RichFaces);
(function(d,a){a.ui.NotifyMessage=function(a,b,e){f.constructor.call(this,a,b,c);this.notifyOptions=e};a.ui.Base.extend(a.ui.NotifyMessage);var f=a.ui.NotifyMessage.$super,c={showSummary:!0,level:0,isMessages:!1,globalOnly:!1},b=function(a,b,c){a=c.sourceId;c=c.message;this.options.forComponentId?this.options.forComponentId===a&&c&&c.severity>=this.options.level&&e.call(this,c):!this.options.globalOnly&&c&&c&&c.severity>=this.options.level&&e.call(this,c)},e=function(a){RichFaces.ui.Notify(d.extend({},
this.notifyOptions,{summary:this.options.showSummary?a.summary:void 0,detail:this.options.showDetail?a.detail:void 0,severity:a.severity}))};d.extend(a.ui.NotifyMessage.prototype,{name:"NotifyMessage",__bindEventHandlers:function(){a.Event.bind(window.document,a.Event.MESSAGE_EVENT_TYPE+this.namespace,b,this)},destroy:function(){a.Event.unbind(window.document,a.Event.MESSAGE_EVENT_TYPE+this.namespace);f.destroy.call(this)}})})(jQuery,window.RichFaces||(window.RichFaces={}));
(function(d,a){d.ui=d.ui||{};d.ui.FileUpload=function(b,g){this.id=b;this.items=[];this.submitedItems=[];a.extend(this,g);if(this.acceptedTypes)this.acceptedTypes=a.trim(this.acceptedTypes).toUpperCase().split(/\s*,\s*/);if(this.maxFilesQuantity)this.maxFilesQuantity=parseInt(a.trim(this.maxFilesQuantity));this.element=a(this.attachToDom());this.form=this.element.parents("form:first");var i=this.element.children(".rf-fu-hdr:first"),h=i.children(".rf-fu-btns-lft:first");this.addButton=h.children(".rf-fu-btn-add:first");
this.uploadButton=this.addButton.next();this.clearButton=h.next().children(".rf-fu-btn-clr:first");this.inputContainer=this.addButton.find(".rf-fu-inp-cntr:first");this.input=this.inputContainer.children("input");this.list=i.next();this.hiddenContainer=this.list.next();this.iframe=this.hiddenContainer.children("iframe:first");this.progressBarElement=this.iframe.next();this.progressBar=d.$(this.progressBarElement);this.cleanInput=this.input.clone();this.addProxy=a.proxy(this.__addItem,this);this.input.change(this.addProxy);
this.addButton.mousedown(f).mouseup(c).mouseout(c);this.uploadButton.click(a.proxy(this.__startUpload,this)).mousedown(f).mouseup(c).mouseout(c);this.clearButton.click(a.proxy(this.__removeAllItems,this)).mousedown(f).mouseup(c).mouseout(c);this.iframe.load(a.proxy(this.__load,this));this.onfilesubmit&&d.Event.bind(this.element,"onfilesubmit",new Function("event",this.onfilesubmit));this.ontyperejected&&d.Event.bind(this.element,"ontyperejected",new Function("event",this.ontyperejected));this.onuploadcomplete&&
d.Event.bind(this.element,"onuploadcomplete",new Function("event",this.onuploadcomplete));this.onclear&&d.Event.bind(this.element,"onclear",new Function("event",this.onclear))};var f=function(){a(this).children(":first").css("background-position","3px 3px").css("padding","4px 4px 2px 22px")},c=function(){a(this).children(":first").css("background-position","2px 2px").css("padding","3px 5px 3px 21px")};d.BaseComponent.extend(d.ui.FileUpload);$.extend(d.ui.FileUpload.prototype,function(){return{name:"FileUpload",
doneLabel:"Done",sizeExceededLabel:"File size is exceeded",stoppedLabel:"",serverErrorLabel:"Server error",clearLabel:"Clear",deleteLabel:"Delete",__addItem:function(){var a=this.input.val(),a=navigator.platform.indexOf("Win")?a.indexOf("C:\\fakepath\\")?a.match(/[^\/]*$/)[0]:a.substr(12):a.match(/[^\\]*$/)[0];if(this.__accept(a)&&(!this.noDuplicate||!this.__isFileAlreadyAdded(a)))this.input.hide(),this.input.unbind("change",this.addProxy),a=new b(this,a),this.list.append(a.getJQuery()),this.items.push(a),
this.input=this.cleanInput.clone(),this.inputContainer.append(this.input),this.input.change(this.addProxy),this.__updateButtons()},__removeItem:function(b){this.items.splice(a.inArray(b,this.items),1);this.submitedItems.splice(a.inArray(b,this.submitedItems),1);this.__updateButtons();d.Event.fire(this.element,"onclear",[b.model])},__removeAllItems:function(){var a=[],b;for(b in this.submitedItems)a.push(this.submitedItems[b].model);for(b in this.items)a.push(this.items[b].model);this.list.empty();
this.items.splice(0,this.items.length);this.submitedItems.splice(0,this.submitedItems.length);this.__updateButtons();d.Event.fire(this.element,"onclear",a)},__updateButtons:function(){!this.loadableItem&&this.list.children(".rf-fu-itm").size()?(this.items.length?this.uploadButton.css("display","inline-block"):this.uploadButton.hide(),this.clearButton.css("display","inline-block")):(this.uploadButton.hide(),this.clearButton.hide());this.maxFilesQuantity&&this.__getTotalItemCount()>=this.maxFilesQuantity?
this.addButton.hide():this.addButton.css("display","inline-block")},__startUpload:function(){this.loadableItem=this.items.shift();this.__updateButtons();this.loadableItem.startUploading()},__submit:function(){var a=this.form.children("input[name='javax.faces.encodedURL']"),a=0<a.length?a.val():this.form.attr("action"),b=this.form.attr("encoding"),c=this.form.attr("enctype");try{var f=-1==a.indexOf("?")?"?":"&";this.form.attr("action",a+f+"rf_fu_uid="+this.loadableItem.uid);this.form.attr("encoding",
"multipart/form-data");this.form.attr("enctype","multipart/form-data");d.submitForm(this.form,{"org.richfaces.ajax.component":this.id},this.id);d.Event.fire(this.element,"onfilesubmit",this.loadableItem.model)}finally{this.form.attr("action",a),this.form.attr("encoding",b),this.form.attr("enctype",c),this.loadableItem.input.removeAttr("name")}},__load:function(b){if(this.loadableItem){var b=b.target.contentWindow.document,b=b.XMLDocument||b,c=b.documentElement,f,h;if("PARTIAL-RESPONSE"==c.tagName.toUpperCase())f=
0<a(c).children("error").length?"serverError":"done";else if((h=c.id)&&0==h.indexOf("rf_fu_uid"+this.loadableItem.uid+":"))f=h.split(":")[1];if(f)if(h={source:this.element[0],_mfInternal:{_mfSourceControlId:this.element.attr("id")}},"done"==f&&jsf.ajax.response({responseXML:b},h),this.loadableItem.finishUploading(f),this.submitedItems.push(this.loadableItem),"done"==f&&this.items.length)this.__startUpload();else{this.loadableItem=null;this.__updateButtons();f=[];for(var l in this.submitedItems)f.push(this.submitedItems[l].model);
for(l in this.items)f.push(this.items[l].model);d.Event.fire(this.element,"onuploadcomplete",f)}}},__accept:function(a){for(var a=a.toUpperCase(),b=!this.acceptedTypes,c=0;!b&&c<this.acceptedTypes.length;c++)b=this.acceptedTypes[c],b=-1!==a.indexOf(b,a.length-b.length);b||d.Event.fire(this.element,"ontyperejected",a);return b},__isFileAlreadyAdded:function(a){for(var b=!1,c=0;!b&&c<this.items.length;c++)b=this.items[c].model.name==a;b=b||this.loadableItem&&this.loadableItem.model.name==a;for(c=0;!b&&
c<this.submitedItems.length;c++)b=this.submitedItems[c].model.name==a;return b},__getTotalItemCount:function(){return this.__getItemCountByState(this.items,"new")+this.__getItemCountByState(this.submitedItems,"done")},__getItemCountByState:function(a){for(var b={},c=0,d=1;d<arguments.length;d++)b[arguments[d]]=!0;for(d=0;d<a.length;d++)b[a[d].model.state]&&c++;return c}}}());var b=function(a,b){this.fileUpload=a;this.input=a.input;this.model={name:b,state:"new"}};a.extend(b.prototype,{getJQuery:function(){this.element=
a('<div class="rf-fu-itm"><span class="rf-fu-itm-lft"><span class="rf-fu-itm-lbl"/><span class="rf-fu-itm-st"/></span><span class="rf-fu-itm-rgh"><a href="javascript:void(0)" class="rf-fu-itm-lnk"/></span></div>');var b=this.element.children(".rf-fu-itm-lft:first");this.label=b.children(".rf-fu-itm-lbl:first");this.state=this.label.nextAll(".rf-fu-itm-st:first");this.link=b.next().children("a");this.label.html(this.model.name);this.link.html(this.fileUpload.deleteLabel);this.link.click(a.proxy(this.removeOrStop,
this));return this.element},removeOrStop:function(){this.input.remove();this.element.remove();this.fileUpload.__removeItem(this)},startUploading:function(){this.state.css("display","block");this.link.html("");this.input.attr("name",this.fileUpload.id);this.model.state="uploading";this.uid=Math.random();this.fileUpload.__submit();if(this.fileUpload.progressBar){this.fileUpload.progressBar.setValue(0);this.state.html(this.fileUpload.progressBarElement.detach());var a={};a.rf_fu_uid_alt=this.uid;this.fileUpload.progressBar.enable(a)}},
finishUploading:function(a){this.fileUpload.progressBar&&(this.fileUpload.progressBar.disable(),this.fileUpload.hiddenContainer.append(this.fileUpload.progressBarElement.detach()));this.input.remove();this.state.html(this.fileUpload[a+"Label"]);this.link.html(this.fileUpload.clearLabel);this.model.state=a}})})(window.RichFaces,jQuery);
(function(d,a){a.Event=a.Event||{};var f=jsf.ajax.request;jsf.ajax.request=function(c,b,e){var g;if("string"===typeof c)g=document.getElementById(c);else if("object"===typeof c)g=c;else throw Error("jsf.request: source must be object or string");(g=d(g).is("form")?c:d("form").has(g).get(0))&&a.Event&&a.Event.callHandler&&a.Event.callHandler(g,"ajaxsubmit");f(c,b,e)}})(jQuery,window.RichFaces||(window.RichFaces={}));
(function(d,a){a.ui=a.ui||{};a.ui.ComponentControl=a.ui.ComponentControl||{};d.extend(a.ui.ComponentControl,{execute:function(d,c){var b=c.target,e=c.selector,g=c.callback;if(c.onbeforeoperation&&"function"==typeof c.onbeforeoperation){var i=c.onbeforeoperation(d);if("false"==i||0==i)return}if(b)for(i=0;i<b.length;i++){var h=document.getElementById(b[i]);h&&a.ui.ComponentControl.invokeOnComponent(d,h,g)}e&&a.ui.ComponentControl.invokeOnComponent(d,e,g)},invokeOnComponent:function(f,c,b){b&&"function"==
typeof b&&d(c).each(function(){var c=a.$(this);c&&b(f,c)})}})})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};var f={interval:1E3,minValue:0,maxValue:100},c={initial:"> .rf-pb-init",progress:"> .rf-pb-rmng",finish:"> .rf-pb-fin"};a.ui.ProgressBar=function(c,g){b.constructor.call(this,c);this.__elt=this.attachToDom();this.options=d.extend(this.options,f,g||{});this.enabled=this.options.enabled;this.minValue=this.options.minValue;this.maxValue=this.options.maxValue;this.__setValue(this.options.value||this.options.minValue);if(this.options.resource)this.__poll();else if(this.options.submitFunction)this.submitFunction=
new Function("beforeUpdateHandler","afterUpdateHandler","params","event",this.options.submitFunction),this.__poll();this.options.onfinish&&a.Event.bind(this.__elt,"finish",new Function("event",this.options.onfinish))};a.BaseComponent.extend(a.ui.ProgressBar);var b=a.ui.ProgressBar.$super;d.extend(a.ui.ProgressBar.prototype,function(){return{name:"ProgressBar",__isInitialState:function(){return parseFloat(this.value)<parseFloat(this.getMinValue())},__isProgressState:function(){return!this.__isInitialState()&&
!this.__isFinishState()},__isFinishState:function(){return parseFloat(this.value)>=parseFloat(this.getMaxValue())},__beforeUpdate:function(a){a.componentData&&"undefined"!=typeof a.componentData[this.id]&&this.setValue(a.componentData[this.id])},__afterUpdate:function(){this.__poll()},__onResourceDataAvailable:function(b){b=a.parseJSON(b);(b instanceof Number||"number"==typeof b)&&this.setValue(b);this.__poll()},__submit:function(){this.submitFunction?this.submitFunction.call(this,d.proxy(this.__beforeUpdate,
this),d.proxy(this.__afterUpdate,this),this.__params||{}):d.get(this.options.resource,this.__params||{},d.proxy(this.__onResourceDataAvailable,this),"text")},__poll:function(a){if(this.enabled)a?this.__submit():this.__pollTimer=setTimeout(d.proxy(this.__submit,this),this.options.interval)},__calculatePercent:function(a){var b=parseFloat(this.getMinValue()),c=parseFloat(this.getMaxValue()),a=parseFloat(a);if(b<a&&a<c)return 100*(a-b)/(c-b);if(a<=b)return 0;if(a>=c)return 100},__getPropertyOrObject:function(a){return d.isPlainObject(a)&&
a.propName?a.propName:a},getValue:function(){return this.value},__showState:function(a){var b=d(c[a],this.__elt);if(0==b.length&&("initial"==a||"finish"==a))b=d(c.progress,this.__elt);b.show().siblings().hide()},__setValue:function(a){this.value=parseFloat(this.__getPropertyOrObject(a,"value"));(this.__isFinishState()||this.__isInitialState())&&this.disable()},__updateVisualState:function(){this.__isInitialState()?this.__showState("initial"):this.__isFinishState()?this.__showState("finish"):this.__showState("progress");
var a=this.__calculatePercent(this.value);d(".rf-pb-prgs",this.__elt).css("width",a+"%")},setValue:function(b){var c=this.__isFinishState();this.__setValue(b);this.__updateVisualState();!c&&this.__isFinishState()&&a.Event.callHandler(this.__elt,"finish")},getMaxValue:function(){return this.maxValue},getMinValue:function(){return this.minValue},isAjaxMode:function(){return!!this.submitFunction||!!this.options.resource},disable:function(){this.__params=null;if(this.__pollTimer)clearTimeout(this.__pollTimer),
this.__pollTimer=null;this.enabled=!1},enable:function(a){if(!this.isEnabled())this.__params=a,this.enabled=!0,this.isAjaxMode()&&this.__poll(!0)},isEnabled:function(){return this.enabled},destroy:function(){this.disable();this.__elt=null;b.destroy.call(this)}}}())})(jQuery,RichFaces);
(function(d,a){d.ui=d.ui||{};d.ui.InputNumberSpinner=d.BaseComponent.extendClass({name:"InputNumberSpinner",cycled:!0,delay:200,maxValue:100,minValue:0,step:1,init:function(c,b){f.constructor.call(this,c);a.extend(this,b);this.element=a(this.attachToDom());this.input=this.element.children(".rf-insp-inp");var e=Number(this.input.val());if(isNaN(e))e=this.minValue;this.__setValue(e,null,!0);if(!this.input.attr("disabled"))e=this.element.children(".rf-insp-btns"),this.decreaseButton=e.children(".rf-insp-dec"),
this.increaseButton=e.children(".rf-insp-inc"),e=a.proxy(this.__inputHandler,this),this.input.change(e),this.input.submit(e),this.input.submit(e),this.input.mousewheel(a.proxy(this.__mousewheelHandler,this)),this.input.keydown(a.proxy(this.__keydownHandler,this)),this.decreaseButton.mousedown(a.proxy(this.__decreaseHandler,this)),this.increaseButton.mousedown(a.proxy(this.__increaseHandler,this))},decrease:function(a){var b=this.value-this.step,b=this.roundFloat(b);if(b<this.minValue&&this.cycled)b=
this.maxValue;this.__setValue(b,a)},increase:function(a){var b=this.value+this.step,b=this.roundFloat(b);if(b>this.maxValue&&this.cycled)b=this.minValue;this.__setValue(b,a)},getValue:function(){return this.value},setValue:function(a){this.input.attr("disabled")||this.__setValue(a)},roundFloat:function(a){var b=this.step.toString(),e=0;if(/\./.test(b))e=b.length-b.indexOf(".")-1;else{if(1<=this.step)return a;/e/.test(b)&&(e=b.split("-")[1])}a=a.toFixed(e);return parseFloat(a)},destroy:function(){if(this.intervalId)window.clearInterval(this.intervalId),
this.decreaseButton.css("backgroundPosition"," 50% 40%").unbind("mouseout",this.destroy).unbind("mouseup",this.destroy),this.increaseButton.css("backgroundPosition"," 50% 40%").unbind("mouseout",this.destroy).unbind("mouseup",this.destroy),this.intervalId=null;f.destroy.call(this)},__setValue:function(a,b,e){if(!isNaN(a)){if(a>this.maxValue)a=this.maxValue,this.input.val(a);else if(a<this.minValue)a=this.minValue,this.input.val(a);if(a!=this.value)this.input.val(a),this.value=a,this.onchange&&!e&&
this.onchange.call(this.element[0],b)}},__inputHandler:function(a){var b=Number(this.input.val());isNaN(b)?this.input.val(this.value):this.__setValue(b,a)},__mousewheelHandler:function(a,b,e,d){b=e||d;0<b?this.increase(a):0>b&&this.decrease(a);return!1},__keydownHandler:function(a){40==a.keyCode?(this.decrease(a),a.preventDefault()):38==a.keyCode&&(this.increase(a),a.preventDefault())},__decreaseHandler:function(c){var b=this;b.decrease(c);this.intervalId=window.setInterval(function(){b.decrease(c)},
this.delay);var e=a.proxy(this.destroy,this);this.decreaseButton.bind("mouseup",e).bind("mouseout",e).css("backgroundPosition","60% 60%");c.preventDefault()},__increaseHandler:function(c){var b=this;b.increase(c);this.intervalId=window.setInterval(function(){b.increase(c)},this.delay);var e=a.proxy(this.destroy,this);this.increaseButton.bind("mouseup",e).bind("mouseout",e).css("backgroundPosition","60% 60%");c.preventDefault()}});var f=d.ui.InputNumberSpinner.$super})(window.RichFaces,jQuery);
(function(d){function a(a){var b="string"==typeof a.data?{key:a.data}:a.data,b=d.extend({},f,b),e=a.handler,g=b.key.toLowerCase().split(" ");if(!(1===g.length&&""===g[0]))a.handler=function(a){var c=String.fromCharCode(a.which).toLowerCase(),f=/textarea|select/i.test(a.target.nodeName)||"text"===a.target.type;if(!(this!==a.target&&f&&!b.enabledInInput)){var j="keypress"!==a.type&&d.hotkeys.specialKeys[a.which],m="",f={};a.altKey&&"alt"!==j&&(m+="alt+");a.ctrlKey&&"ctrl"!==j&&(m+="ctrl+");a.metaKey&&
!a.ctrlKey&&"meta"!==j&&(m+="meta+");a.shiftKey&&"shift"!==j&&(m+="shift+");j?f[m+j]=!0:(f[m+c]=!0,f[m+d.hotkeys.shiftNums[c]]=!0,"shift+"===m&&(f[d.hotkeys.shiftNums[c]]=!0));c=0;for(j=g.length;c<j;c++)if(f[g[c]])return e.apply(this,arguments)}}}d.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",
97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};var f={key:"",enabledInInput:!1};d.each(["keydown","keyup","keypress"],function(){d.event.special[this]=
{add:a}})})(jQuery);
(function(d,a){a.ui=a.ui||{};var f={mode:"server",cssRoot:"ddm",cssClasses:{}};a.ui.MenuItem=function(b,e){this.options={};d.extend(this.options,f,e||{});c.constructor.call(this,b);d.extend(this.options.cssClasses,{itemCss:"rf-"+this.options.cssRoot+"-itm",selectItemCss:"rf-"+this.options.cssRoot+"-itm-sel",unselectItemCss:"rf-"+this.options.cssRoot+"-itm-unsel",labelCss:"rf-"+this.options.cssRoot+"-lbl"});this.attachToDom(b);this.element=d(a.getDomElement(b));a.Event.bindById(this.id,"click",this.__clickHandler,
this);a.Event.bindById(this.id,"mouseenter",this.select,this);a.Event.bindById(this.id,"mouseleave",this.unselect,this);this.selected=!1};a.BaseComponent.extend(a.ui.MenuItem);var c=a.ui.MenuItem.$super;d.extend(a.ui.MenuItem.prototype,function(){return{name:"MenuItem",select:function(){this.element.removeClass(this.options.cssClasses.unselectItemCss);this.element.addClass(this.options.cssClasses.selectItemCss);this.selected=!0},unselect:function(){this.element.removeClass(this.options.cssClasses.selectItemCss);
this.element.addClass(this.options.cssClasses.unselectItemCss);this.selected=!1},activate:function(){this.invokeEvent("click",a.getDomElement(this.id))},isSelected:function(){return this.selected},__clickHandler:function(b){if(!d(b.target).is(":input:not(:button):not(:reset):not(:submit)")){var c=this.__getParentMenu();c&&c.processItem(this.element);var c=a.getDomElement(this.id),g=this.options.params,f=this.__getParentForm(c),h={};h[c.id]=c.id;d.extend(h,g||{});b.form=f;b.itemId=h;this.options.onClickHandler.call(this,
b)}},__getParentForm:function(a){return d(d(a).parents("form").get(0))},__getParentMenu:function(){var b=this.element.parents("div."+this.options.cssClasses.labelCss);return b&&0<b.length?a.$(b):null}}}())})(jQuery,RichFaces);
(function(d,a){d.utils=d.utils||{};d.utils.addCSSText=function(c,b){var e=a("<style></style>").attr({type:"text/css",id:b}).appendTo("head");try{e.html(c)}catch(d){e[0].styleSheet.cssText=c}};d.utils.getCSSRule=function(a){for(var b=null,e=document.styleSheets,d=0;!b&&d<e.length;d++)for(var f=e[d].cssRules?e[d].cssRules:e[d].rules,h=0;!b&&h<f.length;h++)f[h].selectorText&&f[h].selectorText.toLowerCase()==a.toLowerCase()&&(b=f[h]);return b};d.utils.Ranges=function(){this.ranges=[]};d.utils.Ranges.prototype=
{add:function(a){for(var b=0;b<this.ranges.length&&a>=this.ranges[b++][1];);b--;this.ranges[b-1]&&a==this.ranges[b-1][1]+1?a==this.ranges[b][0]-1?(this.ranges[b-1][1]=this.ranges[b][1],this.ranges.splice(b,1)):this.ranges[b-1][1]++:this.ranges[b]?this.ranges[b]&&a==this.ranges[b][0]-1?this.ranges[b][0]--:a==this.ranges[b][1]+1?this.ranges[b][1]++:a<this.ranges[b][1]?this.ranges.splice(b,0,[a,a]):this.ranges.splice(b+1,0,[a,a]):this.ranges.splice(b,0,[a,a])},remove:function(a){for(var b=0;b<this.ranges.length&&
a>this.ranges[b++][1];);b--;this.ranges[b]&&(a==this.ranges[b][1]?a==this.ranges[b][0]?this.ranges.splice(b,1):this.ranges[b][1]--:a==this.ranges[b][0]?this.ranges[b][0]++:(this.ranges.splice(b+1,0,[a+1,this.ranges[b][1]]),this.ranges[b][1]=a-1))},clear:function(){this.ranges=[]},contains:function(a){for(var b=0;b<this.ranges.length&&a>=this.ranges[b][0];){if(a>=this.ranges[b][0]&&a<=this.ranges[b][1])return!0;b++}return!1},toString:function(){for(var a=Array(this.ranges.length),b=0;b<this.ranges.length;b++)a[b]=
this.ranges[b].join();return a.join(";")}};d.ui=d.ui||{};d.ui.ExtendedDataTable=d.BaseComponent.extendClass({name:"ExtendedDataTable",resizeData:{},idOfReorderingColumn:"",timeoutId:null,init:function(c,b,e,g){f.constructor.call(this,c);this.ranges=new d.utils.Ranges;this.rowCount=b;this.ajaxFunction=e;this.options=g||{};this.element=this.attachToDom();this.dragElement=document.getElementById(c+":d");this.reorderElement=document.getElementById(c+":r");this.reorderMarkerElement=document.getElementById(c+
":rm");this.widthInput=document.getElementById(c+":wi");this.newWidths={};this.selectionInput=document.getElementById(c+":si");this.header=a(this.element).children(".rf-edt-hdr");this.headerCells=this.header.find(".rf-edt-hdr-c");this.footerCells=a(this.element).children(".rf-edt-ftr").find(".rf-edt-ftr-c");this.resizerHolders=this.header.find(".rf-edt-rsz-cntr");this.frozenColumnCount=(this.frozenHeaderPartElement=document.getElementById(c+":frozenHeader"))?this.frozenHeaderPartElement.firstChild.rows[0].cells.length:
0;this.headerElement=document.getElementById(c+":header");this.footerElement=document.getElementById(c+":footer");this.scrollElement=document.getElementById(c+":scrl");this.scrollContentElement=document.getElementById(c+":scrl-cnt");document.getElementById(c+":body");this.options.onready&&"function"==typeof this.options.onready&&d.Event.bind(this.element,"rich:ready",this.options.onready);a(document).ready(a.proxy(this.initialize,this));a(window).bind("resize",a.proxy(this.updateLayout,this));a(this.scrollElement).bind("scroll",
a.proxy(this.updateScrollPosition,this));this.bindHeaderHandlers();a(this.element).bind("rich:onajaxcomplete",a.proxy(this.ajaxComplete,this))},getColumnPosition:function(a){for(var b,e=0;e<this.headerCells.length;e++)a==this.headerCells[e].className.match(/rf-edt-c-([^\W]*)/)[1]&&(b=e);return b},setColumnPosition:function(a,b){for(var e="",d,f=0;f<this.headerCells.length;f++){var h=this.headerCells[f].className.match(/rf-edt-c-([^\W]*)/)[1];f==b?e=d?e+(h+","+a+","):e+(a+","+h+","):a!=h?e+=h+",":
d=!0}this.ajaxFunction(null,{"rich:columnsOrder":e})},setColumnWidth:function(a,b){b+="px";d.utils.getCSSRule(".rf-edt-c-"+a).style.width=b;this.newWidths[a]=b;var e=[];for(a in this.newWidths)e.push(a+":"+this.newWidths[a]);this.widthInput.value=e.toString();this.updateLayout();this.adjustResizers();this.ajaxFunction()},filter:function(a,b,e){if("undefined"==typeof b||null==b)b="";var d={};d[this.id+"rich:filtering"]=a+":"+b+":"+e;this.ajaxFunction(null,d)},clearFiltering:function(){this.filter("",
"",!0)},sort:function(a,b,e){"string"==typeof b&&(b=b.toLowerCase());var d={};d[this.id+"rich:sorting"]=a+":"+b+":"+e;this.ajaxFunction(null,d)},clearSorting:function(){this.sort("","",!0)},destroy:function(){a(window).unbind("resize",this.updateLayout);a(d.getDomElement(this.id+":st")).remove();f.destroy.call(this)},bindHeaderHandlers:function(){this.header.find(".rf-edt-rsz").bind("mousedown",a.proxy(this.beginResize,this));this.headerCells.bind("mousedown",a.proxy(this.beginReorder,this))},updateLayout:function(){this.headerCells.height("auto");
var a=0;this.headerCells.each(function(){if(this.clientHeight>a)a=this.clientHeight});this.headerCells.height(a+"px");this.footerCells.height("auto");var b=0;this.footerCells.each(function(){if(this.clientHeight>b)b=this.clientHeight});this.footerCells.height(b+"px");this.normalPartStyle.width="auto";var e=Math.max(0,this.element.clientWidth-(this.frozenHeaderPartElement?this.frozenHeaderPartElement.offsetWidth:0));if(e){var d=this.parts.width();if(d>e)this.normalPartStyle.width=e+"px";this.normalPartStyle.display=
"block";d>e?(this.parts.each(function(){this.style.width=e+"px"}),this.scrollElement.style.display="block",this.scrollElement.style.overflowX="scroll",this.scrollElement.style.width=e+"px",this.scrollContentElement.style.width=d+"px"):(this.parts.each(function(){this.style.width=""}),this.scrollElement.style.display="none")}else this.normalPartStyle.display="none";for(var d=this.element.clientHeight,f=this.element.firstChild;f&&(!f.nodeName||"TABLE"!=f.nodeName.toUpperCase());)f.nodeName&&"DIV"==
f.nodeName.toUpperCase()&&f!=this.bodyElement&&(d-=f.offsetHeight),f=f.nextSibling;if(this.bodyElement.offsetHeight>d||!this.contentElement)this.bodyElement.style.height=d+"px"},adjustResizers:function(){for(var a=this.scrollElement?this.scrollElement.scrollLeft:0,b=this.element.clientWidth-3,e=0;e<this.frozenColumnCount;e++){if(0<b)this.resizerHolders[e].style.display="none",this.resizerHolders[e].style.display="",b-=this.resizerHolders[e].offsetWidth;if(0>=b)this.resizerHolders[e].style.display=
"none"}for(a-=3;e<this.resizerHolders.length;e++){if(0<b)this.resizerHolders[e].style.display="none",0<a?(this.resizerHolders[e].style.display="",a-=this.resizerHolders[e].offsetWidth,0<a?this.resizerHolders[e].style.display="none":b+=a):(this.resizerHolders[e].style.display="",b-=this.resizerHolders[e].offsetWidth);if(0>=b)this.resizerHolders[e].style.display="none"}},updateScrollPosition:function(){if(this.scrollElement){var a=this.scrollElement.scrollLeft;this.parts.each(function(){this.scrollLeft=
a})}this.adjustResizers()},initialize:function(){this.bodyElement=document.getElementById(this.id+":b");this.bodyElement.tabIndex=-1;this.normalPartStyle=d.utils.getCSSRule("div.rf-edt-cnt").style;var c=a(this.bodyElement);if(this.contentElement=c.children("div:not(.rf-edt-ndt):first")[0]){this.spacerElement=this.contentElement.firstChild;this.dataTableElement=this.contentElement.lastChild;this.tbodies=a(document.getElementById(this.id+":tbf")).add(document.getElementById(this.id+":tbn"));this.rows=
this.tbodies[0].rows.length;this.rowHeight=this.dataTableElement.offsetHeight/this.rows;if(this.rowCount!=this.rows)this.contentElement.style.height=this.rowCount*this.rowHeight+"px";c.bind("scroll",a.proxy(this.bodyScrollListener,this));"none"!=this.options.selectionMode&&(this.tbodies.bind("click",a.proxy(this.selectionClickListener,this)),c.bind(window.opera?"keypress":"keydown",a.proxy(this.selectionKeyDownListener,this)),this.initializeSelection())}else this.dataTableElement=this.spacerElement=
null;this.parts=a(this.element).find(".rf-edt-cnt, .rf-edt-ftr-cnt");this.updateLayout();this.updateScrollPosition();a(this.element).triggerHandler("rich:ready",this)},drag:function(c){a(this.dragElement).setPosition({left:Math.max(this.resizeData.left+20,c.pageX)});return!1},beginResize:function(c){this.resizeData={id:c.currentTarget.parentNode.className.match(/rf-edt-c-([^\W]*)/)[1],left:a(c.currentTarget).parent().offset().left};this.dragElement.style.height=this.element.offsetHeight+"px";a(this.dragElement).setPosition({top:a(this.element).offset().top,
left:c.pageX});this.dragElement.style.display="block";a(document).bind("mousemove",a.proxy(this.drag,this));a(document).one("mouseup",a.proxy(this.endResize,this));return!1},endResize:function(c){a(document).unbind("mousemove",this.drag);this.dragElement.style.display="none";this.setColumnWidth(this.resizeData.id,Math.max(20,c.pageX-this.resizeData.left))},reorder:function(c){a(this.reorderElement).setPosition(c,{offset:[5,5]});this.reorderElement.style.display="block";return!1},beginReorder:function(c){if(!a(c.target).is("a, img, :input"))return this.idOfReorderingColumn=
c.currentTarget.className.match(/rf-edt-c-([^\W]*)/)[1],a(document).bind("mousemove",a.proxy(this.reorder,this)),this.headerCells.bind("mouseover",a.proxy(this.overReorder,this)),a(document).one("mouseup",a.proxy(this.cancelReorder,this)),!1},overReorder:function(c){if(this.idOfReorderingColumn!=c.currentTarget.className.match(/rf-edt-c-([^\W]*)/)[1]){var c=a(c.currentTarget),b=c.offset();a(this.reorderMarkerElement).setPosition({top:b.top+c.height(),left:b.left-5});this.reorderMarkerElement.style.display=
"block";c.one("mouseout",a.proxy(this.outReorder,this));c.one("mouseup",a.proxy(this.endReorder,this))}},outReorder:function(c){this.reorderMarkerElement.style.display="";a(c.currentTarget).unbind("mouseup",this.endReorder)},endReorder:function(c){this.reorderMarkerElement.style.display="";a(c.currentTarget).unbind("mouseout",this.outReorder);var b=c.currentTarget.className.match(/rf-edt-c-([^\W]*)/)[1],e="",d=this;this.headerCells.each(function(){var a=this.className.match(/rf-edt-c-([^\W]*)/)[1];
a==b?e+=d.idOfReorderingColumn+","+b+",":a!=d.idOfReorderingColumn&&(e+=a+",")});this.ajaxFunction(c,{"rich:columnsOrder":e})},cancelReorder:function(){a(document).unbind("mousemove",this.reorder);this.headerCells.unbind("mouseover",this.overReorder);this.reorderElement.style.display="none"},loadData:function(a){var b=Math.round((this.bodyElement.scrollTop+this.bodyElement.clientHeight/2)/this.rowHeight-this.rows/2),b=0>=b?0:Math.min(this.rowCount-this.rows,b);this.ajaxFunction(a,{"rich:clientFirst":b})},
bodyScrollListener:function(a){if(this.timeoutId)window.clearTimeout(this.timeoutId),this.timeoutId=null;if(Math.max(a.currentTarget.scrollTop-this.rowHeight,0)<this.spacerElement.offsetHeight||Math.min(a.currentTarget.scrollTop+this.rowHeight+a.currentTarget.clientHeight,a.currentTarget.scrollHeight)>this.spacerElement.offsetHeight+this.dataTableElement.offsetHeight){var b=this;this.timeoutId=window.setTimeout(function(a){b.loadData(a)},1E3)}},showActiveRow:function(){if(this.bodyElement.scrollTop>
this.activeIndex*this.rowHeight+this.spacerElement.offsetHeight)this.bodyElement.scrollTop=Math.max(this.bodyElement.scrollTop-this.rowHeight,0);else if(this.bodyElement.scrollTop+this.bodyElement.clientHeight<(this.activeIndex+1)*this.rowHeight+this.spacerElement.offsetHeight)this.bodyElement.scrollTop=Math.min(this.bodyElement.scrollTop+this.rowHeight,this.bodyElement.scrollHeight-this.bodyElement.clientHeight)},selectRow:function(c){this.ranges.add(c);for(var b=0;b<this.tbodies.length;b++)a(this.tbodies[b].rows[c]).addClass("rf-edt-r-sel")},
deselectRow:function(c){this.ranges.remove(c);for(var b=0;b<this.tbodies.length;b++)a(this.tbodies[b].rows[c]).removeClass("rf-edt-r-sel")},setActiveRow:function(c){if("number"==typeof this.activeIndex)for(var b=0;b<this.tbodies.length;b++)a(this.tbodies[b].rows[this.activeIndex]).removeClass("rf-edt-r-act");this.activeIndex=c;for(b=0;b<this.tbodies.length;b++)a(this.tbodies[b].rows[this.activeIndex]).addClass("rf-edt-r-act")},resetShiftRow:function(){if("number"==typeof this.shiftIndex)for(var c=
0;c<this.tbodies.length;c++)a(this.tbodies[c].rows[this.shiftIndex]).removeClass("rf-edt-r-sht");this.shiftIndex=null},setShiftRow:function(c){this.resetShiftRow();this.shiftIndex=c;if("number"==typeof c)for(c=0;c<this.tbodies.length;c++)a(this.tbodies[c].rows[this.shiftIndex]).addClass("rf-edt-r-sht")},initializeSelection:function(){this.ranges.clear();var c=this.selectionInput.value.split("|");this.activeIndex=c[1]||null;this.shiftIndex=c[2]||null;this.selectionFlag=null;for(var c=this.tbodies[0].rows,
b=0;b<c.length;b++){var e=a(c[b]);e.hasClass("rf-edt-r-sel")&&this.ranges.add(e[0].rowIndex);if(e.hasClass("rf-edt-r-act"))this.activeIndex=e[0].rowIndex;if(e.hasClass("rf-edt-r-sht"))this.shiftIndex=e[0].rowIndex}this.writeSelection()},writeSelection:function(){this.selectionInput.value=[this.ranges,this.activeIndex,this.shiftIndex,this.selectionFlag].join("|")},selectRows:function(a){"number"==typeof a&&(a=[a,a]);for(var b,e=0;e<a[0];e++)this.ranges.contains(e)&&(this.deselectRow(e),b=!0);for(;e<=
a[1];e++)this.ranges.contains(e)||(this.selectRow(e),b=!0);for(;e<this.rows;e++)this.ranges.contains(e)&&(this.deselectRow(e),b=!0);this.selectionFlag="string"==typeof this.shiftIndex?this.shiftIndex:"x";return b},processSlectionWithShiftKey:function(a){null==this.shiftIndex&&this.setShiftRow(null!=this.activeIndex?this.activeIndex:a);return this.selectRows("u"==this.shiftIndex?[0,a]:"d"==this.shiftIndex?[a,this.rows-1]:a>=this.shiftIndex?[this.shiftIndex,a]:[a,this.shiftIndex])},onbeforeselectionchange:function(a){return!this.options.onbeforeselectionchange||
!1!=this.options.onbeforeselectionchange.call(this.element,a)},onselectionchange:function(a,b,e){a.shiftKey||this.resetShiftRow();this.activeIndex!=b&&(this.setActiveRow(b),this.showActiveRow());e&&(this.writeSelection(),this.options.onselectionchange&&this.options.onselectionchange.call(this.element,a))},selectionClickListener:function(a){if(this.onbeforeselectionchange(a)){var b;if(a.shiftKey||a.ctrlKey)window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty();
for(b=a.target;-1==this.tbodies.index(b.parentNode);)b=b.parentNode;var e=b.rowIndex;"single"==this.options.selectionMode||"multipleKeyboardFree"!=this.options.selectionMode&&!a.shiftKey&&!a.ctrlKey?b=this.selectRows(e):"multipleKeyboardFree"==this.options.selectionMode||!a.shiftKey&&a.ctrlKey?(this.ranges.contains(e)?this.deselectRow(e):this.selectRow(e),b=!0):b=this.processSlectionWithShiftKey(e);this.onselectionchange(a,e,b)}},selectionKeyDownListener:function(a){if(a.ctrlKey&&"single"!=this.options.selectionMode&&
(65==a.keyCode||97==a.keyCode)&&this.onbeforeselectionchange(a))this.selectRows([0,rows]),this.selectionFlag="a",this.onselectionchange(a,this.activeIndex,!0),a.preventDefault();else{var b;38==a.keyCode?b=-1:40==a.keyCode&&(b=1);if(null!=b&&this.onbeforeselectionchange(a)){if("number"==typeof this.activeIndex&&(b+=this.activeIndex,0<=b&&b<this.rows)){var e;"single"==this.options.selectionMode||!a.shiftKey&&!a.ctrlKey?e=this.selectRows(b):a.shiftKey&&(e=this.processSlectionWithShiftKey(b));this.onselectionchange(a,
b,e)}a.preventDefault()}}},ajaxComplete:function(a,b){if(b.reinitializeHeader)this.bindHeaderHandlers();else if(this.selectionInput=document.getElementById(this.id+":si"),b.reinitializeBody?(this.rowCount=b.rowCount,this.initialize()):"none"!=this.options.selectionMode&&this.initializeSelection(),this.spacerElement)this.spacerElement.style.height=b.first*this.rowHeight+"px"},contextMenuAttach:function(c){var b="[id='"+this.element.id+"'] ",b=b+("undefined"===typeof c.options.targetSelector?".rf-edt-b td":
c.options.targetSelector),b=a.trim(b);d.Event.bind(b,c.options.showEvent,$.proxy(c.__showHandler,c),c)},contextMenuShow:function(a,b){for(var e=b.target;-1==this.tbodies.index(e.parentNode);)e=e.parentNode;this.ranges.contains(e.rowIndex)||this.selectionClickListener(b)}});var f=d.ui.ExtendedDataTable.$super})(window.RichFaces,jQuery);
(function(d,a){a.ui=a.ui||{};var f={expandSingle:!0,bubbleSelection:!0};a.ui.PanelMenu=a.BaseComponent.extendClass({name:"PanelMenu",init:function(a,e){c.constructor.call(this,a);this.items={};this.attachToDom();this.options=d.extend(this.options,f,e||{});this.activeItem=this.__getValueInput().value;this.nestingLevel=0;this.__addUserEventHandler("collapse");this.__addUserEventHandler("expand")},addItem:function(a){this.items[a.itemName]=a},deleteItem:function(a){delete this.items[a.itemName]},getSelectedItem:function(){return this.getItem(this.selectedItem())},
getItem:function(a){return this.items[a]},selectItem:function(){},selectedItem:function(a){if("undefined"!=typeof a){var c=this.__getValueInput(),d=c.value;this.activeItem=a;c.value=a;for(var f in this.items)a=this.items[f],a.__isSelected()&&a.__unselect();return d}return this.activeItem},__getValueInput:function(){return document.getElementById(this.id+"-value")},expandAll:function(){},collapseAll:function(){},expandGroup:function(){},collapseGroup:function(){},__panelMenu:function(){return d(a.getDomElement(this.id))},
__childGroups:function(){return this.__panelMenu().children(".rf-pm-top-gr")},__addUserEventHandler:function(b){var c=this.options["on"+b];c&&a.Event.bindById(this.id,b,c)},__isActiveItem:function(a){return a.itemName==this.activeItem},__collapseGroups:function(b){var c=b.__rfTopGroup();this.__childGroups().each(function(d,f){f.id!=b.getEventElement()&&(!c||f.id!=c.id)&&a.$(f).__collapse()})},destroy:function(){a.Event.unbindById(this.id,"."+this.namespace);c.destroy.call(this)}});var c=a.ui.PanelMenu.$super})(jQuery,
RichFaces);
jQuery.atmosphere=function(){var d,a;jQuery(window).unload(function(){d&&d.abort()});return{version:0.8,response:{status:200,responseBody:"",headers:[],state:"messageReceived",transport:"polling",push:[],error:null,id:0},request:{},abordingConnection:!1,subscribed:!0,logLevel:"info",callbacks:[],activeTransport:null,websocket:null,uuid:0,subscribe:function(a,c,b){jQuery.atmosphere.request=jQuery.extend({timeout:3E5,method:"GET",headers:{},contentType:"",cache:!0,async:!0,ifModified:!1,callback:null,
dataType:"",url:a,data:"",suspend:!0,maxRequest:60,maxStreamingLength:1E7,lastIndex:0,logLevel:"info",requestCount:0,fallbackMethod:"GET",fallbackTransport:"streaming",transport:"long-polling",webSocketImpl:null,webSocketUrl:null,webSocketPathDelimiter:"@@",enableXDR:!1,rewriteURL:!1,attachHeadersAsQueryString:!1,executeCallbackBeforeReconnect:!0,readyState:0},b);logLevel=jQuery.atmosphere.request.logLevel;null!=c&&jQuery.atmosphere.addCallback(c);jQuery.atmosphere.request.transport!=jQuery.atmosphere.activeTransport&&
jQuery.atmosphere.closeSuspendedConnection();jQuery.atmosphere.activeTransport=jQuery.atmosphere.request.transport;if(0==jQuery.atmosphere.uuid)jQuery.atmosphere.uuid=jQuery.atmosphere.guid();if("websocket"!=jQuery.atmosphere.request.transport)jQuery.atmosphere.executeRequest(jQuery.atmosphere.request);else if("websocket"==jQuery.atmosphere.request.transport)null==jQuery.atmosphere.request.webSocketImpl&&!window.WebSocket&&!window.MozWebSocket?(jQuery.atmosphere.log(logLevel,["Websocket is not supported, using request.fallbackTransport ("+
jQuery.atmosphere.request.fallbackTransport+")"]),jQuery.atmosphere.request.transport=jQuery.atmosphere.request.fallbackTransport,jQuery.atmosphere.response.transport=jQuery.atmosphere.request.fallbackTransport,jQuery.atmosphere.executeRequest(jQuery.atmosphere.request)):jQuery.atmosphere.executeWebSocket()},closeSuspendedConnection:function(){jQuery.atmosphere.abordingConnection=!0;null!=d&&d.abort();if(null!=jQuery.atmosphere.websocket)jQuery.atmosphere.websocket.close(),jQuery.atmosphere.websocket=
null;jQuery.atmosphere.abordingConnection=!1},jsonp:function(a){var c=a||jQuery.atmosphere.request;jQuery.atmosphere.response.push=function(a){jQuery.atmosphere.request.callback=null;jQuery.atmosphere.publish(a,null,jQuery.atmosphere.request)};var a=c.url,b=c.data;jQuery.atmosphere.request.attachHeadersAsQueryString&&(a=jQuery.atmosphere.attachHeaders(c),""!=b&&""!=b&&(a+="&X-Atmosphere-Post-Body="+b),b="");var d=jQuery.ajax({url:a,type:c.method,dataType:"jsonp",error:function(a,b){300>a.status?jQuery.atmosphere.reconnect(d,
c):jQuery.atmosphere.ieCallback(b,"error",a.status,c.transport)},jsonp:"jsonpTransport",success:function(a){c.executeCallbackBeforeReconnect&&jQuery.atmosphere.reconnect(d,c);a=a.message;null!=a&&"string"!=typeof a&&(a=jQuery.stringifyJSON(a));jQuery.atmosphere.ieCallback(a,"messageReceived",200,c.transport);c.executeCallbackBeforeReconnect||jQuery.atmosphere.reconnect(d,c)},data:c.data,beforeSend:function(a){jQuery.atmosphere.doRequest(a,c,!1)}})},checkCORSSupport:function(){return jQuery.browser.msie&&
!window.XDomainRequest||jQuery.browser.opera?!0:!1},executeRequest:function(a){var c=a||jQuery.atmosphere.request;if("jsonp"==jQuery.atmosphere.request.transport||jQuery.atmosphere.checkCORSSupport())c.attachHeadersAsQueryString=!0,jQuery.atmosphere.jsonp(c);else if("streaming"==jQuery.atmosphere.request.transport&&jQuery.browser.msie)jQuery.atmosphere.request.enableXDR&&window.XDomainRequest?jQuery.atmosphere.ieXDR():jQuery.atmosphere.ieStreaming();else if(jQuery.atmosphere.request.enableXDR&&window.XDomainRequest)jQuery.atmosphere.ieXDR();
else if(jQuery.atmosphere.request.requestCount++<jQuery.atmosphere.request.maxRequest){jQuery.atmosphere.response.push=function(a){jQuery.atmosphere.request.callback=null;jQuery.atmosphere.publish(a,null,jQuery.atmosphere.request)};var b=jQuery.atmosphere.response;if("polling"!=c.transport)b.transport=c.transport;var e;if(jQuery.browser.msie)for(var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],g=0;g<a.length;g++)try{e=new ActiveXObject(a[g])}catch(i){}else window.XMLHttpRequest&&(e=new XMLHttpRequest);
c.suspend&&(d=e);jQuery.atmosphere.doRequest(e,c,!0);if(!jQuery.browser.msie)e.onerror=function(){try{b.status=XMLHttpRequest.status}catch(a){b.status=404}b.state="error";jQuery.atmosphere.invokeCallback(b);e.abort();d=null};e.onreadystatechange=function(){if(!jQuery.atmosphere.abordingConnection){var a=!1,d=!1;if("streaming"==c.transport&&2<c.readyState&&4==e.readyState)c.readyState=0,c.lastIndex=0,jQuery.atmosphere.reconnect(e,jQuery.atmosphere.request,!0);else if(c.readyState=e.readyState,4==e.readyState?
jQuery.browser.msie?d=!0:"streaming"==c.transport?d=!0:"long-polling"==c.transport&&(d=!0,clearTimeout(c.id)):!jQuery.browser.msie&&3==e.readyState&&200==e.status&&"long-polling"!=c.transport?d=!0:clearTimeout(c.id),d){d=e.responseText;this.previousLastIndex=c.lastIndex;if("streaming"==c.transport){b.responseBody=d.substring(c.lastIndex,d.length);b.isJunkEnded=!0;if(0==c.lastIndex&&-1!=b.responseBody.indexOf("<\!-- Welcome to the Atmosphere Framework."))b.isJunkEnded=!1;if(b.isJunkEnded)b.responseBody=
d.substring(c.lastIndex,d.length);else{var j=b.responseBody.indexOf("<\!-- EOD --\>")+12;12<j&&j!=b.responseBody.length?b.responseBody=b.responseBody.substring(j):a=!0}c.lastIndex=d.length;jQuery.browser.opera&&jQuery.atmosphere.iterate(function(){if(e.responseText.length>c.lastIndex){try{b.status=e.status,b.headers=e.getAllResponseHeaders()}catch(a){b.status=404}b.state="messageReceived";b.responseBody=e.responseText.substring(c.lastIndex);c.lastIndex=e.responseText.length;jQuery.atmosphere.invokeCallback(b);
"streaming"==c.transport&&e.responseText.length>jQuery.atmosphere.request.maxStreamingLength&&(e.abort(),jQuery.atmosphere.doRequest(e,c,!0))}},0);if(a)return}else b.responseBody=d,c.lastIndex=d.length;try{b.status=e.status,b.headers=e.getAllResponseHeaders()}catch(f){b.status=404}b.state=c.suspend?"messageReceived":"messagePublished";c.executeCallbackBeforeReconnect&&jQuery.atmosphere.reconnect(e,c,!1);-1!=b.responseBody.indexOf("parent.callback")&&jQuery.atmosphere.log(logLevel,["parent.callback no longer supported with 0.8 version and up. Please upgrade"]);
jQuery.atmosphere.invokeCallback(b);c.executeCallbackBeforeReconnect||jQuery.atmosphere.reconnect(e,c,!1);"streaming"==c.transport&&d.length>jQuery.atmosphere.request.maxStreamingLength&&(e.abort(),jQuery.atmosphere.doRequest(e,c,!0))}}};e.send(c.data);if(c.suspend)c.id=setTimeout(function(){e.abort();jQuery.atmosphere.subscribe(c.url,null,c)},c.timeout);jQuery.atmosphere.subscribed=!0}else jQuery.atmosphere.log(logLevel,["Max re-connection reached."])},doRequest:function(a,c,b){var d=jQuery.atmosphere.prepareURL(c.url);
b&&a.open(c.method,d,!0);a.setRequestHeader("X-Atmosphere-Framework",jQuery.atmosphere.version);a.setRequestHeader("X-Atmosphere-Transport",c.transport);a.setRequestHeader("X-Cache-Date",(new Date).getTime());""!=jQuery.atmosphere.request.contentType&&a.setRequestHeader("Content-Type",jQuery.atmosphere.request.contentType);a.setRequestHeader("X-Atmosphere-tracking-id",jQuery.atmosphere.uuid);for(var g in c.headers)a.setRequestHeader(g,c.headers[g])},reconnect:function(a,c,b){jQuery.atmosphere.request=
c;if(b||c.suspend&&200==a.status&&"streaming"!=c.transport&&jQuery.atmosphere.subscribed)jQuery.atmosphere.request.method="GET",jQuery.atmosphere.request.data="",jQuery.atmosphere.executeRequest(jQuery.atmosphere.request)},attachHeaders:function(a){var c=a.url;if(!a.attachHeadersAsQueryString||-1!=c.indexOf("X-Atmosphere-Framework"))return c;c+=-1!=c.indexOf("?")?"&":"?";c+="X-Atmosphere-tracking-id="+jQuery.atmosphere.uuid;c+="&X-Atmosphere-Framework="+jQuery.atmosphere.version;c+="&X-Atmosphere-Transport="+
a.transport;c+="&X-Cache-Date="+(new Date).getTime();""!=jQuery.atmosphere.request.contentType&&(c+="&Content-Type="+jQuery.atmosphere.request.contentType);for(var b in a.headers)c+="&"+b+"="+a.headers[b];return c},ieStreaming:function(){a=jQuery.atmosphere.configureIE();a.open()},configureIE:function(){var a,c=new window.ActiveXObject("htmlfile");c.open();c.close();var b=jQuery.atmosphere.request.url;jQuery.atmosphere.response.push=function(a){jQuery.atmosphere.request.callback=null;jQuery.atmosphere.publish(a,
null,jQuery.atmosphere.request)};var d=jQuery.atmosphere.request;if("polling"!=d.transport)jQuery.atmosphere.response.transport=d.transport;return{open:function(){var g=c.createElement("iframe");"POST"==d.method&&(b=jQuery.atmosphere.attachHeaders(d),""!=jQuery.atmosphere.request.data&&(b+="&X-Atmosphere-Post-Body="+jQuery.atmosphere.request.data));b=jQuery.atmosphere.prepareURL(b);g.src=b;c.body.appendChild(g);var i=g.contentDocument||g.contentWindow.document;a=jQuery.atmosphere.iterate(function(){if(i.firstChild){if("complete"===
i.readyState)try{jQuery.noop(i.fileSize)}catch(b){return jQuery.atmosphere.ieCallback("Connection Failure","error",500,d.transport),!1}var c=i.body?i.body.lastChild:i,j=function(){var a=c.cloneNode(!0);a.appendChild(i.createTextNode("."));var a=a.innerText,b=!0;-1==a.indexOf("<\!-- Welcome to the Atmosphere Framework.")&&(b=!1);b&&(b=a.indexOf("<\!-- EOD --\>")+12,a=a.substring(b));return a.substring(0,a.length-1)};if(!jQuery.nodeName(c,"pre")){var m=i.head||i.getElementsByTagName("head")[0]||i.documentElement||
i,g=i.createElement("script");g.text="document.write('<plaintext>')";m.insertBefore(g,m.firstChild);m.removeChild(g);c=i.body.lastChild}jQuery.atmosphere.ieCallback(j(),"messageReceived",200,d.transport);a=jQuery.atmosphere.iterate(function(){var a=j();if(a.length>d.lastIndex)jQuery.atmosphere.response.status=200,jQuery.atmosphere.ieCallback(a,"messageReceived",200,d.transport),c.innerText="",d.lastIndex=0;if("complete"===i.readyState)return jQuery.atmosphere.ieCallback("","completed",200,d.transport),
!1},null);return!1}})},close:function(){a&&a();c.execCommand("Stop");jQuery.atmosphere.ieCallback("","closed",200,d.transport)}}},ieCallback:function(a,c,b,d){var g=jQuery.atmosphere.response;g.transport=d;g.status=b;g.responseBody=a;g.state=c;jQuery.atmosphere.invokeCallback(g)},ieXDR:function(){a=jQuery.atmosphere.configureXDR();a.open()},configureXDR:function(){var a="",c=jQuery.atmosphere.request.transport,b=0;jQuery.atmosphere.response.push=function(a){jQuery.atmosphere.request.method="POST";
jQuery.atmosphere.request.enableXDR=!0;jQuery.atmosphere.request.attachHeadersAsQueryString=!0;jQuery.atmosphere.request.callback=null;jQuery.atmosphere.publish(a,null,jQuery.atmosphere.request)};var d=function(a){var a=a.responseText,d=!1;-1!=a.indexOf("<\!-- Welcome to the Atmosphere Framework.")&&(d=!0);d&&(d=a.indexOf("<\!-- EOD --\>")+12,a=a.substring(d+b),b+=a.length);jQuery.atmosphere.ieCallback(a,"messageReceived",200,c)},g=new window.XDomainRequest,i=jQuery.atmosphere.request.rewriteURL||
function(a){var b={JSESSIONID:function(b){return a.replace(/;jsessionid=[^\?]*|(\?)|$/,";jsessionid="+b+"$1")},PHPSESSID:function(b){return a.replace(/\?PHPSESSID=[^&]*&?|\?|$/,"?PHPSESSID="+b+"&").replace(/&$/,"")}},c;for(c in b){var d=RegExp("(?:^|;\\s*)"+encodeURIComponent(c)+"=([^;]*)").exec(document.cookie);if(d)return b[c](d[1])}return a};g.onprogress=function(){d(g);a=g.responseText};g.onerror=function(){jQuery.atmosphere.ieCallback(g.responseText,"error",500,c)};g.onload=function(){a!=g.responseText&&
d(g);if("long-polling"==c)jQuery.atmosphere.request.method="GET",jQuery.atmosphere.request.data="",jQuery.atmosphere.request.transport=c,jQuery.atmosphere.executeRequest(jQuery.atmosphere.request)};return{open:function(){var a=jQuery.atmosphere.attachHeaders(jQuery.atmosphere.request);"POST"==jQuery.atmosphere.request.method&&""!=jQuery.atmosphere.request.data&&(a+="&X-Atmosphere-Post-Body="+jQuery.atmosphere.request.data);g.open(jQuery.atmosphere.request.method,i(a));g.send()},close:function(){g.abort();
jQuery.atmosphere.ieCallback(g.responseText,"closed",200,c)}}},executeWebSocket:function(){var a=jQuery.atmosphere.request,c=!1,b=jQuery.atmosphere.attachHeaders(jQuery.atmosphere.request);jQuery.atmosphere.log(logLevel,["Invoking executeWebSocket"]);jQuery.atmosphere.response.transport="websocket";-1==b.indexOf("http")&&-1==b.indexOf("ws")&&(b=jQuery.atmosphere.parseUri(document.location,b),jQuery.atmosphere.debug("Using URL: "+b));var b=b.replace("http:","ws:").replace("https:","wss:"),d=null,d=
null!=jQuery.atmosphere.request.webSocketImpl?jQuery.atmosphere.request.webSocketImpl:window.WebSocket?new WebSocket(b):new MozWebSocket(b);jQuery.atmosphere.websocket=d;jQuery.atmosphere.response.push=function(){var b;try{b=null!=jQuery.atmosphere.request.webSocketUrl?jQuery.atmosphere.request.webSocketPathDelimiter+jQuery.atmosphere.request.webSocketUrl+jQuery.atmosphere.request.webSocketPathDelimiter+jQuery.atmosphere.request.data:jQuery.atmosphere.request.data,d.send(b)}catch(c){jQuery.atmosphere.log(logLevel,
["Websocket failed. Downgrading to Comet and resending "+b]),a.transport=a.fallbackTransport,a.method=a.fallbackMethod,a.data=b,jQuery.atmosphere.response.transport=a.fallbackTransport,jQuery.atmosphere.request=a,jQuery.atmosphere.executeRequest(jQuery.atmosphere.request),d.onclose=function(){},d.close()}};d.onopen=function(){jQuery.atmosphere.subscribed=!0;jQuery.atmosphere.debug("Websocket successfully opened");c=!0;jQuery.atmosphere.response.state="opening";jQuery.atmosphere.response.status=200;
jQuery.atmosphere.invokeCallback(jQuery.atmosphere.response);if("POST"==jQuery.atmosphere.request.method)data=jQuery.atmosphere.request.data,jQuery.atmosphere.response.state="messageReceived",d.send(jQuery.atmosphere.request.data)};d.onmessage=function(a){-1!=a.data.indexOf("parent.callback")&&jQuery.atmosphere.log(logLevel,["parent.callback no longer supported with 0.8 version and up. Please upgrade"]);jQuery.atmosphere.response.state="messageReceived";jQuery.atmosphere.response.responseBody=a.data;
jQuery.atmosphere.response.status=200;jQuery.atmosphere.invokeCallback(jQuery.atmosphere.response)};d.onerror=function(a){jQuery.atmosphere.warn("Websocket error, reason: "+a.reason);jQuery.atmosphere.response.state="error";jQuery.atmosphere.response.responseBody="";jQuery.atmosphere.response.status=500;jQuery.atmosphere.invokeCallback(jQuery.atmosphere.response)};d.onclose=function(b){var d=b.reason;if(""===d)switch(b.code){case 1E3:d="Normal closure; the connection successfully completed whatever purpose for which it was created.";
break;case 1001:d="The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.";break;case 1002:d="The endpoint is terminating the connection due to a protocol error.";break;case 1003:d="The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data).";break;case 1004:d="The endpoint is terminating the connection because a data frame was received that is too large.";
break;case 1005:d="Unknown: no status code was provided even though one was expected.";break;case 1006:d="Connection was closed abnormally (that is, with no close frame being sent)."}jQuery.atmosphere.log(logLevel,["Websocket closed, reason: "+d]);jQuery.atmosphere.log(logLevel,["Websocket closed, wasClean: "+b.wasClean]);jQuery.atmosphere.response.state="closed";jQuery.atmosphere.response.responseBody="";jQuery.atmosphere.response.status=200;jQuery.atmosphere.invokeCallback(jQuery.atmosphere.response);
if(c){if(jQuery.atmosphere.subscribed&&"websocket"==jQuery.atmosphere.response.transport)a.requestCount++<a.maxRequest?(jQuery.atmosphere.request.requestCount=a.requestCount,jQuery.atmosphere.request.maxRequest=a.maxRequest,jQuery.atmosphere.request.method=a.method,jQuery.atmosphere.request.url=jQuery.atmosphere.attachHeaders(a),jQuery.atmosphere.response.responseBody="",jQuery.atmosphere.executeWebSocket()):jQuery.atmosphere.log(logLevel,["Websocket reconnect maximum try reached "+a.requestCount])}else b=
jQuery.atmosphere.request.data,jQuery.atmosphere.log(logLevel,["Websocket failed. Downgrading to Comet and resending "+b]),a.transport=a.fallbackTransport,a.method=a.fallbackMethod,a.data=b,jQuery.atmosphere.response.transport=a.fallbackTransport,jQuery.atmosphere.request=a,jQuery.atmosphere.executeRequest(jQuery.atmosphere.request)}},addCallback:function(a){-1==jQuery.inArray(a,jQuery.atmosphere.callbacks)&&jQuery.atmosphere.callbacks.push(a)},removeCallback:function(a){a=jQuery.inArray(a,jQuery.atmosphere.callbacks);
-1!=a&&jQuery.atmosphere.callbacks.splice(a)},invokeCallback:function(a){var c=function(b,c){c(a)};jQuery.atmosphere.log(logLevel,["Invoking "+jQuery.atmosphere.callbacks.length+" callbacks"]);0<jQuery.atmosphere.callbacks.length&&jQuery.each(jQuery.atmosphere.callbacks,c);"function"==typeof jQuery.atmosphere.request.callback&&jQuery.atmosphere.request.callback(a)},publish:function(a,c,b){jQuery.atmosphere.request=jQuery.extend({connected:!1,timeout:6E4,method:"POST",contentType:"",headers:{},cache:!0,
async:!0,ifModified:!1,callback:null,dataType:"",url:a,data:"",suspend:!1,maxRequest:60,logLevel:"info",requestCount:0,transport:"polling",webSocketImpl:null,webSocketUrl:null,webSocketPathDelimiter:"@@",enableXDR:!1,rewriteURL:!1,attachHeadersAsQueryString:!1,executeCallbackBeforeReconnect:!0,readyState:0},b);null!=c&&jQuery.atmosphere.addCallback(c);if(0==jQuery.atmosphere.uuid)jQuery.atmosphere.uuid=jQuery.atmosphere.guid();jQuery.atmosphere.request.transport="polling";"websocket"!=jQuery.atmosphere.request.transport?
jQuery.atmosphere.executeRequest(jQuery.atmosphere.request):"websocket"==jQuery.atmosphere.request.transport&&(!window.WebSocket&&!window.MozWebSocket?alert("WebSocket not supported by this browser"):jQuery.atmosphere.executeWebSocket())},unload:function(a){window.addEventListener?(document.addEventListener("unload",a,!1),window.addEventListener("unload",a,!1)):(document.attachEvent("onunload",a),window.attachEvent("onunload",a))},log:function(a,c){if(window.console){var b=window.console[a];"function"==
typeof b&&b.apply(window.console,c)}},warn:function(){jQuery.atmosphere.log("warn",arguments)},info:function(){"warn"!=logLevel&&jQuery.atmosphere.log("info",arguments)},debug:function(){"debug"==logLevel&&jQuery.atmosphere.log("debug",arguments)},unsubscribe:function(){logLevel="info";jQuery.atmosphere.response.state="unsubscribe";jQuery.atmosphere.response.responseBody="";jQuery.atmosphere.response.status=408;jQuery.atmosphere.invokeCallback(jQuery.atmosphere.response);jQuery.atmosphere.subscribed=
!1;jQuery.atmosphere.closeSuspendedConnection();jQuery.atmosphere.callbacks=[];null!=a&&a.close()},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},guid:function(){return jQuery.atmosphere.S4()+jQuery.atmosphere.S4()+"-"+jQuery.atmosphere.S4()+"-"+jQuery.atmosphere.S4()+"-"+jQuery.atmosphere.S4()+"-"+jQuery.atmosphere.S4()+jQuery.atmosphere.S4()+jQuery.atmosphere.S4()},prepareURL:function(a){var c=jQuery.now(),b=a.replace(/([?&])_=[^&]*/,"$1_="+c);return b+(b===a?(/\?/.test(a)?
"&":"?")+"_="+c:"")},param:function(a){return jQuery.param(a,jQuery.ajaxSettings.traditional)},iterate:function(a,c){var b,c=c||0;(function g(){b=setTimeout(function(){!1!==a()&&g()},c)})();return function(){clearTimeout(b)}},parseUri:function(a,c){var b=window.location.protocol,d=window.location.host,g=window.location.pathname,i={},h;if(0<=(h=c.search(/\:/)))b=c.substring(0,h+1),c=c.substring(h+1);if(0<=(h=c.search(/\#/)))c.substring(h+1),c=c.substring(0,h);if(0<=(h=c.search(/\?/)))for(var l=c.substring(h+
1)+"&;",c=c.substring(0,h);0<=(h=l.search(/\&/));){var j=l.substring(0,h),l=l.substring(h+1);j.length&&(h=j.search(/\=/),0>h?i[j]="":i[j.substring(0,h)]=decodeURIComponent(j.substring(h+1)))}if(0==c.search(/\/\//))c=c.substring(2),0<=(h=c.search(/\//))?(d=c.substring(0,h),g=c.substring(h)):(d=c,g="/");else if(0==c.search(/\//))g=c;else{l=g.lastIndexOf("/");for(0>l?g="/":l<g.length-1&&(g=g.substring(0,l+1));0==c.search(/\.\.\//);)l=g.lastIndexOf("/",g.lastIndexOf("/")-1),0<=l&&(g=g.substring(0,l+1)),
c=c.substring(3);g+=c}var c=b+"//"+d+g,b="?",m;for(m in i)c+=b+m+"="+encodeURIComponent(i[m]),b="&";return c}}}();
(function(d){function a(a){return'"'+a.replace(b,function(a){var b=e[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'}function f(a){return 10>a?"0"+a:a}function c(b,d){var e,l,j,m=d[b];j=typeof m;m&&"object"===typeof m&&"function"===typeof m.toJSON&&(m=m.toJSON(b),j=typeof m);switch(j){case "string":return a(m);case "number":return isFinite(m)?""+m:"null";case "boolean":return""+m;case "object":if(!m)return"null";switch(Object.prototype.toString.call(m)){case "[object Date]":return isFinite(m.valueOf())?
'"'+m.getUTCFullYear()+"-"+f(m.getUTCMonth()+1)+"-"+f(m.getUTCDate())+"T"+f(m.getUTCHours())+":"+f(m.getUTCMinutes())+":"+f(m.getUTCSeconds())+'Z"':"null";case "[object Array]":l=m.length;j=[];for(e=0;e<l;e++)j.push(c(e,m)||"null");return"["+j.join(",")+"]";default:j=[];for(e in m)Object.prototype.hasOwnProperty.call(m,e)&&(l=c(e,m))&&j.push(a(e)+":"+l);return"{"+j.join(",")+"}"}}}var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};d.stringifyJSON=function(a){return window.JSON&&window.JSON.stringify?window.JSON.stringify(a):c("",{"":a})}})(jQuery);JSNode=function(){};JSNode.prototype={tag:null,attrs:{},childs:[],value:"",_symbols:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","\u00a0":"&nbsp;"},getInnerHTML:function(d){for(var a=[],f=0;f<this.childs.length;f++)a.push(this.childs[f].getContent(d));return a.join("")},xmlEscape:function(d){return jQuery("<div></div>").text(d).html()}};
E=function(d,a,f){this.tag=d;if(a)this.attrs=a;if(f)this.childs=f};E.prototype=new JSNode;E.prototype.getContent=function(d){var a="<"+this.tag,f=this.getInnerHTML(d);this.isEmpty=""==f?!0:!1;for(var c in this.attrs)if(this.attrs.hasOwnProperty(c)){var b=this.attrs[c];"function"==typeof b&&(b=b.call(this,d));b&&(a+=" "+("className"==c?"class":c)+'="'+this.xmlEscape(b)+'"')}return a+=">"+f+"</"+this.tag+">"};ET=function(d){this.value=d};
ET.prototype.getContent=function(d){var a=this.value;"function"==typeof a&&(a=a(d));a&&a.getContent&&(a=a.getContent(d));return a?a:""};T=function(d){this.value=d};T.prototype=new JSNode;T.prototype.getContent=function(d){var a=this.value;"function"==typeof a&&(a=a(d));return a?this.xmlEscape(a):""};C=function(d){this.value=d};C.prototype.getContent=function(){return"<\!--"+this.value+"--\>"};D=function(d){this.value=d};D.prototype.getContent=function(){return"<![CDATA["+this.value+"]]\>"};
(function(d,a){a.utils=a.utils||{};a.utils.Cache=function(a,c,b,d){this.key=a.toLowerCase();this.cache={};this.cache[this.key]=c||[];a=this.originalValues="function"==typeof b?b(c):b||this.cache[this.key];c=[];for(b=0;b<a.length;b++)c.push(a[b].toLowerCase());this.values=c;if(!d){d=!0;for(a=0;a<this.values.length;a++)if(0!=this.values[a].indexOf(this.key)){d=!1;break}}this.useCache=d};d.extend(a.utils.Cache.prototype,{getItems:function(a,c){var a=a.toLowerCase(),b=[];if(a.length<this.key.length)return b;
if(this.cache[a])b=this.cache[a];else{for(var d="function"==typeof c,g=this.cache[this.key],i=0;i<this.values.length;i++){var h=this.values[i];d&&c(a,h)?b.push(g[i]):0==h.indexOf(a)&&b.push(g[i])}if((!this.lastKey||0!=a.indexOf(this.lastKey))&&0<b.length)if(this.cache[a]=b,1==b.length)this.lastKey=a}return b},getItemValue:function(a){return this.originalValues[this.cache[this.key].index(a)]},isCached:function(a){a=a.toLowerCase();return this.cache[a]||this.useCache&&0==a.indexOf(this.key)}})})(jQuery,
RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.TogglePanelItem=a.BaseComponent.extendClass({name:"TogglePanelItem",init:function(a,b){f.constructor.call(this,a);this.attachToDom(this.id);this.options=d.extend(this.options,b||{});this.name=this.options.name;this.togglePanelId=this.options.togglePanelId;this.switchMode=this.options.switchMode;this.disabled=this.options.disabled||!1;this.index=b.index;this.getTogglePanel().getItems()[this.index]=this;this.__addUserEventHandler("enter");this.__addUserEventHandler("leave")},getName:function(){return this.options.name},
getTogglePanel:function(){return a.$(this.togglePanelId)},isSelected:function(){return this.getName()==this.getTogglePanel().getSelectItem()},__addUserEventHandler:function(c){var b=this.options["on"+c];b&&a.Event.bindById(this.id,c,b)},__enter:function(){a.getDomElement(this.id).style.display="block";return this.__fireEnter()},__leave:function(){if(!this.__fireLeave())return!1;a.getDomElement(this.id).style.display="none";return!0},__fireLeave:function(){return a.Event.fireById(this.id,"leave")},
__fireEnter:function(){return a.Event.fireById(this.id,"enter")},destroy:function(){var a=this.getTogglePanel();a&&delete a.getItems()[this.index];f.destroy.call(this)}});var f=a.ui.TogglePanelItem.$super})(jQuery,RichFaces);
(function(d){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){if("original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position=
"relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(a){var f=this.options;if(this.helper||f.disabled||d(a.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(a);return!this.handle?!1:!0},_mouseStart:function(a){var f=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(d.ui.ddmanager)d.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-
this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);f.containment&&this._setContainment();if(!1===this._trigger("start",a))return this._clear(),!1;this._cacheHelperProportions();d.ui.ddmanager&&!f.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");
this._mouseDrag(a,!0);return!0},_mouseDrag:function(a,f){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!f){var c=this._uiHash();if(!1===this._trigger("drag",a,c))return this._mouseUp({}),!1;this.position=c.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return!1},
_mouseStop:function(a){var f=!1;d.ui.ddmanager&&!this.options.dropBehaviour&&(f=d.ui.ddmanager.drop(this,a));if(this.dropped)f=this.dropped,this.dropped=!1;if(!this.element[0]||!this.element[0].parentNode)return!1;if("invalid"==this.options.revert&&!f||"valid"==this.options.revert&&f||!0===this.options.revert||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)){var c=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==
c._trigger("stop",a)&&c._clear()})}else!1!==this._trigger("stop",a)&&this._clear();return!1},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var f=!this.options.handle||!d(this.options.handle,this.element).length?!0:!1;d(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(f=!0)});return f},_createHelper:function(a){var f=this.options,a=d.isFunction(f.helper)?d(f.helper.apply(this.element[0],
[a])):"clone"==f.helper?this.element.clone():this.element;a.parents("body").length||a.appendTo("parent"==f.appendTo?this.element[0].parentNode:f.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));d.isArray(a)&&(a={left:+a[0],top:+a[1]||0});if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-
a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if("parent"==a.containment)a.containment=this.helper[0].parentNode;if("document"==a.containment||"window"==a.containment)this.containment=
[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,(d("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var f=d(a.containment)[0];if(f){var a=d(a.containment).offset(),c="hidden"!=
d(f).css("overflow");this.containment=[a.left+(parseInt(d(f).css("borderLeftWidth"),10)||0)+(parseInt(d(f).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(f).css("borderTopWidth"),10)||0)+(parseInt(d(f).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(d(f).css("borderLeftWidth"),10)||0)-(parseInt(d(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(f.scrollHeight,f.offsetHeight):
f.offsetHeight)-(parseInt(d(f).css("borderTopWidth"),10)||0)-(parseInt(d(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,f){if(!f)f=this.position;var c="absolute"==a?1:-1,b="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(b[0].tagName);
return{top:f.top+this.offset.relative.top*c+this.offset.parent.top*c-(d.browser.safari&&526>d.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:b.scrollTop())*c),left:f.left+this.offset.relative.left*c+this.offset.parent.left*c-(d.browser.safari&&526>d.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:b.scrollLeft())*c)}},_generatePosition:function(a){var f=this.options,c="absolute"==
this.cssPosition&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,b=/(html|body)/i.test(c[0].tagName),e=a.pageX,g=a.pageY;this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+
this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),f.grid&&(g=this.originalPageY+Math.round((g-this.originalPageY)/f.grid[1])*f.grid[1],g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-f.grid[1]:g+f.grid[1]:g,e=this.originalPageX+Math.round((e-this.originalPageX)/f.grid[0])*f.grid[0],e=this.containment?!(e-this.offset.click.left<
this.containment[0]||e-this.offset.click.left>this.containment[2])?e:!(e-this.offset.click.left<this.containment[0])?e-f.grid[0]:e+f.grid[0]:e));return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&526>d.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():b?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&526>d.browser.version&&"fixed"==
this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():b?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(a,f,c){c=c||this._uiHash();d.ui.plugin.call(this,a,[f,c]);if("drag"==a)this.positionAbs=this._convertPositionTo("absolute");return d.Widget.prototype._trigger.call(this,a,f,c)},plugins:{},_uiHash:function(){return{helper:this.helper,
position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.extend(d.ui.draggable,{version:"1.8.6"});d.ui.plugin.add("draggable","connectToSortable",{start:function(a,f){var c=d(this).data("draggable"),b=c.options,e=d.extend({},f,{item:c.element});c.sortables=[];d(b.connectToSortable).each(function(){var b=d.data(this,"sortable");b&&!b.options.disabled&&(c.sortables.push({instance:b,shouldRevert:b.options.revert}),b._refreshItems(),b._trigger("activate",a,e))})},stop:function(a,
f){var c=d(this).data("draggable"),b=d.extend({},f,{item:c.element});d.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=!0;this.instance.cancelHelperRemoval=!1;if(this.shouldRevert)this.instance.options.revert=!0;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;"original"==c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})}else this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
a,b)})},drag:function(a,f){var c=d(this).data("draggable"),b=this;d.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver)this.instance.isOver=1,this.instance.currentItem=d(b).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=
function(){return f.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",a),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=
c;this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver)this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),c._trigger("fromSortable",a),c.dropped=!1})}});d.ui.plugin.add("draggable",
"cursor",{start:function(){var a=d("body"),f=d(this).data("draggable").options;if(a.css("cursor"))f._cursor=a.css("cursor");a.css("cursor",f.cursor)},stop:function(){var a=d(this).data("draggable").options;a._cursor&&d("body").css("cursor",a._cursor)}});d.ui.plugin.add("draggable","iframeFix",{start:function(){var a=d(this).data("draggable").options;d(!0===a.iframeFix?"iframe":a.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+
"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")})},stop:function(){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});d.ui.plugin.add("draggable","opacity",{start:function(a,f){var c=d(f.helper),b=d(this).data("draggable").options;if(c.css("opacity"))b._opacity=c.css("opacity");c.css("opacity",b.opacity)},stop:function(a,f){var c=d(this).data("draggable").options;c._opacity&&d(f.helper).css("opacity",
c._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(){var a=d(this).data("draggable");if(a.scrollParent[0]!=document&&"HTML"!=a.scrollParent[0].tagName)a.overflowOffset=a.scrollParent.offset()},drag:function(a){var f=d(this).data("draggable"),c=f.options,b=!1;if(f.scrollParent[0]!=document&&"HTML"!=f.scrollParent[0].tagName){if(!c.axis||"x"!=c.axis)if(f.overflowOffset.top+f.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity)f.scrollParent[0].scrollTop=b=f.scrollParent[0].scrollTop+
c.scrollSpeed;else if(a.pageY-f.overflowOffset.top<c.scrollSensitivity)f.scrollParent[0].scrollTop=b=f.scrollParent[0].scrollTop-c.scrollSpeed;if(!c.axis||"y"!=c.axis)if(f.overflowOffset.left+f.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity)f.scrollParent[0].scrollLeft=b=f.scrollParent[0].scrollLeft+c.scrollSpeed;else if(a.pageX-f.overflowOffset.left<c.scrollSensitivity)f.scrollParent[0].scrollLeft=b=f.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||"x"!=c.axis)a.pageY-d(document).scrollTop()<
c.scrollSensitivity?b=d(document).scrollTop(d(document).scrollTop()-c.scrollSpeed):d(window).height()-(a.pageY-d(document).scrollTop())<c.scrollSensitivity&&(b=d(document).scrollTop(d(document).scrollTop()+c.scrollSpeed));if(!c.axis||"y"!=c.axis)a.pageX-d(document).scrollLeft()<c.scrollSensitivity?b=d(document).scrollLeft(d(document).scrollLeft()-c.scrollSpeed):d(window).width()-(a.pageX-d(document).scrollLeft())<c.scrollSensitivity&&(b=d(document).scrollLeft(d(document).scrollLeft()+c.scrollSpeed))}!1!==
b&&d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(f,a)}});d.ui.plugin.add("draggable","snap",{start:function(){var a=d(this).data("draggable"),f=a.options;a.snapElements=[];d(f.snap.constructor!=String?f.snap.items||":data(draggable)":f.snap).each(function(){var c=d(this),b=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:b.top,left:b.left})})},drag:function(a,f){for(var c=d(this).data("draggable"),b=c.options,e=b.snapTolerance,
g=f.offset.left,i=g+c.helperProportions.width,h=f.offset.top,l=h+c.helperProportions.height,j=c.snapElements.length-1;0<=j;j--){var m=c.snapElements[j].left,q=m+c.snapElements[j].width,r=c.snapElements[j].top,s=r+c.snapElements[j].height;if(m-e<g&&g<q+e&&r-e<h&&h<s+e||m-e<g&&g<q+e&&r-e<l&&l<s+e||m-e<i&&i<q+e&&r-e<h&&h<s+e||m-e<i&&i<q+e&&r-e<l&&l<s+e){if("inner"!=b.snapMode){var n=Math.abs(r-l)<=e,t=Math.abs(s-h)<=e,z=Math.abs(m-i)<=e,A=Math.abs(q-g)<=e;if(n)f.position.top=c._convertPositionTo("relative",
{top:r-c.helperProportions.height,left:0}).top-c.margins.top;if(t)f.position.top=c._convertPositionTo("relative",{top:s,left:0}).top-c.margins.top;if(z)f.position.left=c._convertPositionTo("relative",{top:0,left:m-c.helperProportions.width}).left-c.margins.left;if(A)f.position.left=c._convertPositionTo("relative",{top:0,left:q}).left-c.margins.left}var u=n||t||z||A;if("outer"!=b.snapMode){n=Math.abs(r-h)<=e;t=Math.abs(s-l)<=e;z=Math.abs(m-g)<=e;A=Math.abs(q-i)<=e;if(n)f.position.top=c._convertPositionTo("relative",
{top:r,left:0}).top-c.margins.top;if(t)f.position.top=c._convertPositionTo("relative",{top:s-c.helperProportions.height,left:0}).top-c.margins.top;if(z)f.position.left=c._convertPositionTo("relative",{top:0,left:m}).left-c.margins.left;if(A)f.position.left=c._convertPositionTo("relative",{top:0,left:q-c.helperProportions.width}).left-c.margins.left}!c.snapElements[j].snapping&&(n||t||z||A||u)&&c.options.snap.snap&&c.options.snap.snap.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[j].item}));
c.snapElements[j].snapping=n||t||z||A||u}else c.snapElements[j].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[j].item})),c.snapElements[j].snapping=!1}}});d.ui.plugin.add("draggable","stack",{start:function(){var a=d(this).data("draggable").options,a=d.makeArray(d(a.stack)).sort(function(a,b){return(parseInt(d(a).css("zIndex"),10)||0)-(parseInt(d(b).css("zIndex"),10)||0)});if(a.length){var f=parseInt(a[0].style.zIndex)||0;d(a).each(function(a){this.style.zIndex=
f+a});this[0].style.zIndex=f+a.length}}});d.ui.plugin.add("draggable","zIndex",{start:function(a,f){var c=d(f.helper),b=d(this).data("draggable").options;if(c.css("zIndex"))b._zIndex=c.css("zIndex");c.css("zIndex",b.zIndex)},stop:function(a,f){var c=d(this).data("draggable").options;c._zIndex&&d(f.helper).css("zIndex",c._zIndex)}})})(jQuery);
(function(d){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,f=a.accept;this.isover=0;this.isout=1;this.accept=d.isFunction(f)?f:function(a){return a.is(f)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[];d.ui.ddmanager.droppables[a.scope].push(this);
a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var a=d.ui.ddmanager.droppables[this.options.scope],f=0;f<a.length;f++)a[f]==this&&a.splice(f,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,f){if("accept"==a)this.accept=d.isFunction(f)?f:function(a){return a.is(f)};d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var f=d.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);f&&this._trigger("activate",a,this.ui(f))},_deactivate:function(a){var f=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",a,this.ui(f))},_over:function(a){var f=d.ui.ddmanager.current;if(f&&(f.currentItem||f.element)[0]!=this.element[0])if(this.accept.call(this.element[0],f.currentItem||f.element))this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",
a,this.ui(f))},_out:function(a){var f=d.ui.ddmanager.current;if(f&&(f.currentItem||f.element)[0]!=this.element[0])if(this.accept.call(this.element[0],f.currentItem||f.element))this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(f))},_drop:function(a,f){var c=f||d.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return!1;var b=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var a=d.data(this,
"droppable");if(a.options.greedy&&!a.options.disabled&&a.options.scope==c.options.scope&&a.accept.call(a.element[0],c.currentItem||c.element)&&d.ui.intersect(c,d.extend(a,{offset:a.element.offset()}),a.options.tolerance))return b=!0,!1});if(b)return!1;return this.accept.call(this.element[0],c.currentItem||c.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(c)),
this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});d.extend(d.ui.droppable,{version:"1.8.6"});d.ui.intersect=function(a,f,c){if(!f.offset)return!1;var b=(a.positionAbs||a.position.absolute).left,e=b+a.helperProportions.width,g=(a.positionAbs||a.position.absolute).top,i=g+a.helperProportions.height,h=f.offset.left,l=h+f.proportions.width,j=f.offset.top,m=j+f.proportions.height;switch(c){case "fit":return h<=b&&e<=
l&&j<=g&&i<=m;case "intersect":return h<b+a.helperProportions.width/2&&e-a.helperProportions.width/2<l&&j<g+a.helperProportions.height/2&&i-a.helperProportions.height/2<m;case "pointer":return d.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,j,h,f.proportions.height,f.proportions.width);case "touch":return(g>=j&&g<=m||i>=j&&i<=m||g<j&&i>m)&&(b>=h&&b<=l||e>=h&&e<=l||b<h&&e>l);default:return!1}};
d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,f){var c=d.ui.ddmanager.droppables[a.options.scope]||[],b=f?f.type:null,e=(a.currentItem||a.element).find(":data(droppable)").andSelf(),g=0;a:for(;g<c.length;g++)if(!(c[g].options.disabled||a&&!c[g].accept.call(c[g].element[0],a.currentItem||a.element))){for(var i=0;i<e.length;i++)if(e[i]==c[g].element[0]){c[g].proportions.height=0;continue a}c[g].visible="none"!=c[g].element.css("display");if(c[g].visible)c[g].offset=
c[g].element.offset(),c[g].proportions={width:c[g].element[0].offsetWidth,height:c[g].element[0].offsetHeight},"mousedown"==b&&c[g]._activate.call(c[g],f)}},drop:function(a,f){var c=!1;d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(this.options&&(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance)&&(c=c||this._drop.call(this,f)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)))this.isout=1,this.isover=
0,this._deactivate.call(this,f)});return c},drag:function(a,f){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,f);d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var c=d.ui.intersect(a,this,this.options.tolerance);if(c=!c&&1==this.isover?"isout":c&&0==this.isover?"isover":null){var b;if(this.options.greedy){var e=this.element.parents(":data(droppable):eq(0)");if(e.length)b=d.data(e[0],"droppable"),b.greedyChild=
"isover"==c?1:0}if(b&&"isover"==c)b.isover=0,b.isout=1,b._out.call(b,f);this[c]=1;this["isout"==c?"isover":"isout"]=0;this["isover"==c?"_over":"_out"].call(this,f);if(b&&"isout"==c)b.isout=0,b.isover=1,b._over.call(b,f)}}})}}})(jQuery);
(function(d,a){a.ui=a.ui||{};var f={exec:function(c,b){if("server"==b.switchMode)return this.execServer(c,b);if("ajax"==b.switchMode)return this.execAjax(c,b);if("client"==b.switchMode)return this.execClient(c,b);a.log.error("SwitchItems.exec : unknown switchMode ("+b.switchMode+")")},execServer:function(c,b){if(c&&!c.__leave())return!1;this.__setActiveItem(b);var e={};e[b.getTogglePanel().id]=b.name;e[b.id]=b.id;d.extend(e,b.getTogglePanel().options.ajax||{});a.submitForm(this.__getParentForm(b),
e);return!1},execAjax:function(c,b){var e=d.extend({},b.getTogglePanel().options.ajax,{});this.__setActiveItem(b);a.ajax(b.id,null,e);c&&this.__setActiveItem(c);return!1},execClient:function(a,b){if(a&&!a.__leave())return!1;this.__setActiveItem(b);b.__enter();b.getTogglePanel().__fireItemChange(a,b);return!0},__getParentForm:function(c){return d(a.getDomElement(c.id)).parents("form:first")},__setActiveItem:function(c){a.getDomElement(c.togglePanelId+"-value").value=c.getName();c.getTogglePanel().activeItem=
c.getName()}};a.ui.TabPanel=a.ui.TogglePanel.extendClass({name:"TabPanel",init:function(c,b){a.ui.TogglePanel.call(this,c,b);this.items=[];this.isKeepHeight=b.isKeepHeight||!1},__itemsSwitcher:function(){return f}})})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.PopupPanel.Border=function(c,b,e,g){f.constructor.call(this,c);this.element=d(a.getDomElement(c));this.element.css("cursor",e);this.element.bind("mousedown",{border:this},this.startDrag);this.modalPanel=b;this.sizer=g};var f=a.BaseComponent.extend(a.ui.PopupPanel.Border),f=a.ui.PopupPanel.Border.$super;d.extend(a.ui.PopupPanel.Border.prototype,function(){return{name:"RichFaces.ui.PopupPanel.Border",destroy:function(){this.doingDrag&&(d(document).unbind("mousemove",
this.doDrag),d(document).unbind("mouseup",this.endDrag));this.element.unbind("mousedown",this.startDrag);this.modalPanel=this.element=null},show:function(){this.element.show()},hide:function(){this.element.hide()},startDrag:function(a){var b=a.data.border;b.doingDrag=!0;b.dragX=a.clientX;b.dragY=a.clientY;d(document).bind("mousemove",{border:b},b.doDrag);d(document).bind("mouseup",{border:b},b.endDrag);b.modalPanel.startDrag(b);b.onselectStartHandler=document.onselectstart;document.onselectstart=
function(){return!1}},getWindowSize:function(){var a=0,b=0;if("number"==typeof window.innerWidth)a=window.innerWidth,b=window.innerHeight;else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight))a=document.documentElement.clientWidth,b=document.documentElement.clientHeight;else if(document.body&&(document.body.clientWidth||document.body.clientHeight))a=document.body.clientWidth,b=document.body.clientHeight;return{width:a,height:b}},doDrag:function(a){var b=
a.data.border;if(b.doingDrag){var d=a.clientX,g=a.clientY,f=b.getWindowSize();0>d?d=0:d>=f.width&&(d=f.width-1);0>g?g=0:g>=f.height&&(g=f.height-1);var f=d-b.dragX,h=g-b.dragY;if(0!=f||0!=h){var f=b.sizer.prototype.doDiff(f,h),l,h=b.modalPanel.cdiv;if(f.deltaWidth||f.deltaHeight)l=b.modalPanel.invokeEvent("resize",a,null,h);else if(f.deltaX||f.deltaY)l=b.modalPanel.invokeEvent("move",a,null,h);var j;l&&(j=b.modalPanel.doResizeOrMove(f));if(j)b.dragX=j.x?f.deltaX?b.dragX+(j.vx||0):b.dragX-(j.vx||0):
d,b.dragY=j.y?f.deltaY?b.dragY+(j.vy||0):b.dragY-(j.vy||0):g}}},endDrag:function(c){c=c.data.border;c.doingDrag=void 0;d(document).unbind("mousemove",c.doDrag);d(document).unbind("mouseup",c.endDrag);c.modalPanel.endDrag(c);c.modalPanel.doResizeOrMove(a.ui.PopupPanel.Sizer.Diff.EMPTY);document.onselectstart=c.onselectStartHandler;c.onselectStartHandler=null},doPosition:function(){this.sizer.prototype.doPosition(this.modalPanel,this.element)}}}())})(jQuery,window.RichFaces);
(function(d){var a,f,c,b;d.extend({pnotify_remove_all:function(){var a=c.data("pnotify");a&&a.length&&d.each(a,function(){this.pnotify_remove&&this.pnotify_remove()})},pnotify_position_all:function(){f&&clearTimeout(f);f=null;var a=c.data("pnotify");a&&a.length&&(d.each(a,function(){var a=this.opts.pnotify_stack;if(a){if(!a.nextpos1)a.nextpos1=a.firstpos1;if(!a.nextpos2)a.nextpos2=a.firstpos2;if(!a.addpos2)a.addpos2=0;if("none"!=this.css("display")){var c,d,e={},j;switch(a.dir1){case "down":j="top";
break;case "up":j="bottom";break;case "left":j="right";break;case "right":j="left"}c=parseInt(this.css(j));isNaN(c)&&(c=0);if("undefined"==typeof a.firstpos1)a.firstpos1=c,a.nextpos1=a.firstpos1;var f;switch(a.dir2){case "down":f="top";break;case "up":f="bottom";break;case "left":f="right";break;case "right":f="left"}d=parseInt(this.css(f));isNaN(d)&&(d=0);if("undefined"==typeof a.firstpos2)a.firstpos2=d,a.nextpos2=a.firstpos2;if("down"==a.dir1&&a.nextpos1+this.height()>b.height()||"up"==a.dir1&&
a.nextpos1+this.height()>b.height()||"left"==a.dir1&&a.nextpos1+this.width()>b.width()||"right"==a.dir1&&a.nextpos1+this.width()>b.width())a.nextpos1=a.firstpos1,a.nextpos2+=a.addpos2+10,a.addpos2=0;if(a.animation&&a.nextpos2<d)switch(a.dir2){case "down":e.top=a.nextpos2+"px";break;case "up":e.bottom=a.nextpos2+"px";break;case "left":e.right=a.nextpos2+"px";break;case "right":e.left=a.nextpos2+"px"}else this.css(f,a.nextpos2+"px");switch(a.dir2){case "down":case "up":if(this.outerHeight(!0)>a.addpos2)a.addpos2=
this.height();break;case "left":case "right":if(this.outerWidth(!0)>a.addpos2)a.addpos2=this.width()}if(a.nextpos1)if(a.animation&&(c>a.nextpos1||e.top||e.bottom||e.right||e.left))switch(a.dir1){case "down":e.top=a.nextpos1+"px";break;case "up":e.bottom=a.nextpos1+"px";break;case "left":e.right=a.nextpos1+"px";break;case "right":e.left=a.nextpos1+"px"}else this.css(j,a.nextpos1+"px");(e.top||e.bottom||e.right||e.left)&&this.animate(e,{duration:500,queue:!1});switch(a.dir1){case "down":case "up":a.nextpos1+=
this.height()+10;break;case "left":case "right":a.nextpos1+=this.width()+10}}}}),d.each(a,function(){var a=this.opts.pnotify_stack;if(a)a.nextpos1=a.firstpos1,a.nextpos2=a.firstpos2,a.addpos2=0,a.animation=!0}))},pnotify:function(e){c||(c=d("body"));b||(b=d(window));var m,g;if("object"!=typeof e)g=d.extend({},d.pnotify.defaults),g.pnotify_text=e;else if(g=d.extend({},d.pnotify.defaults,e),g.pnotify_animation instanceof Object)g.pnotify_animation=d.extend({effect_in:d.pnotify.defaults.pnotify_animation,
effect_out:d.pnotify.defaults.pnotify_animation},g.pnotify_animation);if(g.pnotify_before_init&&!1===g.pnotify_before_init(g))return null;var i,h=function(a,b){n.css("display","none");var c=document.elementFromPoint(a.clientX,a.clientY);n.css("display","block");var e=d(c),j=e.css("cursor");n.css("cursor","auto"!=j?j:"default");if(!i||i.get(0)!=c)i&&(l.call(i.get(0),"mouseleave",a.originalEvent),l.call(i.get(0),"mouseout",a.originalEvent)),l.call(c,"mouseenter",a.originalEvent),l.call(c,"mouseover",
a.originalEvent);l.call(c,b,a.originalEvent);i=e},n=d("<div />",{"class":"rf-ntf "+g.pnotify_addclass,css:{display:"none"},mouseenter:function(a){g.pnotify_nonblock&&a.stopPropagation();g.pnotify_mouse_reset&&"out"==m&&(n.stop(!0),m="in",n.css("height","auto").animate({width:g.pnotify_width,opacity:g.pnotify_nonblock?g.pnotify_nonblock_opacity:g.pnotify_opacity},"fast"));g.pnotify_nonblock&&n.animate({opacity:g.pnotify_nonblock_opacity},"fast");g.pnotify_hide&&g.pnotify_mouse_reset&&n.pnotify_cancel_remove();
g.pnotify_closer&&!g.pnotify_nonblock&&n.closer.css("visibility","visible")},mouseleave:function(a){g.pnotify_nonblock&&a.stopPropagation();i=null;n.css("cursor","auto");g.pnotify_nonblock&&"out"!=m&&n.animate({opacity:g.pnotify_opacity},"fast");g.pnotify_hide&&g.pnotify_mouse_reset&&n.pnotify_queue_remove();n.closer.css("visibility","hidden");d.pnotify_position_all()},mouseover:function(a){g.pnotify_nonblock&&a.stopPropagation()},mouseout:function(a){g.pnotify_nonblock&&a.stopPropagation()},mousemove:function(a){g.pnotify_nonblock&&
(a.stopPropagation(),h(a,"onmousemove"))},mousedown:function(a){g.pnotify_nonblock&&(a.stopPropagation(),a.preventDefault(),h(a,"onmousedown"))},mouseup:function(a){g.pnotify_nonblock&&(a.stopPropagation(),a.preventDefault(),h(a,"onmouseup"))},click:function(a){g.pnotify_nonblock&&(a.stopPropagation(),h(a,"onclick"))},dblclick:function(a){g.pnotify_nonblock&&(a.stopPropagation(),h(a,"ondblclick"))}});n.opts=g;if(g.pnotify_shadow&&!d.browser.msie)n.shadow_container=d("<div />",{"class":"rf-ntf-shdw"}).prependTo(n);
n.container=d("<div />",{"class":"rf-ntf-cnt"}).appendTo(n);n.pnotify_version="1.0.1";n.pnotify=function(a){var b=g;"string"==typeof a?g.pnotify_text=a:g=d.extend({},g,a);n.opts=g;if(g.pnotify_shadow!=b.pnotify_shadow)g.pnotify_shadow&&!d.browser.msie?n.shadow_container=d("<div />",{"class":"rf-ntf-shdw"}).prependTo(n):n.children(".rf-ntf-shdw").remove();!1===g.pnotify_addclass?n.removeClass(b.pnotify_addclass):g.pnotify_addclass!==b.pnotify_addclass&&n.removeClass(b.pnotify_addclass).addClass(g.pnotify_addclass);
!1===g.pnotify_title?n.title_container.hide("fast"):g.pnotify_title!==b.pnotify_title&&n.title_container.html(g.pnotify_title).show(200);if(!1===g.pnotify_text)n.text_container.hide("fast");else if(g.pnotify_text!==b.pnotify_text){if(g.pnotify_insert_brs)g.pnotify_text=g.pnotify_text.replace(/\n/g,"<br />");n.text_container.html(g.pnotify_text).show(200)}n.pnotify_history=g.pnotify_history;g.pnotify_type!=b.pnotify_type&&n.container.toggleClass("rf-ntf-cnt rf-ntf-cnt-hov");if(g.pnotify_notice_icon!=
b.pnotify_notice_icon&&"notice"==g.pnotify_type||g.pnotify_error_icon!=b.pnotify_error_icon&&"error"==g.pnotify_type||g.pnotify_type!=b.pnotify_type)n.container.find("div.rf-ntf-ico").remove(),d("<div />",{"class":"rf-ntf-ico"}).append(d("<span />",{"class":"error"==g.pnotify_type?g.pnotify_error_icon:g.pnotify_notice_icon})).prependTo(n.container);g.pnotify_width!==b.pnotify_width&&n.animate({width:g.pnotify_width});g.pnotify_min_height!==b.pnotify_min_height&&n.container.animate({minHeight:g.pnotify_min_height});
g.pnotify_opacity!==b.pnotify_opacity&&n.fadeTo(g.pnotify_animate_speed,g.pnotify_opacity);g.pnotify_hide?b.pnotify_hide||n.pnotify_queue_remove():n.pnotify_cancel_remove();n.pnotify_queue_position();return n};n.pnotify_queue_position=function(){f&&clearTimeout(f);f=setTimeout(d.pnotify_position_all,10)};n.pnotify_display=function(){n.parent().length||n.appendTo(c);g.pnotify_before_open&&!1===g.pnotify_before_open(n)||(n.pnotify_queue_position(),"fade"==g.pnotify_animation||"fade"==g.pnotify_animation.effect_in?
n.show().fadeTo(0,0).hide():1!=g.pnotify_opacity&&n.show().fadeTo(0,g.pnotify_opacity).hide(),n.animate_in(function(){g.pnotify_after_open&&g.pnotify_after_open(n);n.pnotify_queue_position();g.pnotify_hide&&n.pnotify_queue_remove()}))};n.pnotify_remove=function(){if(n.timer)window.clearTimeout(n.timer),n.timer=null;g.pnotify_before_close&&!1===g.pnotify_before_close(n)||n.animate_out(function(){g.pnotify_after_close&&!1===g.pnotify_after_close(n)||(n.pnotify_queue_position(),g.pnotify_remove&&n.detach())})};
n.animate_in=function(a){m="in";var b;b="undefined"!=typeof g.pnotify_animation.effect_in?g.pnotify_animation.effect_in:g.pnotify_animation;"none"==b?(n.show(),a()):"show"==b?n.show(g.pnotify_animate_speed,a):"fade"==b?n.show().fadeTo(g.pnotify_animate_speed,g.pnotify_opacity,a):"slide"==b?n.slideDown(g.pnotify_animate_speed,a):"function"==typeof b?b("in",a,n):n.effect&&n.effect(b,{},g.pnotify_animate_speed,a)};n.animate_out=function(a){m="out";var b;b="undefined"!=typeof g.pnotify_animation.effect_out?
g.pnotify_animation.effect_out:g.pnotify_animation;"none"==b?(n.hide(),a()):"show"==b?n.hide(g.pnotify_animate_speed,a):"fade"==b?n.fadeOut(g.pnotify_animate_speed,a):"slide"==b?n.slideUp(g.pnotify_animate_speed,a):"function"==typeof b?b("out",a,n):n.effect&&n.effect(b,{},g.pnotify_animate_speed,a)};n.pnotify_cancel_remove=function(){n.timer&&window.clearTimeout(n.timer)};n.pnotify_queue_remove=function(){n.pnotify_cancel_remove();n.timer=window.setTimeout(function(){n.pnotify_remove()},isNaN(g.pnotify_delay)?
0:g.pnotify_delay)};n.closer=d("<div />",{"class":"rf-ntf-cls",css:{cursor:"pointer",visibility:"hidden"},click:function(){n.pnotify_remove();n.closer.css("visibility","hidden")}}).append(d("<span />",{"class":"rf-ntf-cls-ico"})).appendTo(n.container);d("<div />",{"class":"rf-ntf-ico"}).append(d("<span />",{"class":"error"==g.pnotify_type?g.pnotify_error_icon:g.pnotify_notice_icon})).appendTo(n.container);n.title_container=d("<div />",{"class":"rf-ntf-sum",html:g.pnotify_title}).appendTo(n.container);
!1===g.pnotify_title&&n.title_container.hide();if(g.pnotify_insert_brs&&"string"==typeof g.pnotify_text)g.pnotify_text=g.pnotify_text.replace(/\n/g,"<br />");n.text_container=d("<div />",{"class":"rf-ntf-det",html:g.pnotify_text}).appendTo(n.container);!1===g.pnotify_text&&n.text_container.hide();d("<div />",{"class":"rf-ntf-clr"}).appendTo(n.container);"string"==typeof g.pnotify_width&&n.css("width",g.pnotify_width);"string"==typeof g.pnotify_min_height&&n.container.css("min-height",g.pnotify_min_height);
n.pnotify_history=g.pnotify_history;e=c.data("pnotify");if(null==e||"object"!=typeof e)e=[];e="top"==g.pnotify_stack.push?d.merge([n],e):d.merge(e,[n]);c.data("pnotify",e);g.pnotify_after_init&&g.pnotify_after_init(n);if(g.pnotify_history){var t=c.data("pnotify_history");"undefined"==typeof t&&(t=d("<div />",{"class":"rf-ntf-hstr",mouseleave:function(){t.animate({top:"-"+a+"px"},{duration:100,queue:!1})}}).append(d("<div />",{"class":"rf-ntf-hstr-hdr",text:"Redisplay"})).append(d("<button />",{"class":"rf-ntf-hstr-all",
text:"All",click:function(){d.each(c.data("pnotify"),function(){this.pnotify_history&&this.pnotify_display&&this.pnotify_display()});return!1}})).append(d("<button />",{"class":"rf-ntf-hstr-last",text:"Last",click:function(){for(var a=1,b=c.data("pnotify");!b[b.length-a]||!b[b.length-a].pnotify_history||b[b.length-a].is(":visible");){if(0===b.length-a)return!1;a++}a=b[b.length-a];a.pnotify_display&&a.pnotify_display();return!1}})).appendTo(c),a=d("<span />",{"class":"rf-ntf-hstr-hndl",mouseenter:function(){t.animate({top:"0"},
{duration:100,queue:!1})}}).appendTo(t).offset().top+2,t.css({top:"-"+a+"px"}),c.data("pnotify_history",t))}g.pnotify_stack.animation=!1;n.pnotify_display();return n}});var e=/^on/,g=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,i=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,h=/^(scroll|resize|(un)?load|abort|error)$/,l=function(a,b){var c,a=a.toLowerCase();document.createEvent&&this.dispatchEvent?(a=a.replace(e,""),a.match(g)?(d(this).offset(),c=document.createEvent("MouseEvents"),
c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)):a.match(i)?(c=document.createEvent("UIEvents"),c.initUIEvent(a,b.bubbles,b.cancelable,b.view,b.detail)):a.match(h)&&(c=document.createEvent("HTMLEvents"),c.initEvent(a,b.bubbles,b.cancelable)),c&&this.dispatchEvent(c)):(a.match(e)||(a="on"+a),c=document.createEventObject(b),this.fireEvent(a,c))};d.pnotify.defaults={pnotify_title:!1,pnotify_text:!1,
pnotify_addclass:"",pnotify_nonblock:!1,pnotify_nonblock_opacity:0.2,pnotify_history:!0,pnotify_width:"300px",pnotify_min_height:"16px",pnotify_type:"notice",pnotify_notice_icon:"",pnotify_error_icon:"",pnotify_animation:"fade",pnotify_animate_speed:"slow",pnotify_opacity:1,pnotify_shadow:!1,pnotify_closer:!0,pnotify_hide:!0,pnotify_delay:8E3,pnotify_mouse_reset:!0,pnotify_remove:!0,pnotify_insert_brs:!0,pnotify_stack:{dir1:"down",dir2:"left",push:"bottom"}}})(jQuery);
(function(d,a){a.ui=a.ui||{};var f={enabledInInput:!1,preventDefault:!0},c=["keydown","keyup"];a.ui.HotKey=function(c,g){b.constructor.call(this,c);this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);this.attachToDom(this.componentId);this.options=d.extend({},f,g);this.__handlers={};this.options.selector=this.options.selector?this.options.selector:document;d(document).ready(d.proxy(function(){this.__bindDefinedHandlers()},this))};a.BaseComponent.extend(a.ui.HotKey);var b=
a.ui.HotKey.$super;d.extend(a.ui.HotKey.prototype,{name:"HotKey",__bindDefinedHandlers:function(){for(var a=0;a<c.length;a++)this.options["on"+c[a]]&&this.__bindHandler(c[a])},__bindHandler:function(a){this.__handlers[a]=d.proxy(function(b){var c=this.invokeEvent.call(this,a,document.getElementById(this.id),b);return this.options.preventDefault?(b.stopPropagation(),b.preventDefault(),!1):c},this);d(this.options.selector).bind(a+this.namespace,this.options,this.__handlers[a])},destroy:function(){a.Event.unbindById(this.id,
this.namespace);for(var c in this.__handlers)this.__handlers.hasOwnProperty(c)&&d(this.options.selector).unbind(c+this.namespace,this.__handlers[c]);b.destroy.call(this)}})})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};var f={disabled:!1,selectable:!0,unselectable:!1,mode:"client",stylePrefix:"rf-pm-itm",itemStep:20},c={exec:function(b){if(b.expanded){if(b.options.expandEvent==b.options.collapseEvent&&"click"==b.options.collapseEvent&&!1==b.__fireEvent("beforeswitch"))return!1;if(b.expanded()){if("click"==b.options.collapseEvent&&!1==b.__fireEvent("beforecollapse"))return!1}else if("click"==b.options.expandEvent&&!1==b.__fireEvent("beforeexpand"))return!1}var c=b.mode;if("server"==c)return this.execServer(b);
if("ajax"==c)return this.execAjax(b);if("client"==c||"none"==c)return this.execClient(b);a.log.error("SELECT_ITEM.exec : unknown mode ("+c+")")},execServer:function(b){b.__changeState();var c={};c[b.__panelMenu().id]=b.itemName;c[b.id]=b.id;d.extend(c,b.options.ajax.parameters||{});a.submitForm(this.__getParentForm(b),c);return!1},execAjax:function(b){var c=b.__changeState();a.ajax(b.id,null,d.extend({},b.options.ajax,{}));b.__restoreState(c);return!0},execClient:function(a){var b=a.__rfPanelMenu(),
c=b.getSelectedItem();c&&c.unselect();b.selectedItem(a.itemName);a.__select();b=a.__fireSelect();if(a.__switch)c=a.mode,("client"==c||"none"==c)&&a.__switch(!a.expanded());return b},__getParentForm:function(b){return d(d(a.getDomElement(b.id)).parents("form")[0])}};a.ui.PanelMenuItem=a.BaseComponent.extendClass({name:"PanelMenuItem",init:function(a,c){b.constructor.call(this,a);d(this.attachToDom());this.options=d.extend(this.options,f,c||{});this.mode=this.options.mode;this.itemName=this.options.name;
this.__rfPanelMenu().addItem(this);this.selectionClass=this.options.stylePrefix+"-sel";if(!this.options.disabled){var i=this;this.options.selectable&&this.__header().bind("click",function(){if(i.__rfPanelMenu().selectedItem()==i.id){if(i.options.unselectable)return i.unselect()}else return i.select()})}i=this;d(this.__panelMenu()).ready(function(){i.__renderNestingLevel()});this.__addUserEventHandler("select");this.__addUserEventHandler("beforeselect")},selected:function(){return this.__header().hasClass(this.selectionClass)},
select:function(){return!this.__fireBeforeSelect()?!1:c.exec(this)},onCompleteHandler:function(){c.execClient(this)},unselect:function(){var b=this.__rfPanelMenu();b.selectedItem()==this.itemName?b.selectedItem(null):a.log.warn("You tried to unselect item (name="+this.itemName+") that isn't seleted");this.__unselect();return this.__fireUnselect()},__rfParentItem:function(){var b=this.__item().parents(".rf-pm-gr")[0];b||(b=this.__item().parents(".rf-pm-top-gr")[0]);b||(b=this.__panelMenu());return b?
a.$(b):null},__getNestingLevel:function(){if(!this.nestingLevel){var a=this.__rfParentItem();this.nestingLevel=a&&a.__getNestingLevel?a.__getNestingLevel()+1:0}return this.nestingLevel},__renderNestingLevel:function(){this.__item().find("td").first().css("padding-left",this.options.itemStep*this.__getNestingLevel())},__panelMenu:function(){return this.__item().parents(".rf-pm")[0]},__rfPanelMenu:function(){return a.$(this.__panelMenu())},__changeState:function(){return this.__rfPanelMenu().selectedItem(this.itemName)},
__restoreState:function(a){a&&this.__rfPanelMenu().selectedItem(a)},__item:function(){return d(a.getDomElement(this.id))},__header:function(){return this.__item()},__isSelected:function(){return this.__header().hasClass(this.selectionClass)},__select:function(){this.__header().addClass(this.selectionClass)},__unselect:function(){this.__header().removeClass(this.selectionClass)},__fireBeforeSelect:function(){return a.Event.fireById(this.id,"beforeselect",{item:this})},__fireSelect:function(){return a.Event.fireById(this.id,
"select",{item:this})},__fireUnselect:function(){return a.Event.fireById(this.id,"unselect",{item:this})},__fireEvent:function(b,c){return this.invokeEvent(b,a.getDomElement(this.id),c,{id:this.id,item:this})},__addUserEventHandler:function(b){var c=this.options["on"+b];c&&a.Event.bindById(this.id,b,c)},__rfTopGroup:function(){var a=this.__item().parents(".rf-pm-top-gr")[0];return a?a:null},destroy:function(){var a=this.__rfPanelMenu();a&&a.deleteItem(this);b.destroy.call(this)}});var b=a.ui.PanelMenuItem.$super})(jQuery,
RichFaces);
(function(d,a,f){var c=a.Event.RICH_NAMESPACE,b=a.Event.EVENT_NAMESPACE_SEPARATOR,e="dataAvailable"+b+c+b+"Push",g="subscribed"+b+c+b+"Push",i="error"+b+c+b+"Push";a.Push=function(){var c={},d={},m={},q={},h=null,s=null,n=null,t=/^(<\!--[^>]+--\>\s*)+/,z=/<([^>]*)>/g,A=-1,u=function(a){var b=a;"/"==a.charAt(0)&&(b=location.protocol+"//"+location.host+a);return b},p=function(c){if(c=c.responseBody.replace(t,""))for(var d;d=z.exec(c);)if(d[1]&&(d=f.parseJSON("{"+d[1]+"}"),!(d.number<=A)))a.Event.fire(document,e+
b+d.topic,d.data),A=d.number;jQuery.atmosphere.request.requestCount=0},o=function(){var c={},d=[],e;for(e in q)d.push(e),m[e]||(c[e]=!0);d={pushTopic:d};if(n)d.forgetPushSessionId=n;f.ajax({data:d,dataType:"text",success:function(d){var d=f.parseJSON(d),e;for(e in d.failures)a.Event.fire(document,i+b+e,d.failures[e]);if(d.sessionId){n=d.sessionId;f.atmosphere.subscribe((s||h)+"?__richfacesPushAsync=1&pushSessionId="+n,p,{transport:a.Push.transport,fallbackTransport:a.Push.fallbackTransport});for(var j in c)m[j]=
!0,a.Event.fire(document,g+b+j)}},traditional:!0,type:"POST",url:h})};return{increaseSubscriptionCounters:function(a){isNaN(q[a]++)&&(q[a]=1,c[a]=!0)},decreaseSubscriptionCounters:function(a){0==--q[a]&&(delete q[a],d[a]=!0,m[a]=!1)},setPushResourceUrl:function(a){h=u(a)},setPushHandlerUrl:function(a){s=u(a)},updateConnection:function(){if(f.isEmptyObject(q))f.atmosphere.closeSuspendedConnection();else if(!f.isEmptyObject(c)||!f.isEmptyObject(d))f.atmosphere.closeSuspendedConnection(),o();c={};d=
{}}}}();f(document).ready(a.Push.updateConnection);a.Push.transport="long-polling";a.Push.fallbackTransport=void 0;c=function(b){if("event"==b.type){if("success"!=b.status)return}else if("error"!=b.type)return;a.Push.updateConnection()};d.ajax.addOnEvent(c);d.ajax.addOnError(c);a.ui=a.ui||{};a.ui.Push=a.BaseComponent.extendClass({name:"Push",init:function(b,c){h.constructor.call(this,b);this.attachToDom();this.__address=c.address;this.__handlers={};c.ondataavailable&&this.__bindDataHandler(c.ondataavailable);
c.onsubscribed&&this.__bindSubscribedHandler(c.onsubscribed);c.onerror&&this.__bindErrorHandler(c.onerror);a.Push.increaseSubscriptionCounters(this.__address)},__bindDataHandler:function(c){this.__handlers.data=a.Event.bind(document,e+b+this.__address,$.proxy(c,document.getElementById(this.id)),this)},__unbindDataHandler:function(){if(this.__handlers.data)a.Event.unbind(document,e+b+this.__address,this.__handlers.data),this.__handlers.data=null},__bindSubscribedHandler:function(c){this.__handlers.subscribed=
a.Event.bind(document,g+b+this.__address,$.proxy(c,document.getElementById(this.id)),this)},__unbindSubscribedHandler:function(){if(this.__handlers.subscribed)a.Event.unbind(document,g+b+this.__address,this.__handlers.subscribed),this.__handlers.subscribed=null},__bindErrorHandler:function(c){this.__handlers.error=a.Event.bind(document,i+b+this.__address,$.proxy(c,document.getElementById(this.id)),this)},__unbindErrorHandler:function(){if(this.__handlers.error)a.Event.unbind(document,i+b+this.__address,
this.__handlers.error),this.__handlers.error=null},destroy:function(){this.__unbindDataHandler();this.__unbindErrorHandler();this.__unbindSubscribedHandler();a.Push.decreaseSubscriptionCounters(this.__address);h.destroy.call(this)}});var h=a.ui.Push.$super})(jsf,window.RichFaces,jQuery);
(function(d,a){a.ui=a.ui||{};a.ui.Accordion=a.ui.TogglePanel.extendClass({name:"Accordion",init:function(a,b){f.constructor.call(this,a,b);this.items=[];this.isKeepHeight=b.isKeepHeight||!1},getHeight:function(c){if(c||!this.__height)this.__height=d(a.getDomElement(this.id)).outerHeight(!0);return this.__height},getInnerHeight:function(c){if(c||!this.__innerHeight)this.__innerHeight=d(a.getDomElement(this.id)).innerHeight();return this.__innerHeight},destroy:function(){a.Event.unbindById(this.id,
"."+this.namespace);f.destroy.call(this)}});var f=a.ui.Accordion.$super})(jQuery,RichFaces);
jQuery.effects||function(d,a){function f(a){var b;return a&&a.constructor==Array&&3==a.length?a:(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)]:(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))?[2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3])]:(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))?[parseInt(b[1],16),parseInt(b[2],
16),parseInt(b[3],16)]:(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))?[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(a)?i.transparent:i[d.trim(a).toLowerCase()]}function c(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]])for(var e=a.length;e--;)c=a[e],"string"==typeof a[c]&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c]);else for(c in a)"string"===
typeof a[c]&&(b[c]=a[c]);return b}function b(a){var b,c;for(b in a)c=a[b],(null==c||d.isFunction(c)||b in l||/scrollbar/.test(b)||!/color/i.test(b)&&isNaN(parseFloat(c)))&&delete a[b];return a}function e(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function g(a,b,c,e){if("object"==typeof a)e=b,c=null,b=a,a=b.effect;d.isFunction(b)&&(e=b,c=null,b={});if("number"==typeof b||d.fx.speeds[b])e=c,c=b,b={};d.isFunction(c)&&(e=c,c=null);b=b||{};c=c||b.duration;c=d.fx.off?0:"number"==typeof c?
c:d.fx.speeds[c]||d.fx.speeds._default;e=e||b.complete;return[a,b,c,e]}d.effects={};d.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),function(a,b){d.fx.step[b]=function(a){if(!a.colorInit){var c;c=a.elem;var e=b,j;do{j=d.curCSS(c,e);if(""!=j&&"transparent"!=j||d.nodeName(c,"body"))break;e="backgroundColor"}while(c=c.parentNode);c=f(j);a.start=c;a.end=f(a.end);a.colorInit=!0}a.elem.style[b]="rgb("+Math.max(Math.min(parseInt(a.pos*
(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],
darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,
0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},h=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.effects.animateClass=function(a,g,f,i){d.isFunction(f)&&(i=f,f=null);return this.each(function(){var l=d(this),n=l.attr("style")||" ",t=b(c.call(this)),z,A=l.attr("className");d.each(h,function(b,c){if(a[c])l[c+"Class"](a[c])});z=b(c.call(this));l.attr("className",
A);l.animate(e(t,z),g,f,function(){d.each(h,function(b,c){if(a[c])l[c+"Class"](a[c])});"object"==typeof l.attr("style")?(l.attr("style").cssText="",l.attr("style").cssText=n):l.attr("style",n);i&&i.apply(this,arguments)})})};d.fn.extend({_addClass:d.fn.addClass,addClass:function(a,b,c,e){return b?d.effects.animateClass.apply(this,[{add:a},b,c,e]):this._addClass(a)},_removeClass:d.fn.removeClass,removeClass:function(a,b,c,e){return b?d.effects.animateClass.apply(this,[{remove:a},b,c,e]):this._removeClass(a)},
_toggleClass:d.fn.toggleClass,toggleClass:function(b,c,e,g,f){return"boolean"==typeof c||c===a?e?d.effects.animateClass.apply(this,[c?{add:b}:{remove:b},e,g,f]):this._toggleClass(b,c):d.effects.animateClass.apply(this,[{toggle:b},c,e,g])},switchClass:function(a,b,c,e,g){return d.effects.animateClass.apply(this,[{add:b,remove:a},c,e,g])}});d.extend(d.effects,{version:"1.8.5",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=
0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){"toggle"==b&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,b){var c,d;switch(a[0]){case "top":c=0;break;case "middle":c=0.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":d=0;break;case "center":d=0.5;break;case "right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var b=
{width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},c=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});a.wrap(c);c=a.parent();"static"==a.css("position")?(c.css({position:"relative"}),a.css({position:"relative"})):(d.extend(b,{position:a.css("position"),zIndex:a.css("z-index")}),d.each(["top","left","bottom","right"],function(c,d){b[d]=a.css(d);isNaN(parseInt(b[d],10))&&(b[d]="auto")}),a.css({position:"relative",
top:0,left:0}));return c.css(b).show()},removeWrapper:function(a){return a.parent().is(".ui-effects-wrapper")?a.parent().replaceWith(a):a},setTransition:function(a,b,c,e){e=e||{};d.each(b,function(b,d){unit=a.cssUnit(d);0<unit[0]&&(e[d]=unit[0]*c+unit[1])});return e}});d.fn.extend({effect:function(a,b,c,e){var f=g.apply(this,arguments),f={options:f[1],duration:f[2],callback:f[3]},i=d.effects[a];return i&&!d.fx.off?i.call(this,f):this},_show:d.fn.show,show:function(a){if(!a||"number"==typeof a||d.fx.speeds[a]||
!d.effects[a])return this._show.apply(this,arguments);var b=g.apply(this,arguments);b[1].mode="show";return this.effect.apply(this,b)},_hide:d.fn.hide,hide:function(a){if(!a||"number"==typeof a||d.fx.speeds[a]||!d.effects[a])return this._hide.apply(this,arguments);var b=g.apply(this,arguments);b[1].mode="hide";return this.effect.apply(this,b)},__toggle:d.fn.toggle,toggle:function(a){if(!a||"number"==typeof a||d.fx.speeds[a]||!d.effects[a]||"boolean"==typeof a||d.isFunction(a))return this.__toggle.apply(this,
arguments);var b=g.apply(this,arguments);b[1].mode="toggle";return this.effect.apply(this,b)},cssUnit:function(a){var b=this.css(a),c=[];d.each(["em","px","%","pt"],function(a,d){0<b.indexOf(d)&&(c=[parseFloat(b),d])});return c}});d.easing.jswing=d.easing.swing;d.extend(d.easing,{def:"easeOutQuad",swing:function(a,b,c,e,g){return d.easing[d.easing.def](a,b,c,e,g)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,
b,c,d,e){return 1>(b/=e/2)?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,
b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,
b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:1>(b/=e/2)?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return 1>(b/=e/2)?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var a=1.70158,g=0,f=d;if(0==b)return c;
if(1==(b/=e))return c+d;g||(g=0.3*e);f<Math.abs(d)?(f=d,a=g/4):a=g/(2*Math.PI)*Math.asin(d/f);return-(f*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var a=1.70158,g=0,f=d;if(0==b)return c;if(1==(b/=e))return c+d;g||(g=0.3*e);f<Math.abs(d)?(f=d,a=g/4):a=g/(2*Math.PI)*Math.asin(d/f);return f*Math.pow(2,-10*b)*Math.sin((b*e-a)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var a=1.70158,g=0,f=d;if(0==b)return c;if(2==(b/=e/2))return c+d;g||(g=e*0.3*
1.5);f<Math.abs(d)?(f=d,a=g/4):a=g/(2*Math.PI)*Math.asin(d/f);return 1>b?-0.5*f*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/g)+c:0.5*f*Math.pow(2,-10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/g)+d+c},easeInBack:function(b,c,d,e,g,f){f==a&&(f=1.70158);return e*(c/=g)*c*((f+1)*c-f)+d},easeOutBack:function(b,c,d,e,g,f){f==a&&(f=1.70158);return e*((c=c/g-1)*c*((f+1)*c+f)+1)+d},easeInOutBack:function(b,c,d,e,g,f){f==a&&(f=1.70158);return 1>(c/=g/2)?e/2*c*c*(((f*=1.525)+1)*c-f)+d:e/2*((c-=2)*c*(((f*=1.525)+
1)*c+f)+2)+d},easeInBounce:function(a,b,c,e,g){return e-d.easing.easeOutBounce(a,g-b,0,e,g)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+0.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+0.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+0.984375)+c},easeInOutBounce:function(a,b,c,e,g){return b<g/2?0.5*d.easing.easeInBounce(a,2*b,0,e,g)+c:0.5*d.easing.easeOutBounce(a,2*b-g,0,e,g)+0.5*e+c}})}(jQuery);
(function(d){d.Selection=d.Selection||{};d.Selection.set=function(a,d,c){a.setSelectionRange?(a.focus(),a.setSelectionRange(d,c)):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",c),a.moveStart("character",d),a.select())};d.Selection.getStart=function(a){if(a.setSelectionRange)return a.selectionStart;if(document.selection&&document.selection.createRange){var d=document.selection.createRange().duplicate();d.moveEnd("character",a.value.length);return""==d.text?a.value.length:
a.value.lastIndexOf(d.text)}};d.Selection.getEnd=function(a){if(a.setSelectionRange)return a.selectionEnd;if(document.selection&&document.selection.createRange){var d=document.selection.createRange().duplicate();d.moveStart("character",-a.value.length);return d.text.length}};d.Selection.setCaretTo=function(a,f){if(!f)f=a.value.length;d.Selection.set(a,f,f)}})(window.RichFaces||(window.RichFaces={}));
(function(d,a){a.ui=a.ui||{};a.ui.AccordionItem=a.ui.TogglePanelItem.extendClass({name:"AccordionItem",init:function(c,b){f.constructor.call(this,c,b);this.disabled||a.Event.bindById(this.id+":header","click",this.__onHeaderClick,this);if(this.isSelected()){var e=this;d(document).ready(function(){e.__fitToHeight(e.getTogglePanel())})}},__onHeaderClick:function(){this.getTogglePanel().switchToItem(this.getName())},__header:function(){return d(a.getDomElement(this.id+":header"))},__content:function(){if(!this.__content_)this.__content_=
d(a.getDomElement(this.id+":content"));return this.__content_},__enter:function(){var a=this.getTogglePanel();a.isKeepHeight&&(this.__content().hide(),this.__fitToHeight(a));this.__content().show();this.__header().addClass("rf-ac-itm-hdr-act").removeClass("rf-ac-itm-hdr-inact");return this.__fireEnter()},__fitToHeight:function(a){var b=a.getInnerHeight(),a=a.getItems(),d;for(d in a)b-=a[d].__header().outerHeight();this.__content().height(b-20)},getHeight:function(c){if(c||!this.__height)this.__height=
d(a.getDomElement(this.id)).outerHeight(!0);return this.__height},__leave:function(){if(!this.__fireLeave())return!1;this.__content().hide();this.__header().removeClass("rf-ac-itm-hdr-act").addClass("rf-ac-itm-hdr-inact");return!0}});var f=a.ui.AccordionItem.$super})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};var f={};a.ui.Droppable=function(b,e){this.options={};d.extend(this.options,f,e||{});c.constructor.call(this,b);this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);this.id=b;this.parentId=this.options.parentId;this.attachToDom(this.parentId);this.dropElement=d(document.getElementById(this.parentId));this.dropElement.droppable({addClasses:!1});this.dropElement.data("init",!0);a.Event.bind(this.dropElement,"drop"+this.namespace,this.drop,this);
a.Event.bind(this.dropElement,"dropover"+this.namespace,this.dropover,this);a.Event.bind(this.dropElement,"dropout"+this.namespace,this.dropout,this)};a.BaseNonVisualComponent.extend(a.ui.Droppable);var c=a.ui.Droppable.$super;d.extend(a.ui.Droppable.prototype,function(){return{drop:function(b){var c=b.rf.data;this.accept(c.draggable)&&this.__callAjax(b,c);(b=a.$(c.helper.attr("id")))?(c.helper.removeClass(b.getAcceptClass()),c.helper.removeClass(b.getRejectClass())):(c.helper.removeClass("rf-ind-acpt"),
c.helper.removeClass("rf-ind-rejt"))},dropover:function(b){var b=b.rf.data,c=b.draggable,d=a.$(b.helper.attr("id"));d?this.accept(c)?(b.helper.removeClass(d.getRejectClass()),b.helper.addClass(d.getAcceptClass())):(b.helper.removeClass(d.getAcceptClass()),b.helper.addClass(d.getRejectClass())):this.accept(c)?(b.helper.removeClass("rf-ind-rejt"),b.helper.addClass("rf-ind-acpt")):(b.helper.removeClass("rf-ind-acpt"),b.helper.addClass("rf-ind-rejt"))},dropout:function(b){var b=b.rf.data,c=a.$(b.helper.attr("id"));
c?(b.helper.removeClass(c.getAcceptClass()),b.helper.removeClass(c.getRejectClass())):(b.helper.removeClass("rf-ind-acpt"),b.helper.removeClass("rf-ind-rejt"))},accept:function(a){var c=!1,g=a.data("type");g&&this.options.acceptedTypes&&d.each(this.options.acceptedTypes,function(){if("@none"==this)return!1;if(this==g||"@all"==this)return c=!0,!1});return c},__callAjax:function(a,c){if(c.draggable){var d=c.draggable.data("id"),f=this.options.ajaxFunction;f&&"function"==typeof f&&f.call(this,a,d)}},
destroy:function(){this.detach(this.parentId);a.Event.unbind(this.dropElement,this.namespace);c.destroy.call(this)}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.PopupPanel.Sizer=function(a){f.constructor.call(this,a)};var f=a.BaseComponent.extend(a.ui.PopupPanel.Sizer),f=a.ui.PopupPanel.Sizer.$super;d.extend(a.ui.PopupPanel.Sizer.prototype,function(){return{name:"richfaces.ui.PopupPanel.Sizer",doSetupSize:function(c,b){var e=0,g=0,f=d(a.getDomElement(b)),h=c.reductionData;h&&(h.w&&(e=h.w/2),h.h&&(g=h.h/2));if(0<e)if(b.clientWidth>e){if(!b.reducedWidth)b.reducedWidth=f.css("width");f.css("width",e+"px")}else 4>e&&"4px"==b.reducedWidth&&
f.css("width",e+"px");else if(b.reducedWidth)f.css("width",b.reducedWidth),b.reducedWidth=void 0;if(0<g)if(b.clientHeight>g){if(!b.reducedHeight)b.reducedHeight=f.css("height");b.style.height=g+"px"}else 4>g&&"4px"==b.reducedHeight&&f.css("height",g+"px");else if(b.reducedHeight)f.css("height",b.reducedHeight),b.reducedHeight=void 0},doSetupPosition:function(c,b,e,g){c=d(a.getDomElement(b));!isNaN(e)&&!isNaN(g)&&(c.css("left",e+"px"),c.css("top",g+"px"))},doPosition:function(){},doDiff:function(){}}}());
a.ui.PopupPanel.Sizer.Diff=function(a,b,d,g){this.deltaX=a;this.deltaY=b;this.deltaWidth=d;this.deltaHeight=g};a.ui.PopupPanel.Sizer.Diff.EMPTY=function(){return new a.ui.PopupPanel.Sizer.Diff(0,0,0,0)};a.ui.PopupPanel.Sizer.N=function(){};d.extend(a.ui.PopupPanel.Sizer.N.prototype,a.ui.PopupPanel.Sizer.prototype);d.extend(a.ui.PopupPanel.Sizer.N.prototype,{name:"richfaces.ui.PopupPanel.Sizer.N",doPosition:function(c,b){d(a.getDomElement(b)).css("width",c.width()+"px");this.doSetupPosition(c,b,0,
0)},doDiff:function(c,b){return new a.ui.PopupPanel.Sizer.Diff(0,b,0,-b)}});a.ui.PopupPanel.Sizer.NW=function(){};d.extend(a.ui.PopupPanel.Sizer.NW.prototype,a.ui.PopupPanel.Sizer.prototype);d.extend(a.ui.PopupPanel.Sizer.NW.prototype,{name:"richfaces.ui.PopupPanel.Sizer.NW",doPosition:function(a,b){this.doSetupSize(a,b);this.doSetupPosition(a,b,0,0)},doDiff:function(c,b){return new a.ui.PopupPanel.Sizer.Diff(c,b,-c,-b)}});a.ui.PopupPanel.Sizer.NE=function(){};d.extend(a.ui.PopupPanel.Sizer.NE.prototype,
a.ui.PopupPanel.Sizer.prototype);d.extend(a.ui.PopupPanel.Sizer.NE.prototype,{name:"richfaces.ui.PopupPanel.Sizer.NE",doPosition:function(a,b){this.doSetupSize(a,b);this.doSetupPosition(a,b,a.width()-b.clientWidth,0)},doDiff:function(c,b){return new a.ui.PopupPanel.Sizer.Diff(0,b,c,-b)}});a.ui.PopupPanel.Sizer.E=function(){};d.extend(a.ui.PopupPanel.Sizer.E.prototype,a.ui.PopupPanel.Sizer.prototype);d.extend(a.ui.PopupPanel.Sizer.E.prototype,{name:"richfaces.ui.PopupPanel.Sizer.E",doPosition:function(c,
b){d(a.getDomElement(b)).css("height",c.height()+"px");this.doSetupPosition(c,b,c.width()-b.clientWidth,0)},doDiff:function(c){return new a.ui.PopupPanel.Sizer.Diff(0,0,c,0)}});a.ui.PopupPanel.Sizer.SE=function(){};d.extend(a.ui.PopupPanel.Sizer.SE.prototype,a.ui.PopupPanel.Sizer.prototype);d.extend(a.ui.PopupPanel.Sizer.SE.prototype,{name:"richfaces.ui.PopupPanel.Sizer.SE",doPosition:function(a,b){this.doSetupSize(a,b);this.doSetupPosition(a,b,a.width()-b.clientWidth,a.height()-b.clientHeight)},
doDiff:function(c,b){return new a.ui.PopupPanel.Sizer.Diff(0,0,c,b)}});a.ui.PopupPanel.Sizer.S=function(){};d.extend(a.ui.PopupPanel.Sizer.S.prototype,a.ui.PopupPanel.Sizer.prototype);d.extend(a.ui.PopupPanel.Sizer.S.prototype,{name:"richfaces.ui.PopupPanel.Sizer.S",doPosition:function(c,b){d(a.getDomElement(b)).css("width",c.width()+"px");this.doSetupPosition(c,b,0,c.height()-b.clientHeight)},doDiff:function(c,b){return new a.ui.PopupPanel.Sizer.Diff(0,0,0,b)}});a.ui.PopupPanel.Sizer.SW=function(){};
d.extend(a.ui.PopupPanel.Sizer.SW.prototype,a.ui.PopupPanel.Sizer.prototype);d.extend(a.ui.PopupPanel.Sizer.SW.prototype,{name:"richfaces.ui.PopupPanel.Sizer.SW",doPosition:function(a,b){this.doSetupSize(a,b);this.doSetupPosition(a,b,0,a.height()-b.clientHeight)},doDiff:function(c,b){return new a.ui.PopupPanel.Sizer.Diff(c,0,-c,b)}});a.ui.PopupPanel.Sizer.W=function(){};d.extend(a.ui.PopupPanel.Sizer.W.prototype,a.ui.PopupPanel.Sizer.prototype);d.extend(a.ui.PopupPanel.Sizer.W.prototype,{name:"richfaces.ui.PopupPanel.Sizer.W",
doPosition:function(c,b){d(a.getDomElement(b)).css("height",c.height()+"px");this.doSetupPosition(c,b,0,0)},doDiff:function(c){return new a.ui.PopupPanel.Sizer.Diff(c,0,-c,0)}});a.ui.PopupPanel.Sizer.Header=function(){};d.extend(a.ui.PopupPanel.Sizer.Header.prototype,a.ui.PopupPanel.Sizer.prototype);d.extend(a.ui.PopupPanel.Sizer.Header.prototype,{name:"richfaces.ui.PopupPanel.Sizer.Header",doPosition:function(){},doDiff:function(c,b){return new a.ui.PopupPanel.Sizer.Diff(c,b,0,0)}})})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};var f={styleClass:"",nonblocking:!1,nonblockingOpacity:0.2,showHistory:!1,animationSpeed:"slow",opacity:"1",showShadow:!1,showCloseButton:!0,appearAnimation:"fade",hideAnimation:"fade",sticky:!1,stayTime:8E3,delay:0},c={summary:"pnotify_title",detail:"pnotify_text",styleClass:"pnotify_addclass",nonblocking:"pnotify_nonblock",nonblockingOpacity:"pnotify_nonblock_opacity",showHistory:"pnotify_history",animation:"pnotify_animation",appearAnimation:"effect_in",hideAnimation:"effect_out",
animationSpeed:"pnotify_animate_speed",opacity:"pnotify_opacity",showShadow:"pnotify_shadow",showCloseButton:"pnotify_closer",sticky:"pnotify_hide",stayTime:"pnotify_delay"},b=["rf-ntf-inf","rf-ntf-wrn","rf-ntf-err","rf-ntf-ftl"],e=function(a,b,c){for(var e in b){var g=null!=c[e]?c[e]:e;a[g]=b[e];a[g]instanceof Object&&(a[g]=d.extend({},a[g],c))}return a},g=function(b){b?b=a.$(b).getStack():(document.getElementById("org.richfaces.notifyStack.default")||(b=d('<span id="org.richfaces.notifyStack.default" class="rf-ntf-stck" />'),
d("body").append(b),new RichFaces.ui.NotifyStack("org.richfaces.notifyStack.default")),b=g("org.richfaces.notifyStack.default"));return b};a.ui.Notify=function(a){a=d.extend({},f,a);if("number"==typeof a.severity){var h=b[a.severity];a.styleClass=a.styleClass?h+" "+a.styleClass:h}var l=e({},a,c),j=function(){var b=g(a.stackId);l.pnotify_stack=b;l.pnotify_addclass+=" rf-ntf-pos-"+b.position;l.pnotify_after_close=function(a){a=d.inArray(a,b.notifications);if(0<=a){var c=b.notifications,e=c.slice(a+
1||c.length);c.length=0>a?c.length+a:a;c.push.apply(c,e)}};var c=d.pnotify(l);c.on("click dblclick  keydown keypress keyup mousedown mousemove mouseout mouseover mouseup",function(b){a["on"+b.type]&&a["on"+b.type].call(this,b)});b.addNotification(c)};if(null!==a.sticky)l.pnotify_hide=!a.sticky;d(document).ready(function(){a.delay?setTimeout(function(){j()},a.delay):j()})}})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};var f={toolbar:"Basic",skin:"richfaces",readonly:!1,style:"",styleClass:"",editorStyle:"",editorClass:"",width:"100%",height:"200px"},c={customConfig:""},b=["key","paste","undo","redo"];a.ui.Editor=function(b,i,h){e.constructor.call(this,b);this.options=d.extend({},f,i);this.componentId=b;this.textareaId=b+":inp";this.editorElementId="cke_"+this.textareaId;this.dirtyState=this.valueChanged=!1;this.config=d.extend({},c,h);this.attachToDom(this.componentId);d(document).ready(d.proxy(this.__initializationHandler,
this));a.Event.bindById(this.__getTextarea(),"init",this.options.oninit,this);a.Event.bindById(this.__getTextarea(),"dirty",this.options.ondirty,this)};a.BaseComponent.extend(a.ui.Editor);var e=a.ui.Editor.$super;d.extend(a.ui.Editor.prototype,{name:"Editor",__initializationHandler:function(){this.ckeditor=CKEDITOR.replace(this.textareaId,this.__getConfiguration());if(this.__getForm())this.__updateTextareaHandlerWrapper=a.Event.bind(this.__getForm(),"ajaxsubmit",d.proxy(this.__updateTextareaHandler,
this));this.ckeditor.on("instanceReady",d.proxy(this.__instanceReadyHandler,this));this.ckeditor.on("blur",d.proxy(this.__blurHandler,this));this.ckeditor.on("focus",d.proxy(this.__focusHandler,this));for(var c in b)this.ckeditor.on(b[c],d.proxy(this.__checkDirtyHandlerWithDelay,this));this.dirtyCheckingInterval=window.setInterval(d.proxy(this.__checkDirtyHandler,this),100)},__checkDirtyHandlerWithDelay:function(){window.setTimeout(d.proxy(this.__checkDirtyHandler,this),0)},__checkDirtyHandler:function(){if(this.ckeditor.checkDirty())this.valueChanged=
this.dirtyState=!0,this.ckeditor.resetDirty(),this.__dirtyHandler()},__dirtyHandler:function(){this.invokeEvent.call(this,"dirty",document.getElementById(this.textareaId))},__updateTextareaHandler:function(){this.ckeditor.updateElement()},__instanceReadyHandler:function(a){this.__setupStyling();this.__setupPassThroughAttributes();this.invokeEvent.call(this,"init",document.getElementById(this.textareaId),a)},__blurHandler:function(a){this.invokeEvent.call(this,"blur",document.getElementById(this.textareaId),
a);if(this.isDirty())this.valueChanged=!0,this.__changeHandler();this.dirtyState=!1},__focusHandler:function(a){this.invokeEvent.call(this,"focus",document.getElementById(this.textareaId),a)},__changeHandler:function(a){this.invokeEvent.call(this,"change",document.getElementById(this.textareaId),a)},__getTextarea:function(){return d(document.getElementById(this.textareaId))},__getForm:function(){return d("form").has(this.__getTextarea()).get(0)},__getConfiguration:function(){var a=this.__getTextarea();
return d.extend({skin:this.options.skin,toolbar:this.__getToolbar(),readOnly:a.attr("readonly")||this.options.readonly,width:this.__resolveUnits(this.options.width),height:this.__resolveUnits(this.options.height),bodyClass:"rf-ed-b",defaultLanguage:this.options.lang,contentsLanguage:this.options.lang},this.config)},__setupStyling:function(){var a=d(document.getElementById(this.editorElementId));a.hasClass("rf-ed")||a.addClass("rf-ed");var b=d.trim(this.options.styleClass+" "+this.options.editorClass);
if(void 0==this.initialStyle)this.initialStyle=a.attr("style");var c=this.__concatStyles(this.initialStyle,this.options.style,this.options.editorStyle);if(this.oldStyleClass!==b)this.oldStyleClass&&a.removeClass(this.oldStyleClass),a.addClass(b),this.oldStyleClass=b;if(this.oldStyle!==c)a.attr("style",c),this.oldStyle=c},__setupPassThroughAttributes:function(){var a=this.__getTextarea();d(document.getElementById(this.editorElementId)).attr("title",a.attr("title"))},__concatStyles:function(){for(var a=
"",b=0;b<arguments.length;b++){var c=d.trim(arguments[b]);c&&(a=a+c+"; ")}return a},__getToolbar:function(){var a=this.options.toolbar,b=a.toLowerCase();return"basic"===b?"Basic":"full"===b?"Full":a},__setOptions:function(a){this.options=d.extend({},f,a)},__resolveUnits:function(a){a=d.trim(a);return a.match(/^[0-9]+$/)?a+"px":a},getEditor:function(){return this.ckeditor},setValue:function(a){this.ckeditor.setData(a,d.proxy(function(){this.dirtyState=this.valueChanged=!1;this.ckeditor.resetDirty()},
this))},getValue:function(){return this.ckeditor.getData()},getInput:function(){return document.getElementById(this.textareaId)},focus:function(){this.ckeditor.focus()},blur:function(){this.ckeditor.focusManager.forceBlur()},isFocused:function(){return this.ckeditor.focusManager.hasFocus},isDirty:function(){return this.dirtyState||this.ckeditor.checkDirty()},isValueChanged:function(){return this.valueChanged||this.isDirty()},setReadOnly:function(a){this.ckeditor.setReadOnly(!1!==a)},isReadOnly:function(){return this.ckeditor.readOnly},
destroy:function(){window.clearInterval(this.dirtyCheckingInterval);this.__getForm()&&a.Event.unbind(this.__getForm(),"ajaxsubmit",this.__updateTextareaHandlerWrapper);if(this.ckeditor)this.ckeditor.destroy(),this.ckeditor=null;this.__getTextarea().show();e.destroy.call(this)}})})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.Tab=a.ui.TogglePanelItem.extendClass({name:"Tab",init:function(c,b){f.constructor.call(this,c,b);this.index=b.index;this.getTogglePanel().getItems()[this.index]=this;a.Event.bindById(this.id+":header:active","click",this.__onHeaderClick,this);a.Event.bindById(this.id+":header:inactive","click",this.__onHeaderClick,this)},__onHeaderClick:function(){this.getTogglePanel().switchToItem(this.getName())},__header:function(c){var b=d(a.getDomElement(this.id+":header"));
return c?d(a.getDomElement(this.id+":header:"+c)):b},__content:function(){if(!this.__content_)this.__content_=d(a.getDomElement(this.id));return this.__content_},__enter:function(){this.__content().show();this.__header("inactive").hide();this.__header("active").show();return this.__fireEnter()},__fireLeave:function(){return a.Event.fireById(this.id+":content","leave")},__fireEnter:function(){return a.Event.fireById(this.id+":content","enter")},__addUserEventHandler:function(c){var b=this.options["on"+
c];b&&a.Event.bindById(this.id+":content",c,b)},getHeight:function(c){if(c||!this.__height)this.__height=d(a.getDomElement(this.id)).outerHeight(!0);return this.__height},__leave:function(){if(!this.__fireLeave())return!1;this.__content().hide();this.__header("active").hide();this.__header("inactive").show();return!0},destroy:function(){var c=this.getTogglePanel();c&&c.getItems&&c.getItems()[this.index]&&delete c.getItems()[this.index];a.Event.unbindById(this.id);a.Event.unbindById(this.id+":header:active");
a.Event.unbindById(this.id+":header:inactive");f.destroy.call(this)}});var f=a.ui.Tab.$super})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.CollapsiblePanel=a.ui.TogglePanel.extendClass({name:"CollapsiblePanel",init:function(f,c){a.ui.TogglePanel.call(this,f,c);this.switchMode=c.switchMode;this.__addUserEventHandler("beforeswitch");this.__addUserEventHandler("switch");this.options.cycledSwitching=!0;var b=this;d(document.getElementById(this.id)).ready(function(){a.Event.bindById(b.id+":header","click",b.__onHeaderClick,b);new RichFaces.ui.CollapsiblePanelItem(b.id+":content",{index:0,togglePanelId:b.id,
switchMode:b.switchMode,name:"true"});new RichFaces.ui.CollapsiblePanelItem(b.id+":empty",{index:1,togglePanelId:b.id,switchMode:b.switchMode,name:"false"})})},switchPanel:function(a){this.switchToItem(a||"@next")},__onHeaderClick:function(){this.switchToItem("@next")},__fireItemChange:function(d,c){return new a.Event.fireById(this.id,"switch",{id:this.id,isExpanded:c.getName()})},__fireBeforeItemChange:function(d,c){return a.Event.fireById(this.id,"beforeswitch",{id:this.id,isExpanded:c.getName()})}})})(jQuery,
RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.Draggable=function(b,e){this.options={};d.extend(this.options,c,e||{});f.constructor.call(this,b);this.id=b;this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);this.parentId=this.options.parentId;this.attachToDom(this.parentId);this.dragElement=d(document.getElementById(this.options.parentId));this.dragElement.draggable();if(e.indicator){var g=document.getElementById(e.indicator);this.dragElement.data("indicator",!0);this.dragElement.draggable("option","helper",
function(){return g})}else this.dragElement.data("indicator",!1),this.dragElement.draggable("option","helper","clone");this.dragElement.draggable("option","addClasses",!1);this.dragElement.draggable("option","appendTo","body");this.dragElement.data("type",this.options.type);this.dragElement.data("init",!0);this.dragElement.data("id",this.id);a.Event.bind(this.dragElement,"dragstart"+this.namespace,this.dragStart,this);a.Event.bind(this.dragElement,"drag"+this.namespace,this.drag,this);a.Event.bind(this.dragElement,
"dragstop"+this.namespace,this.dragStop,this)};a.BaseNonVisualComponent.extend(a.ui.Draggable);var f=a.ui.Draggable.$super,c={};d.extend(a.ui.Draggable.prototype,function(){return{name:"Draggable",dragStart:function(a){var c=a.rf.data;this.parentElement=c.helper[0].parentNode;if(this.__isCustomDragIndicator())c.helper.detach().appendTo("body").show(),a=c.helper.width()/2,c=c.helper.height()/2,this.dragElement.data("draggable").offset.click.left=a,this.dragElement.data("draggable").offset.click.top=
c},drag:function(b){b=b.rf.data;if(this.__isCustomDragIndicator()){var c=a.$(this.options.indicator);c?b.helper.addClass(c.getDraggingClass()):b.helper.addClass("rf-ind-drag")}this.__clearDraggableCss(b.helper)},dragStop:function(a){a=a.rf.data;a.helper.hide().detach().appendTo(this.parentElement);a.helper[0]!=this.dragElement[0]&&(a.helper[0]=this.dragElement[0])},__isCustomDragIndicator:function(){return this.dragElement.data("indicator")},__clearDraggableCss:function(a){a&&a.removeClass&&a.removeClass("ui-draggable-dragging")},
destroy:function(){this.detach(this.parentId);a.Event.unbind(this.dragElement,this.namespace);f.destroy.call(this)}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};var f={expanded:!1,stylePrefix:"rf-pm-gr",expandEvent:"click",collapseEvent:"click",selectable:!1,unselectable:!1},c={exec:function(b,c){var d=b.mode;if("server"==d)return this.execServer(b);if("ajax"==d)return this.execAjax(b);if("client"==d||"none"==d)return this.execClient(b,c);a.log.error("EXPAND_ITEM.exec : unknown mode ("+d+")")},execServer:function(b){b.__changeState();a.submitForm(this.__getParentForm(b),b.options.ajax.parameters||{});return!1},execAjax:function(b){var c=
b.__changeState();a.ajax(b.id,null,d.extend({},b.options.ajax,{}));b.__restoreState(c);return!0},execClient:function(a,b){b?a.__expand():a.__collapse();return a.__fireEvent("switch")},__getParentForm:function(b){return d(d(a.getDomElement(b.id)).parents("form")[0])}};a.ui.PanelMenuGroup=a.ui.PanelMenuItem.extendClass({name:"PanelMenuGroup",init:function(a,c){b.constructor.call(this,a,d.extend({},f,c||{}));this.options.bubbleSelection=this.__rfPanelMenu().options.bubbleSelection;this.options.expandSingle=
this.__rfPanelMenu().options.expandSingle;if(!this.options.disabled){var i=this;this.options.selectable?this.options.expandEvent==this.options.collapseEvent?"click"!=this.options.expandEvent&&this.__header().bind(this.options.expandEvent,function(){i.switchExpantion()}):("click"!=this.options.expandEvent&&this.__header().bind(this.options.expandEvent,function(){if(i.collapsed())return i.expand()}),"click"!=this.options.collapseEvent&&this.__header().bind(this.options.collapseEvent,function(){if(i.expanded())return i.collapse()})):
this.options.expandEvent==this.options.collapseEvent?this.__header().bind(this.options.expandEvent,function(){i.switchExpantion()}):(this.__header().bind(this.options.expandEvent,function(){if(i.collapsed())return i.expand()}),this.__header().bind(this.options.collapseEvent,function(){if(i.expanded())return i.collapse()}));if(this.options.selectable||this.options.bubbleSelection)this.__content().bind("select",function(a){i.options.selectable&&i.__isMyEvent(a)&&i.expand();i.options.bubbleSelection&&
!i.__isMyEvent(a)&&(i.__select(),i.expanded()||i.expand())}),this.__content().bind("unselect",function(a){i.options.selectable&&i.__isMyEvent(a)&&i.collapse();i.options.bubbleSelection&&!i.__isMyEvent(a)&&i.__unselect()})}},expanded:function(){return this.__getExpandValue()},expand:function(){if(!this.expanded()){if(!this.__fireEvent("beforeexpand"))return!1;c.exec(this,!0)}},__expand:function(){this.__updateStyles(!0);this.__collapseForExpandSingle();return this.__fireEvent("expand")},collapsed:function(){return!this.__getExpandValue()},
collapse:function(){if(this.expanded()){if(!this.__fireEvent("beforecollapse"))return!1;c.exec(this,!1)}},__collapse:function(){this.__updateStyles(!1);this.__childGroups().each(function(b,c){a.$(c.id).__collapse()});return this.__fireEvent("collapse")},__updateStyles:function(a){a?(this.__content().removeClass("rf-pm-colps").addClass("rf-pm-exp"),this.__header().removeClass("rf-pm-hdr-colps").addClass("rf-pm-hdr-exp"),this.__setExpandValue(!0)):(this.__content().addClass("rf-pm-colps").removeClass("rf-pm-exp"),
this.__header().addClass("rf-pm-hdr-colps").removeClass("rf-pm-hdr-exp"),this.__setExpandValue(!1))},switchExpantion:function(){if(!this.__fireEvent("beforeswitch"))return!1;this.expanded()?this.collapse():this.expand()},onCompleteHandler:function(){this.options.selectable&&b.onCompleteHandler.call(this);c.execClient(this,this.expanded())},__switch:function(a){a?this.__expand():this.__collapse();return this.__fireEvent("switch")},__childGroups:function(){return this.__content().children(".rf-pm-gr")},
__group:function(){return d(a.getDomElement(this.id))},__header:function(){return d(a.getDomElement(this.id+":hdr"))},__content:function(){return d(a.getDomElement(this.id+":cnt"))},__expandValueInput:function(){return document.getElementById(this.id+":expanded")},__getExpandValue:function(){return"true"==this.__expandValueInput().value},__collapseForExpandSingle:function(){this.options.expandSingle&&this.__rfPanelMenu().__collapseGroups(this)},__setExpandValue:function(a){var b=this.__expandValueInput(),
c=b.value;b.value=a;return c},__changeState:function(){this.__getExpandValue()||this.__collapseForExpandSingle();var a={};a.expanded=this.__setExpandValue(!this.__getExpandValue());if(this.options.selectable)a.itemName=this.__rfPanelMenu().selectedItem(this.itemName);return a},__restoreState:function(a){a&&(a.expanded&&this.__setExpandValue(a.expanded),a.itemName&&this.__rfPanelMenu().selectedItem(a.itemName))},__isMyEvent:function(a){return this.id==a.target.id},destroy:function(){a.Event.unbindById(this.id,
"."+this.namespace);b.destroy.call(this)}});var b=a.ui.PanelMenuGroup.$super})(jQuery,RichFaces);
(function(d){d.effects.highlight=function(a){return this.queue(function(){var f=d(this),c=["backgroundImage","backgroundColor","opacity"],b=d.effects.setMode(f,a.options.mode||"show"),e={backgroundColor:f.css("backgroundColor")};if("hide"==b)e.opacity=0;d.effects.save(f,c);f.show().css({backgroundImage:"none",backgroundColor:a.options.color||"#ffff99"}).animate(e,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){"hide"==b&&f.hide();d.effects.restore(f,c);"show"==b&&!d.support.opacity&&
this.style.removeAttribute("filter");a.callback&&a.callback.apply(this,arguments);f.dequeue()}})})}})(jQuery);
(function(d,a){a.ui=a.ui||{};a.ui.InputBase=function(c){f.constructor.call(this,c);this.namespace=(this.namespace=this.getNamespace()||"."+a.Event.createNamespace(this.getName(),this.getId()))||"."+a.Event.createNamespace(this.name,this.id);this.input=d(document.getElementById(c+"Input"));this.attachToDom();c={};c[(d.browser.opera||d.browser.mozilla?"keypress":"keydown")+this.namespace]=d.proxy(this.__keydownHandler,this);c["blur"+this.namespace]=d.proxy(this.__blurHandler,this);c["change"+this.namespace]=
d.proxy(this.__changeHandler,this);c["focus"+this.namespace]=d.proxy(this.__focusHandler,this);a.Event.bind(this.input,c,this)};a.BaseComponent.extend(a.ui.InputBase);var f=a.ui.InputBase.$super;d.extend(a.ui.InputBase.prototype,function(){return{name:"inputBase",getName:function(){return this.name},getNamespace:function(){return this.namespace},__focusHandler:function(){},__keydownHandler:function(){},__blurHandler:function(){},__changeHandler:function(){},__setInputFocus:function(){this.input.focus()},
__getValue:function(){return this.input.val()},__setValue:function(a){this.input.val(a);this.defaultLabelClass&&(a==this.defaultLabel?this.input.addClass(this.defaultLabelClass):this.input.removeClass(this.defaultLabelClass))},getValue:function(){return this.__getValue()},setValue:function(a){this.__setValue(a)},getInput:function(){return this.input},getId:function(){return this.id},destroy:function(){a.Event.unbindById(this.input,this.namespace);this.input=null;f.destroy.call(this)}}}())})(jQuery,
window.RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.AutocompleteBase=function(e,g,j,m){f.constructor.call(this,e);this.selectId=g;this.fieldId=j;this.options=d.extend({},c,m);this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.selectId);this.currentValue="";this.tempValue=this.getValue();this.isChanged=0!=this.tempValue.length;b.call(this)};a.BaseComponent.extend(a.ui.AutocompleteBase);var f=a.ui.AutocompleteBase.$super,c={changeDelay:8},b=function(){var b={};this.options.buttonId&&(b["mousedown"+
this.namespace]=i,b["mouseup"+this.namespace]=g,a.Event.bindById(this.options.buttonId,b,this));b={};b["focus"+this.namespace]=h;b["blur"+this.namespace]=l;b["click"+this.namespace]=j;b[(d.browser.opera||d.browser.mozilla?"keypress":"keydown")+this.namespace]=r;b["change"+this.namespace]=function(a){this.focused&&a.stopPropagation()};a.Event.bindById(this.fieldId,b,this);b={};b["mousedown"+this.namespace]=e;b["mouseup"+this.namespace]=g;a.Event.bindById(this.selectId,b,this)},e=function(){this.isMouseDown=
!0},g=function(){a.getDomElement(this.fieldId).focus()},i=function(b){this.isMouseDown=!0;if(this.timeoutId)window.clearTimeout(this.timeoutId),this.timeoutId=null;a.getDomElement(this.fieldId).focus();this.isVisible?this.__hide(b):q.call(this,b)},h=function(b){if(!this.focused)this.__focusValue=this.getValue(),this.focused=!0,this.invokeEvent("focus",a.getDomElement(this.fieldId),b),this.invokeEvent("focus",a.getDomElement(this.id),b)},l=function(b){if(this.isMouseDown)a.getDomElement(this.fieldId).focus(),
this.isMouseDown=!1;else if(!this.isMouseDown){if(this.isVisible){var c=this;this.timeoutId=window.setTimeout(function(){c.__hide(b)},200)}if(this.focused)this.focused=!1,this.invokeEvent("blur",a.getDomElement(this.fieldId),b),this.invokeEvent("blur",a.getDomElement(this.id),b),this.__focusValue!=this.getValue()&&(this.invokeEvent("change",a.getDomElement(this.fieldId),b),this.invokeEvent("change",a.getDomElement(this.id),b))}},j=function(){},m=function(b){if(!(this.isChanged&&this.getValue()==this.tempValue)){this.isChanged=
!1;var c=this.getValue()!=this.currentValue;if(b.keyCode==a.KEYS.LEFT||b.keyCode==a.KEYS.RIGHT||c)c?(this.currentValue=this.getValue(),this.__onChangeValue(b,void 0,!this.isVisible?this.__show:void 0)):this.isVisible&&this.__onChangeValue(b)}},q=function(a){this.isChanged?(this.isChanged=!1,m.call(this,{})):!this.__updateState(a)&&this.__show(a)},r=function(b){switch(b.keyCode){case a.KEYS.UP:b.preventDefault();this.isVisible&&this.__onKeyUp(b);break;case a.KEYS.DOWN:b.preventDefault();this.isVisible?
this.__onKeyDown(b):q.call(this,b);break;case a.KEYS.PAGEUP:this.isVisible&&(b.preventDefault(),this.__onPageUp(b));break;case a.KEYS.PAGEDOWN:this.isVisible&&(b.preventDefault(),this.__onPageDown(b));break;case a.KEYS.HOME:this.isVisible&&(b.preventDefault(),this.__onKeyHome(b));break;case a.KEYS.END:this.isVisible&&(b.preventDefault(),this.__onKeyEnd(b));break;case a.KEYS.RETURN:if(this.isVisible)return b.preventDefault(),this.__onEnter(b),this.__hide(b),!1;break;case a.KEYS.ESC:this.__hide(b);
break;default:if(!this.options.selectOnly){var c=this;window.clearTimeout(this.changeTimerId);this.changeTimerId=window.setTimeout(function(){m.call(c,b)},this.options.changeDelay)}}},s=function(b){if(!this.isVisible&&!1!=this.__onBeforeShow(b)){this.scrollElements=a.Event.bindScrollEventHandlers(this.selectId,this.__hide,this,this.namespace);var c=a.getDomElement(this.selectId);if(this.options.attachToBody)this.parentElement=c.parentNode,document.body.appendChild(c);d(c).setPosition({id:this.fieldId},
{type:"DROPDOWN"}).show();this.isVisible=!0;this.__onShow(b)}},n=function(b){if(this.isVisible){a.Event.unbindScrollEventHandlers(this.scrollElements,this);this.scrollElements=null;d(a.getDomElement(this.selectId)).hide();this.isVisible=!1;if(this.options.attachToBody&&this.parentElement)this.parentElement.appendChild(a.getDomElement(this.selectId)),this.parentElement=null;this.__onHide(b)}},t=function(b){return this.fieldId?a.getDomElement(this.fieldId).value=b:""};d.extend(a.ui.AutocompleteBase.prototype,
function(){return{name:"AutocompleteBase",showPopup:function(b){this.focused||a.getDomElement(this.fieldId).focus();q.call(this,b)},hidePopup:function(a){this.__hide(a)},getNamespace:function(){return this.namespace},getValue:function(){return this.fieldId?a.getDomElement(this.fieldId).value:""},setValue:function(a){if(a!=this.currentValue)t.call(this,a),this.isChanged=!0},__updateInputValue:t,__show:s,__hide:n,__onChangeValue:function(){},__onKeyUp:function(){},__onKeyDown:function(){},__onPageUp:function(){},
__onPageDown:function(){},__onKeyHome:function(){},__onKeyEnd:function(){},__onBeforeShow:function(){},__onShow:function(){},__onHide:function(){},destroy:function(){this.parentNode=null;if(this.scrollElements)a.Event.unbindScrollEventHandlers(this.scrollElements,this),this.scrollElements=null;this.options.buttonId&&a.Event.unbindById(this.options.buttonId,this.namespace);a.Event.unbindById(this.fieldId,this.namespace);a.Event.unbindById(this.selectId,this.namespace);f.destroy.call(this)}}}())})(jQuery,
RichFaces);
(function(d,a){a.ui=a.ui||{};var f={position:"tr",direction:"vertical",method:"last",notifications:[],addNotification:function(a){this.notifications.push(a)}};a.ui.NotifyStack=a.BaseComponent.extendClass({name:"NotifyStack",init:function(a,d){c.constructor.call(this,a);this.attachToDom(this.id);this.__initializeStack(d)},__initializeStack:function(a){var a=d.extend({},d.pnotify.defaults.pnotify_stack,f,a),c="vertical"==a.direction;a.push="first"==a.method?"top":"bottom";switch(a.position){case "tl":a.dir1=c?
"down":"right";a.dir2=c?"right":"down";break;case "tr":a.dir1=c?"down":"left";a.dir2=c?"left":"down";break;case "bl":a.dir1=c?"up":"right";a.dir2=c?"right":"up";break;case "br":a.dir1=c?"up":"left";a.dir2=c?"left":"up";break;default:throw"wrong stack position: "+a.position;}this.stack=a},getStack:function(){return this.stack},removeNotifications:function(){for(var a;a=this.stack.notifications.pop();)a.pnotify_remove()},destroy:function(){this.removeNotifications();this.stack=null;c.destroy.call(this)}});
var c=a.ui.NotifyStack.$super})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};var f={switchMode:"ajax"};a.ui.CollapsiblePanelItem=a.ui.TogglePanelItem.extendClass({init:function(c,b){a.ui.TogglePanelItem.call(this,c,d.extend({},f,b));this.headerClass="rf-cp-hdr-"+this.__state()},__enter:function(){this.__content().show();this.__header().addClass(this.headerClass);return!0},__leave:function(){this.__content().hide();"client"==this.options.switchMode&&this.__header().removeClass(this.headerClass);return!0},__state:function(){return"true"===this.getName()?
"exp":"colps"},__content:function(){return d(a.getDomElement(this.id))},__header:function(){return d(a.getDomElement(this.togglePanelId+":header"))}})})(jQuery,RichFaces);var sbjQuery=jQuery;
sbjQuery.fn.SpinButton=function(d){return this.each(function(){this.spinCfg={min:d&&!isNaN(parseFloat(d.min))?Number(d.min):null,max:d&&!isNaN(parseFloat(d.max))?Number(d.max):null,step:d&&d.step?Number(d.step):1,page:d&&d.page?Number(d.page):10,upClass:d&&d.upClass?d.upClass:"up",downClass:d&&d.downClass?d.downClass:"down",reset:d&&d.reset?d.reset:this.value,delay:d&&d.delay?Number(d.delay):500,interval:d&&d.interval?Number(d.interval):100,_btn_width:20,_btn_height:12,_direction:null,_delay:null,
_repeat:null,digits:d&&d.digits?Number(d.digits):1};this.adjustValue=function(a){var b=this.value.toLowerCase();if("am"==b)this.value="PM";else if("pm"==b)this.value="AM";else{b=(isNaN(this.value)?this.spinCfg.reset:Number(this.value))+Number(a);null!==this.spinCfg.min&&(b=b<this.spinCfg.min?null!=this.spinCfg.max?this.spinCfg.max:this.spinCfg.min:b);null!==this.spinCfg.max&&(b=b>this.spinCfg.max?null!=this.spinCfg.min?this.spinCfg.min:this.spinCfg.max:b);for(a=""+b;a.length<this.spinCfg.digits;)a=
"0"+a;this.value=a}};sbjQuery(this).keydown(function(a){switch(a.keyCode){case 38:this.adjustValue(this.spinCfg.step);break;case 40:this.adjustValue(-this.spinCfg.step);break;case 33:this.adjustValue(this.spinCfg.page);break;case 34:this.adjustValue(-this.spinCfg.page)}}).bind("mousewheel",function(a){120<=a.wheelDelta?this.adjustValue(this.spinCfg.step):-120>=a.wheelDelta&&this.adjustValue(-this.spinCfg.step);a.preventDefault()}).change(function(){this.adjustValue(0)});var a=this,f=document.getElementById(this.id+
"BtnUp");sbjQuery(f).mousedown(function(){var c=function(){a.adjustValue(a.spinCfg.step)};c();a.spinCfg._delay=window.setTimeout(function(){c();a.spinCfg._repeat=window.setInterval(c,a.spinCfg.interval)},a.spinCfg.delay);a.spinCfg._repeater=!0;return!1}).mouseup(function(){a.spinCfg._repeater=!1;window.clearInterval(a.spinCfg._repeat);window.clearTimeout(a.spinCfg._delay)}).dblclick(function(){sbjQuery.browser.msie&&a.adjustValue(a.spinCfg.step)}).mouseout(function(){if(a.spinCfg._repeater)a.spinCfg._repeater=
!1,window.clearInterval(a.spinCfg._repeat),window.clearTimeout(a.spinCfg._delay)});f=document.getElementById(this.id+"BtnDown");sbjQuery(f).mousedown(function(){var c=function(){a.adjustValue(-a.spinCfg.step)};c();a.spinCfg._delay=window.setTimeout(function(){c();a.spinCfg._repeat=window.setInterval(c,a.spinCfg.interval)},a.spinCfg.delay);a.spinCfg._repeater=!0;return!1}).mouseup(function(){a.spinCfg._repeater=!1;window.clearInterval(a.spinCfg._repeat);window.clearTimeout(a.spinCfg._delay)}).dblclick(function(){sbjQuery.browser.msie&&
a.adjustValue(-a.spinCfg.step)}).mouseout(function(){if(a.spinCfg._repeater)a.spinCfg._repeater=!1,window.clearInterval(a.spinCfg._repeat),window.clearTimeout(a.spinCfg._delay)});this.addEventListener&&this.addEventListener("DOMMouseScroll",function(a){0<a.detail?this.adjustValue(-this.spinCfg.step):0>a.detail&&this.adjustValue(this.spinCfg.step);a.preventDefault()},!1)})};
(function(d,a){var f;a.ui=a.ui||{};a.ui.Autocomplete=function(e,g,h){this.namespace="."+a.Event.createNamespace(this.name,e);this.options={};c.constructor.call(this,e,e+f,g,h);this.attachToDom();this.options=d.extend(this.options,b,h);this.value="";this.index=null;this.isFirstAjax=!0;this.lastMouseY=this.lastMouseX=null;if(this.useTokens="string"==typeof this.options.tokens&&0<this.options.tokens.length)e=this.options.tokens.split("").join("\\"),this.REGEXP_TOKEN_LEFT=RegExp("[^"+e+"]+$","i"),this.REGEXP_TOKEN_RIGHT=
RegExp("["+e+"]","i"),this.hasSpaceToken=-1!=this.options.tokens.indexOf(" ");e={};e["click"+this.namespace]=e["mouseover"+this.namespace]=j;!d.browser.msie&&!d.browser.opera&&(e["mouseenter"+this.namespace]=l,e["mouseleave"+this.namespace]=i);a.Event.bind(a.getDomElement(this.id+"Items").parentNode,e,this);m.call(this,"")};a.ui.AutocompleteBase.extend(a.ui.Autocomplete);var c=a.ui.Autocomplete.$super,b={itemClass:"rf-au-itm",selectedItemClass:"rf-au-itm-sel",subItemClass:"rf-au-opt",selectedSubItemClass:"rf-au-opt-sel",
autofill:!0,minChars:1,selectFirst:!0,ajaxMode:!0,lazyClientMode:!1,isCachedAjax:!0,tokens:"",attachToBody:!0,filterFunction:void 0};f="List";var e=/^[\n\s]*(.*)[\n\s]*$/,g=function(a){var b=[];a.each(function(){b.push(d(this).text().replace(e,"$1"))});return b},i=function(){a.Event.unbind(a.getDomElement(this.id+"Items").parentNode,"mousemove"+this.namespace);this.lastMouseY=this.lastMouseX=null},h=function(a){this.lastMouseX=a.pageX;this.lastMouseY=a.pageY},l=function(b){this.lastMouseX=b.pageX;
this.lastMouseY=b.pageY;a.Event.bind(a.getDomElement(this.id+"Items").parentNode,"mousemove"+this.namespace,h,this)},j=function(b){var c=d(b.target).closest("."+this.options.itemClass,b.currentTarget).get(0);if(c)if("mouseover"==b.type){if(null==this.lastMouseX||this.lastMouseX!=b.pageX||this.lastMouseY!=b.pageY)c=this.items.index(c),n.call(this,b,c)}else this.__onEnter(b),a.Selection.setCaretTo(a.getDomElement(this.fieldId)),this.__hide(b)},m=function(b,c){var e=d(a.getDomElement(this.id+"Items"));
this.items=e.find("."+this.options.itemClass);var f=e.data();e.removeData();if(0<this.items.length)this.cache=new a.utils.Cache(this.options.ajaxMode?b:"",this.items,c||f.componentData||g,!this.options.ajaxMode)},q=function(){var b=0;this.items.slice(0,this.index).each(function(){b+=this.offsetHeight});var c=d(a.getDomElement(this.id+"Items")).parent();b<c.scrollTop()?c.scrollTop(b):(b+=this.items.eq(this.index).outerHeight(),b-c.scrollTop()>c.innerHeight()&&c.scrollTop(b-c.innerHeight()))},r=function(b,
c){a.getDomElement(this.id+"Value").value=this.value;var d=this;this.isFirstAjax=!1;var e={};e[this.id+".ajax"]="1";a.ajax(this.id,b,{parameters:e,error:function(){d.__hide(b);z.call(d)},complete:function(a){m.call(d,d.value,a.componentData&&a.componentData[d.id]);d.options.lazyClientMode&&0!=d.value.length&&t.call(d,d.value);0!=d.items.length?c?(d.focused||d.isMouseDown)&&c.call(d,b):d.isVisible&&d.options.selectFirst&&n.call(d,b,0):d.__hide(b)}})},s=function(){if(null!=this.index){var a=this.items.eq(this.index);
a.removeClass(this.options.selectedItemClass).hasClass(this.options.subItemClass)&&a.removeClass(this.options.selectedSubItemClass);this.index=null}},n=function(b,c,d){if(!(0==this.items.length||!d&&c==this.index))if(null==c||void 0==c)s.call(this);else if(d&&(c=null==this.index?0:this.index+c),0>c?c=0:c>=this.items.length&&(c=this.items.length-1),c!=this.index&&(s.call(this),this.index=c,c=this.items.eq(this.index),c.addClass(this.options.selectedItemClass).hasClass(this.options.subItemClass)&&c.addClass(this.options.selectedSubItemClass),
q.call(this),b&&b.keyCode!=a.KEYS.BACKSPACE&&b.keyCode!=a.KEYS.DEL&&b.keyCode!=a.KEYS.LEFT&&b.keyCode!=a.KEYS.RIGHT&&(b=this.value,c=u.call(this),this.options.autofill&&0==c.toLowerCase().indexOf(b)))){var d=a.getDomElement(this.fieldId),e=a.Selection.getStart(d);this.__setInputValue(b+c.substring(b.length));a.Selection.set(d,e,e+c.length-b.length)}},t=function(b){b=this.cache.getItems(b,this.options.filterFunction);this.items=d(b);d(a.getDomElement(this.id+"Items")).empty().append(this.items)},z=
function(){d(a.getDomElement(this.id+"Items")).removeData().empty();this.items=[]},A=function(b,c,d){n.call(this,b);var c="undefined"==typeof c?this.__getSubValue():c,e=this.value;this.value=c;(this.options.isCachedAjax||!this.options.ajaxMode)&&this.cache&&this.cache.isCached(c)?(e!=c&&t.call(this,c),0!=this.items.length?d&&d.call(this,b):this.__hide(b),b.keyCode==a.KEYS.RETURN||"click"==b.type?this.__setInputValue(c):this.options.selectFirst&&n.call(this,b,0)):((b.keyCode==a.KEYS.RETURN||"click"==
b.type)&&this.__setInputValue(c),c.length>=this.options.minChars?(this.options.ajaxMode||this.options.lazyClientMode)&&e!=c&&r.call(this,b,d):this.options.ajaxMode&&(z.call(this),this.__hide(b)))},u=function(){if(null!=this.index)return this.cache.getItemValue(this.items.eq(this.index))},p=function(){if(this.useTokens){var b=a.getDomElement(this.fieldId),c=b.value,d=a.Selection.getStart(b),b=c.substring(0,d),c=c.substring(d),b=this.REGEXP_TOKEN_LEFT.exec(b),d="";b&&(d=b[0]);b=c.search(this.REGEXP_TOKEN_RIGHT);
if(-1==b)b=c.length;return d+=c.substring(0,b)}return this.getValue()},o=function(){if(0==this.items.length)return-1;for(var b=d(a.getDomElement(this.id+"Items")).parent(),c=b.scrollTop()+b.innerHeight()+this.items[0].offsetTop,e,g=null!=this.index&&this.items[this.index].offsetTop<=c?this.index:0;g<this.items.length;g++)if(e=this.items[g],e.offsetTop+e.offsetHeight>c){g--;break}if(g!=this.items.length-1&&g==this.index){c+=this.items[g].offsetTop-b.scrollTop();for(++g;g<this.items.length&&!(e=this.items[g],
e.offsetTop+e.offsetHeight>c);g++);}return g},w=function(){if(0==this.items.length)return-1;for(var b=d(a.getDomElement(this.id+"Items")).parent(),c=b.scrollTop()+this.items[0].offsetTop,e,g=null!=this.index&&this.items[this.index].offsetTop>=c?this.index-1:this.items.length-1;0<=g;g--)if(e=this.items[g],e.offsetTop<c){g++;break}if(0!=g&&g==this.index){c=this.items[g].offsetTop-b.innerHeight();if(c<this.items[0].offsetTop)c=this.items[0].offsetTop;for(--g;0<=g;g--)if(e=this.items[g],e.offsetTop<c){g++;
break}}return g};d.extend(a.ui.Autocomplete.prototype,function(){return{name:"Autocomplete",__updateState:function(a){var b=this.__getSubValue();return 0==this.items.length&&this.isFirstAjax&&(this.options.ajaxMode&&b.length>=this.options.minChars||this.options.lazyClientMode)?(this.value=b,r.call(this,a,this.__show),!0):!1},__getSubValue:p,__updateInputValue:function(b){var d;if(this.useTokens){d=a.getDomElement(this.fieldId);var e=d.value,g=a.Selection.getStart(d),f=e.substring(0,g),j=e.substring(g),
g=f.search(this.REGEXP_TOKEN_LEFT),m=-1!=g?g:f.length,g=j.search(this.REGEXP_TOKEN_RIGHT),f=-1!=g?g:j.length,b=e.substring(0,m)+b,g=b.length;d.value=b+j.substring(f);d.focus();a.Selection.setCaretTo(d,g);d=d.value}else d=c.__updateInputValue.call(this,b);return d},__setInputValue:function(a){this.currentValue=this.__updateInputValue(a)},__onChangeValue:A,__onKeyUp:function(a){n.call(this,a,-1,!0)},__onKeyDown:function(a){n.call(this,a,1,!0)},__onPageUp:function(a){n.call(this,a,w.call(this))},__onPageDown:function(a){n.call(this,
a,o.call(this))},__onKeyHome:function(a){n.call(this,a,0)},__onKeyEnd:function(a){n.call(this,a,this.items.length-1)},__onBeforeShow:function(){},__onEnter:function(b){var c=u.call(this);this.__onChangeValue(b,c);this.invokeEvent("selectitem",a.getDomElement(this.fieldId),b,c)},__onShow:function(a){this.options.selectFirst&&n.call(this,a,0)},__onHide:function(a){n.call(this,a)},destroy:function(){this.cache=this.items=null;var b=a.getDomElement(this.id+"Items");d(b).removeData();a.Event.unbind(b.parentNode,
this.namespace);c.destroy.call(this)}}}());d.extend(a.ui.Autocomplete,{setData:function(b,c){d(a.getDomElement(b)).data({componentData:c})}})})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.InplaceBase=function(a,e){f.constructor.call(this,a);var g=d.extend({},c,e);this.editEvent=g.editEvent;this.noneCss=g.noneCss;this.changedCss=g.changedCss;this.editCss=g.editCss;this.defaultLabel=g.defaultLabel;this.state=g.state;this.options=g;this.element=d(document.getElementById(a));this.editContainer=d(document.getElementById(a+"Edit"));this.element.bind(this.editEvent,d.proxy(this.__editHandler,this));this.editState=this.useDefaultLabel=this.isSaved=!1};a.ui.InputBase.extend(a.ui.InplaceBase);
var f=a.ui.InplaceBase.$super,c={editEvent:"click",state:"ready"};d.extend(a.ui.InplaceBase.prototype,function(){return{getLabel:function(){},setLabel:function(){},onshow:function(){},onhide:function(){},onsave:function(){},oncancel:function(){},save:function(){var a=this.__getValue();0<a.length?(this.setLabel(a),this.useDefaultLabel=!1):(this.setLabel(this.defaultLabel),this.useDefaultLabel=!0);this.isSaved=!0;this.__applyChangedStyles();this.onsave()},cancel:function(){var a="";this.useDefaultLabel||
(a=this.getLabel());this.__setValue(a);this.isSaved=!0;this.oncancel()},isValueSaved:function(){return this.isSaved},isEditState:function(){return this.editState},__applyChangedStyles:function(){this.isValueChanged()?this.element.addClass(this.changedCss):this.element.removeClass(this.changedCss)},__show:function(){this.scrollElements=a.Event.bindScrollEventHandlers(this.id,this.__scrollHandler,this);this.editState=!0;this.onshow()},__hide:function(){if(this.scrollElements)a.Event.unbindScrollEventHandlers(this.scrollElements,
this),this.scrollElements=null;this.editState=!1;this.editContainer.addClass(this.noneCss);this.element.removeClass(this.editCss);this.onhide()},__editHandler:function(){this.isSaved=!1;this.element.addClass(this.editCss);this.editContainer.removeClass(this.noneCss);this.__show()},__scrollHandler:function(){this.cancel()},destroy:function(){f.destroy.call(this)}}}())})(jQuery,window.RichFaces);
(function(d,a){a.calendarUtils=a.calendarUtils||{};var f=function(a){return a?"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","):"January,February,March,April,May,June,July,August,September,October,November,December".split(",")};d.extend(a.calendarUtils,{joinArray:function(a,b,d,g){var f="";for(0!=a.length&&(f=b+a.pop()+d);a.length;)f=b+a.pop()+d+g+f;return f},getMonthByLabel:function(a,b){for(var d=a.toLowerCase(),g=0;g<b.length;){if(b[g].toLowerCase()==d)return g;g++}},createDate:function(a,
b,d,g,f,h){var g=g||0,f=f||0,h=h||0,l=new Date(a,b,d,g,f,h);l.getDate()!=d&&(l=new Date(a,b),l.setHours(g),l.setMinutes(f),l.setSeconds(h),l.setUTCDate(d));return l},parseDate:function(a,b,d,g){var i=/([.*+?^<>=!:${}()\[\]\/\\])/g,h,l;d?h=d.join("|").replace(i,"\\$1"):(d=f(),h=d.join("|"));g?l=g.join("|").replace(i,"\\$1"):(g=f(!0),l=g.join("|"));var j=1,m,q,r,s,n,t,z,A=!1,b=b.replace(/([.*+?^<>=!:${}()|\[\]\/\\])/g,"\\$1"),b=b.replace(/(y+|M+|d+|a|H{1,2}|h{1,2}|m{2}|s{2})/g,function(a){switch(a){case "y":case "yy":return m=
j,j++,"(\\d{2})";case "MM":return q=j,j++,"(\\d{2})";case "M":return q=j,j++,"(\\d{1,2})";case "d":return r=j,j++,"(\\d{1,2})";case "MMM":return q=j,j++,A=!0,"("+l+")";case "a":return s=j,j++,"(AM|am|PM|pm)?";case "HH":case "hh":return n=j,j++,"(\\d{2})?";case "H":case "h":return n=j,j++,"(\\d{1,2})?";case "mm":return t=j,j++,"(\\d{2})?";case "ss":return z=j,j++,"(\\d{2})?"}a=a.charAt(0);if("y"==a)return m=j,j++,"(\\d{3,4})";if("M"==a)return q=j,j++,"("+h+")";if("d"==a)return r=j,j++,"(\\d{2})"}),
a=a.match(RegExp(b,"i"));if(null!=a&&void 0!=m&&void 0!=q&&void 0!=r){b=!1;i=new Date;i.setFullYear(i.getFullYear()-80);var u=parseInt(a[m],10);if(isNaN(u))return null;if(100>u)var p=i.getFullYear(),o=p%100,b=u==o,u=u+(100*Math.floor(p/100)+(u<o?100:0));p=parseInt(a[q],10);if(isNaN(p))p=this.getMonthByLabel(a[q],A?g:d);else if(0>--p||11<p)return null;g=b?1:0;d=parseInt(a[r],10);if(isNaN(d)||1>d||d>this.daysInMonth(u,p)+g)return null;if(void 0!=t&&void 0!=n){var w,o=parseInt(a[t],10);if(isNaN(o)||
0>o||59<o)return null;g=parseInt(a[n],10);if(isNaN(g))return null;if(void 0!=s){w=a[s];if(!w)return null;w=w.toLowerCase();if("am"!=w&&"pm"!=w||1>g||12<g)return null;"pm"==w?12!=g&&(g+=12):12==g&&(g=0)}else if(0>g||23<g)return null;d=this.createDate(u,p,d,g,o);if(void 0!=z){sec=parseInt(a[z],10);if(isNaN(sec)||0>sec||59<sec)return null;d.setSeconds(sec)}}else d=this.createDate(u,p,d);return b&&(d.getTime()<i.getTime()&&d.setFullYear(u+100),d.getMonth()!=p)?null:d}return null},formatDate:function(a,
b,d,g){d||(d=f());g||(g=f(!0));var i,h,l,j,m;return b.replace(/(\\\\|\\[yMdaHhms])|(y+|M+|d+|a|H{1,2}|h{1,2}|m{2}|s{2})/g,function(b,f,s){if(f)return f.charAt(1);switch(s){case "y":case "yy":return a.getYear().toString().slice(-2);case "M":return a.getMonth()+1;case "MM":return 10>(i=a.getMonth()+1)?"0"+i:i;case "MMM":return g[a.getMonth()];case "d":return a.getDate();case "a":return 12>a.getHours()?"AM":"PM";case "HH":return 10>(l=a.getHours())?"0"+l:l;case "H":return a.getHours();case "hh":return 0==
(l=a.getHours())?"12":10>l?"0"+l:21<l?l-12:12<l?"0"+(l-12):l;case "h":return 0==(l=a.getHours())?"12":12<l?l-12:l;case "mm":return 10>(j=a.getMinutes())?"0"+j:j;case "ss":return 10>(m=a.getSeconds())?"0"+m:m}b=s.charAt(0);if("y"==b)return a.getFullYear();if("M"==b)return d[a.getMonth()];if("d"==b)return 10>(h=a.getDate())?"0"+h:h})},isLeapYear:function(a){return 29==(new Date(a,1,29)).getDate()},daysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},daysInMonthByDate:function(a){return 32-
(new Date(a.getFullYear(),a.getMonth(),32)).getDate()},getDay:function(a,b){var d=a.getDay()-b;0>d&&(d=7+d);return d},getFirstWeek:function(a,b,d){var a=new Date(a,0,1),g=this.getDay(a,d);return{date:a,firstDay:g,weekNumber:7-g<b?0:1,mdifw:b,fdow:d}},getLastWeekOfPrevYear:function(a){var b=a.date.getFullYear()-1,d=this.isLeapYear(b)?366:365,b=this.getFirstWeek(b,a.mdifw,a.fdow),d=d-7+a.firstDay;return Math.ceil(d/7)+b.weekNumber},weekNumber:function(a,b,d,g){d=this.getFirstWeek(a,d,g);if(0==b)return 1==
d.weekNumber?1:this.getLastWeekOfPrevYear(d);a=new Date(a,b,1);a.setDate(1+d.firstDay+(0==this.getDay(a,g)?1:0));return weeknumber=d.weekNumber+Math.floor((a.getTime()-d.date.getTime())/6048E5)}});a.calendarTemplates=a.calendarTemplates||{};d.extend(a.calendarTemplates,function(){var a=/^\s*[_,A-Z,a-z][\w,_\.]*\s*$/,b=function(a,b){for(var c=a.split("."),d=b[c[0]],f=1;d&&f<c.length;)d=d[c[f++]];return d?d:""};return{evalMacro:function(d,g){var f="";if(a.test(d))-1==d.indexOf(".")?(f=g[d])||(f=window[d]):
(f=b(d,g))||(f=b(d,window)),f&&"function"==typeof f&&(f=f(g)),f||(f="");else try{if(g.eval)f=g.eval(d);else with(g)f=eval(d);"function"==typeof f&&(f=f(g))}catch(h){LOG.warn("Exception: "+h.Message+"\n["+d+"]")}return f}}}())})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.Popup=function(a,e){f.constructor.call(this,a);this.options=d.extend({},c,e);this.positionOptions={type:this.options.positionType,from:this.options.jointPoint,to:this.options.direction,offset:this.options.positionOffset};this.popup=d(document.getElementById(a));this.visible=this.options.visible;this.attachTo=this.options.attachTo;this.attachToBody=this.options.attachToBody;this.positionType=this.options.positionType;this.positionOffset=this.options.positionOffset};
a.BaseComponent.extend(a.ui.Popup);var f=a.ui.Popup.$super,c={visible:!1};d.extend(a.ui.Popup.prototype,{name:"popup",show:function(a){if(!this.visible){if(this.attachToBody)this.parentElement=this.popup.parent().get(0),document.body.appendChild(this.popup.get(0));this.visible=!0}this.popup.setPosition(a||{id:this.attachTo},this.positionOptions).show()},hide:function(){if(this.visible&&(this.popup.hide(),this.visible=!1,this.attachToBody&&this.parentElement))this.parentElement.appendChild(this.popup.get(0)),
this.parentElement=null},isVisible:function(){return this.visible},getId:function(){return this.id},destroy:function(){if(this.attachToBody&&this.parentElement)this.parentElement.appendChild(this.popup.get(0)),this.parentElement=null}})})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};var f={getControl:function(a,b,c,e){b=d.extend({onclick:(c?"RichFaces.$$('Calendar',this)."+c+"("+(e?e:"")+");":"")+"return true;"},b);return new E("div",b,[new T(a)])},getSelectedDateControl:function(b){if(!b.selectedDate||b.options.showApplyButton)return"";var c=a.calendarUtils.formatDate(b.selectedDate,b.timeType?b.datePattern:b.options.datePattern,b.options.monthLabels,b.options.monthLabelsShort);return b.options.disabled?new E("div",{"class":"rf-cal-tl-btn-dis"},
[new ET(c)]):new E("div",{"class":"rf-cal-tl-btn",onclick:"RichFaces.$$('Calendar',this).showSelectedDate(); return true;"},[new ET(c)])},getTimeControl:function(b){if(!b.selectedDate||!b.timeType)return"";var c=a.calendarUtils.formatDate(b.selectedDate,b.timePattern,b.options.monthLabels,b.options.monthLabelsShort);return b.options.disabled||b.options.readonly?new E("div",{"class":"rf-cal-tl-btn-btn-dis"},[new ET(c)]):new E("div",{"class":"rf-cal-tl-btn rf-cal-tl-btn-hov rf-cal-btn-press",onclick:"RichFaces.$$('Calendar',this).showTimeEditor();return true;",
onmouseover:NaN,onmouseout:NaN},[new ET(c)])},toolButtonAttributes:{className:"rf-cal-tl-btn",onmouseover:"this.className='rf-cal-tl-btn rf-cal-tl-btn-hov'",onmouseout:"this.className='rf-cal-tl-btn'",onmousedown:"this.className='rf-cal-tl-btn rf-cal-tl-btn-hov rf-cal-tl-btn-btn-press'",onmouseup:"this.className='rf-cal-tl-btn rf-cal-tl-btn-hov'"},nextYearControl:function(a){return!a.calendar.options.disabled?f.getControl(">>",f.toolButtonAttributes,"nextYear"):""},previousYearControl:function(a){return!a.calendar.options.disabled?
f.getControl("<<",f.toolButtonAttributes,"prevYear"):""},nextMonthControl:function(a){return!a.calendar.options.disabled?f.getControl(">",f.toolButtonAttributes,"nextMonth"):""},previousMonthControl:function(a){return!a.calendar.options.disabled?f.getControl("<",f.toolButtonAttributes,"prevMonth"):""},currentMonthControl:function(b){var c=a.calendarUtils.formatDate(b.calendar.getCurrentDate(),"MMMM, yyyy",b.monthLabels,b.monthLabelsShort);return b.calendar.options.disabled?new E("div",{className:"rf-cal-tl-btn-dis"},
[new T(c)]):f.getControl(c,f.toolButtonAttributes,"showDateEditor")},todayControl:function(a){return!a.calendar.options.disabled&&"hidden"!=a.calendar.options.todayControlMode?f.getControl(a.controlLabels.today,f.toolButtonAttributes,"today"):""},closeControl:function(a){return a.calendar.options.popup?f.getControl(a.controlLabels.close,f.toolButtonAttributes,"close","false"):""},applyControl:function(a){return!a.calendar.options.disabled&&!a.calendar.options.readonly&&a.calendar.options.showApplyButton?
f.getControl(a.controlLabels.apply,f.toolButtonAttributes,"close","true"):""},cleanControl:function(a){return!a.calendar.options.disabled&&!a.calendar.options.readonly&&a.calendar.selectedDate?f.getControl(a.controlLabels.clean,f.toolButtonAttributes,"__resetSelectedDate"):""},selectedDateControl:function(a){return f.getSelectedDateControl(a.calendar)},timeControl:function(a){return f.getTimeControl(a.calendar)},timeEditorFields:function(a){return a.calendar.timePatternHtml},header:[new E("table",
{border:"0",cellpadding:"0",cellspacing:"0",width:"100%"},[new E("tbody",{},[new E("tr",{},[new E("td",{"class":"rf-cal-tl"},[new ET(function(b){return a.calendarTemplates.evalMacro("previousYearControl",b)})]),new E("td",{"class":"rf-cal-tl"},[new ET(function(b){return a.calendarTemplates.evalMacro("previousMonthControl",b)})]),new E("td",{"class":"rf-cal-hdr-month"},[new ET(function(b){return a.calendarTemplates.evalMacro("currentMonthControl",b)})]),new E("td",{"class":"rf-cal-tl"},[new ET(function(b){return a.calendarTemplates.evalMacro("nextMonthControl",
b)})]),new E("td",{"class":"rf-cal-tl"},[new ET(function(b){return a.calendarTemplates.evalMacro("nextYearControl",b)})]),new E("td",{"class":"rf-cal-tl rf-cal-btn-close",style:function(){return this.isEmpty?"display:none;":""}},[new ET(function(b){return a.calendarTemplates.evalMacro("closeControl",b)})])])])])],footer:[new E("table",{border:"0",cellpadding:"0",cellspacing:"0",width:"100%"},[new E("tbody",{},[new E("tr",{},[new E("td",{"class":"rf-cal-tl-ftr",style:function(){return this.isEmpty?
"display:none;":""}},[new ET(function(b){return a.calendarTemplates.evalMacro("selectedDateControl",b)})]),new E("td",{"class":"rf-cal-tl-ftr",style:function(){return this.isEmpty?"display:none;":""}},[new ET(function(b){return a.calendarTemplates.evalMacro("cleanControl",b)})]),new E("td",{"class":"rf-cal-tl-ftr",style:function(){return this.isEmpty?"display:none;":""}},[new ET(function(b){return a.calendarTemplates.evalMacro("timeControl",b)})]),new E("td",{"class":"rf-cal-tl-ftr",style:"background-image:none;",
width:"100%"},[]),new E("td",{"class":"rf-cal-tl-ftr",style:function(a){return(this.isEmpty?"display:none;":"")+(a.calendar.options.disabled||a.calendar.options.readonly||!a.calendar.options.showApplyButton?"background-image:none;":"")}},[new ET(function(b){return a.calendarTemplates.evalMacro("todayControl",b)})]),new E("td",{"class":"rf-cal-tl-ftr",style:function(){return(this.isEmpty?"display:none;":"")+"background-image:none;"}},[new ET(function(b){return a.calendarTemplates.evalMacro("applyControl",
b)})])])])])],timeEditorLayout:[new E("table",{id:function(a){return a.calendar.TIME_EDITOR_LAYOUT_ID},border:"0",cellpadding:"0",cellspacing:"0","class":"rf-cal-timepicker-cnt"},[new E("tbody",{},[new E("tr",{},[new E("td",{"class":"rf-cal-timepicker-inp",colspan:"2",align:"center"},[new ET(function(b){return a.calendarTemplates.evalMacro("timeEditorFields",b)})])]),new E("tr",{},[new E("td",{"class":"rf-cal-timepicker-ok"},[new E("div",{id:function(a){return a.calendar.TIME_EDITOR_BUTTON_OK},"class":"rf-cal-time-btn",
style:"float:right;",onmousedown:"jQuery(this).addClass('rf-cal-time-btn-press');",onmouseout:"jQuery(this).removeClass('rf-cal-time-btn-press');",onmouseup:"jQuery(this).removeClass('rf-cal-time-btn-press');",onclick:function(a){return"RichFaces.$('"+a.calendar.id+"').hideTimeEditor(true)"}},[new E("span",{},[new ET(function(a){return a.controlLabels.ok})])])]),new E("td",{"class":"rf-cal-timepicker-cancel"},[new E("div",{id:function(a){return a.calendar.TIME_EDITOR_BUTTON_CANCEL},"class":"rf-cal-time-btn",
style:"float:left;",onmousedown:"jQuery(this).addClass('rf-cal-time-btn-press');",onmouseout:"jQuery(this).removeClass('rf-cal-time-btn-press');",onmouseup:"jQuery(this).removeClass('rf-cal-time-btn-press');",onclick:function(a){return"RichFaces.$('"+a.calendar.id+"').hideTimeEditor(false)"}},[new E("span",{},[new ET(function(a){return a.controlLabels.cancel})])])])])])])],dayList:[new ET(function(a){return a.day})],weekNumber:[new ET(function(a){return a.weekNumber})],weekDay:[new ET(function(a){return a.weekDayLabelShort})]},
c=function(a){this.calendar=a;this.monthLabels=a.options.monthLabels;this.monthLabelsShort=a.options.monthLabelsShort;this.weekDayLabels=a.options.weekDayLabels;this.weekDayLabelsShort=a.options.weekDayLabelsShort;this.controlLabels=a.options.labels};d.extend(c.prototype,{nextYearControl:f.nextYearControl,previousYearControl:f.previousYearControl,nextMonthControl:f.nextMonthControl,previousMonthControl:f.previousMonthControl,currentMonthControl:f.currentMonthControl,selectedDateControl:f.selectedDateControl,
cleanControl:f.cleanControl,timeControl:f.timeControl,todayControl:f.todayControl,closeControl:f.closeControl,applyControl:f.applyControl,timeEditorFields:f.timeEditorFields});var b={showWeekDaysBar:!0,showWeeksBar:!0,datePattern:"MMM d, yyyy",horizontalOffset:0,verticalOffset:0,dayListMarkup:f.dayList,weekNumberMarkup:f.weekNumber,weekDayMarkup:f.weekDay,headerMarkup:f.header,footerMarkup:f.footer,isDayEnabled:function(){return!0},dayStyleClass:function(){return""},showHeader:!0,showFooter:!0,direction:"AA",
jointPoint:"AA",popup:!0,boundaryDatesMode:"inactive",todayControlMode:"select",style:"",className:"",disabled:!1,readonly:!1,enableManualInput:!1,showInput:!0,resetTimeOnDateSelect:!1,style:"z-index: 3;",showApplyButton:!1,selectedDate:null,currentDate:null,defaultTime:{hours:12,minutes:0,seconds:0},mode:"client",hidePopupOnScroll:!0,defaultLabel:""},e={apply:"Apply",today:"Today",clean:"Clean",ok:"OK",cancel:"Cancel",close:"x"},g=function(b){var c=a.getDomElement(this.INPUT_DATE_ID);if(c.value==
this.options.defaultLabel&&!b||b==this.options.defaultLabel&&!c.value)(c.value=b)?d(c).addClass("rf-cal-dflt-lbl"):d(c).removeClass("rf-cal-dflt-lbl")},i=function(a){if((this.isFocused="focus"==a.type)||!this.isVisible)g.call(this,"focus"==a.type?"":this.options.defaultLabel)};a.ui.Calendar=function(j,m,q,r){h.constructor.call(this,j);this.namespace="."+a.Event.createNamespace(this.name,j);this.options=d.extend(this.options,b,l[m],q,r);var j=q.labels||{},s;for(s in e)j[s]||(j[s]=e[s]);this.options.labels=
j;this.popupOffset=[this.options.horizontalOffset,this.options.verticalOffset];if(!this.options.popup)this.options.showApplyButton=!1;this.options.boundaryDatesMode=this.options.boundaryDatesMode.toLowerCase();this.hideBoundaryDatesContent="hidden"==this.options.boundaryDatesMode;this.options.todayControlMode=this.options.todayControlMode.toLowerCase();this.setTimeProperties();this.customDayListMarkup=this.options.dayListMarkup!=f.dayList;this.currentDate=this.options.currentDate?this.options.currentDate:
this.options.selectedDate?this.options.selectedDate:new Date;this.currentDate.setDate(1);this.selectedDate=this.options.selectedDate;this.todayDate=new Date;this.firstWeekendDayNumber=6-this.options.firstWeekDay;this.secondWeekendDayNumber=0<this.options.firstWeekDay?7-this.options.firstWeekDay:0;this.calendarContext=new c(this);this.DATE_ELEMENT_ID=this.id+"DayCell";this.WEEKNUMBER_BAR_ID=this.id+"WeekNum";this.WEEKNUMBER_ELEMENT_ID=this.WEEKNUMBER_BAR_ID+"Cell";this.WEEKDAY_BAR_ID=this.id+"WeekDay";
this.WEEKDAY_ELEMENT_ID=this.WEEKDAY_BAR_ID+"Cell";this.POPUP_ID=this.id+"Popup";this.POPUP_BUTTON_ID=this.id+"PopupButton";this.INPUT_DATE_ID=this.id+"InputDate";this.EDITOR_ID=this.id+"Editor";this.EDITOR_SHADOW_ID=this.id+"EditorShadow";this.TIME_EDITOR_LAYOUT_ID=this.id+"TimeEditorLayout";this.DATE_EDITOR_LAYOUT_ID=this.id+"DateEditorLayout";this.EDITOR_LAYOUT_SHADOW_ID=this.id+"EditorLayoutShadow";this.TIME_EDITOR_BUTTON_OK=this.id+"TimeEditorButtonOk";this.TIME_EDITOR_BUTTON_CANCEL=this.id+
"TimeEditorButtonCancel";this.DATE_EDITOR_BUTTON_OK=this.id+"DateEditorButtonOk";this.DATE_EDITOR_BUTTON_CANCEL=this.id+"DateEditorButtonCancel";this.CALENDAR_CONTENT=this.id+"Content";this.firstDateIndex=0;this.daysData={startDate:null,days:[]};this.days=[];this.todayCellId=null;this.todayCellColor="";this.selectedDateCellId=null;s=this.selectedDateCellColor="";this.isVisible=!0;if(!0==this.options.popup)s="display:none; position:absolute;",this.isVisible=!1;var n="RichFaces.$('"+this.id+"').";s=
'<table id="'+this.CALENDAR_CONTENT+'" border="0" cellpadding="0" cellspacing="0" class="rf-cal-extr rf-cal-popup '+this.options.styleClass+'" style="'+s+this.options.style+'" onclick="'+n+'skipEventOnCollapse=true;"><tbody>';var r=this.options.showWeeksBar?"8":"7",j=this.options.optionalHeaderMarkup?'<tr><td class="rf-cal-hdr-optnl" colspan="'+r+'" id="'+this.id+'HeaderOptional"></td></tr>':"",m=this.options.optionalFooterMarkup?'<tr><td class="rf-cal-ftr-optl" colspan="'+r+'" id="'+this.id+'FooterOptional"></td></tr>':
"",q=this.options.showHeader?'<tr><td class="rf-cal-hdr" colspan="'+r+'" id="'+this.id+'Header"></td></tr>':"",r=this.options.showFooter?'<tr><td class="rf-cal-ftr" colspan="'+r+'" id="'+this.id+'Footer"></td></tr>':"",t,z,A=[],u=this.options.disabled||this.options.readonly?"":'onclick="'+n+'eventCellOnClick(event, this);" onmouseover="'+n+'eventCellOnMouseOver(event, this);" onmouseout="'+n+'eventCellOnMouseOut(event, this);"';if(this.options.showWeekDaysBar){A.push('<tr id="'+this.WEEKDAY_BAR_ID+
'">');this.options.showWeeksBar&&A.push('<td class="rf-cal-day-lbl"><br/></td>');for(var p=this.options.firstWeekDay,o=0;7>o;o++)n={weekDayLabel:this.options.weekDayLabels[p],weekDayLabelShort:this.options.weekDayLabelsShort[p],weekDayNumber:p,isWeekend:this.isWeekend(o),elementId:this.WEEKDAY_ELEMENT_ID+o,component:this},z=this.evaluateMarkup(this.options.weekDayMarkup,n),6==p?p=0:p++,t="rf-cal-day-lbl",n.isWeekend&&(t+=" rf-cal-holliday-lbl"),6==o&&(t+=" rf-cal-right-c"),A.push('<td class="'+t+
'" id="'+n.elementId+'">'+z+"</td>");A.push("</tr>\n")}var p=[],w=0;this.dayCellClassName=[];for(k=1;7>k;k++){z=6==k?"rf-btm-c ":"";p.push('<tr id="'+this.WEEKNUMBER_BAR_ID+k+'">');this.options.showWeeksBar&&(n={weekNumber:k,elementId:this.WEEKNUMBER_ELEMENT_ID+k,component:this},t=this.evaluateMarkup(this.options.weekNumberMarkup,n),p.push('<td class="rf-cal-week '+z+'" id="'+n.elementId+'">'+t+"</td>"));for(o=0;7>o;o++){t=z+(!this.options.dayCellClass?"rf-cal-c-cnt-overflow":!this.customDayListMarkup?
this.options.dayCellClass:"")+" rf-cal-c";if(o==this.firstWeekendDayNumber||o==this.secondWeekendDayNumber)t+=" rf-cal-holiday";6==o&&(t+=" rf-cal-right-c");this.dayCellClassName.push(t);p.push('<td class="'+t+'" id="'+this.DATE_ELEMENT_ID+w+'" '+u+">"+(this.customDayListMarkup?'<div class="rf-cal-c-cnt'+(this.options.dayCellClass?" "+this.options.dayCellClass:"")+'"></div>':"")+"</td>");w++}p.push("</tr>")}n=a.getDomElement(this.CALENDAR_CONTENT);d(n).replaceWith(s+j+q+A.join("")+p.join("")+r+m+
"</tbody></table>");this.attachToDom();this.options.popup&&!this.options.disabled&&(s=new Function("event","RichFaces.$('"+this.id+"').switchPopup();"),a.Event.bindById(this.POPUP_BUTTON_ID,"click"+this.namespace,s,this),this.options.enableManualInput||a.Event.bindById(this.INPUT_DATE_ID,"click"+this.namespace,s,this),this.options.defaultLabel&&(g.call(this,this.options.defaultLabel),a.Event.bindById(this.INPUT_DATE_ID,"focus"+this.namespace+" blur"+this.namespace,i,this)));this.scrollElements=null;
this.isAjaxMode="ajax"==this.options.mode};a.BaseComponent.extend(a.ui.Calendar);var h=a.ui.Calendar.$super,l={};a.ui.Calendar.addLocale=function(a,b){l[a]||(l[a]=b)};d.extend(a.ui.Calendar.prototype,{name:"Calendar",destroy:function(){if(this.options.popup&&this.isVisible)this.scrollElements&&a.Event.unbindScrollEventHandlers(this.scrollElements,this),this.scrollElements=null,a.Event.unbind(window.document,"click"+this.namespace);h.destroy.call(this)},dateEditorSelectYear:function(b){this.dateEditorYearID&&
d(a.getDomElement(this.dateEditorYearID)).removeClass("rf-cal-edtr-btn-sel");this.dateEditorYear=this.dateEditorStartYear+b;this.dateEditorYearID=this.DATE_EDITOR_LAYOUT_ID+"Y"+b;d(a.getDomElement(this.dateEditorYearID)).addClass("rf-cal-edtr-btn-sel")},dateEditorSelectMonth:function(b){this.dateEditorMonth=b;d(a.getDomElement(this.dateEditorMonthID)).removeClass("rf-cal-edtr-btn-sel");this.dateEditorMonthID=this.DATE_EDITOR_LAYOUT_ID+"M"+b;d(a.getDomElement(this.dateEditorMonthID)).addClass("rf-cal-edtr-btn-sel")},
scrollEditorYear:function(b){var c=a.getDomElement(this.DATE_EDITOR_LAYOUT_ID+"TR");if(this.dateEditorYearID)d(a.getDomElement(this.dateEditorYearID)).removeClass("rf-cal-edtr-btn-sel"),this.dateEditorYearID="";if(!b&&this.dateEditorMonth!=this.getCurrentMonth())this.dateEditorMonth=this.getCurrentMonth(),d(a.getDomElement(this.dateEditorMonthID)).removeClass("rf-cal-edtr-btn-sel"),this.dateEditorMonthID=this.DATE_EDITOR_LAYOUT_ID+"M"+this.dateEditorMonth,d(a.getDomElement(this.dateEditorMonthID)).addClass("rf-cal-edtr-btn-sel");
if(c)for(var e=this.dateEditorStartYear+=10*b,g=0;5>g;g++){c=c.nextSibling;b=c.firstChild.nextSibling.nextSibling;b.firstChild.innerHTML=e;if(e==this.dateEditorYear)d(b.firstChild).addClass("rf-cal-edtr-btn-sel"),this.dateEditorYearID=b.firstChild.id;b=b.nextSibling;b.firstChild.innerHTML=e+5;if(e+5==this.dateEditorYear)d(b.firstChild).addClass("rf-cal-edtr-btn-sel"),this.dateEditorYearID=b.firstChild.id;e++}},updateDateEditor:function(){this.dateEditorYear=this.getCurrentYear();this.dateEditorStartYear=
this.getCurrentYear()-4;this.scrollEditorYear(0)},updateTimeEditor:function(){var b=a.getDomElement(this.id+"TimeHours"),c=a.getDomElement(this.id+"TimeSign"),d=a.getDomElement(this.id+"TimeMinutes"),e=this.selectedDate.getHours(),g=this.selectedDate.getMinutes();if(2==this.timeType)c.value=12>e?"AM":"PM",e=0==e?"12":12<e?e-12:e;b.value=2==this.timeHoursDigits&&10>e?"0"+e:e;d.value=10>g?"0"+g:g;if(this.showSeconds)b=a.getDomElement(this.id+"TimeSeconds"),c=this.selectedDate.getSeconds(),b.value=10>
c?"0"+c:c},createEditor:function(){var b=d(a.getDomElement(this.CALENDAR_CONTENT)),c=parseInt(b.css("z-index"),10);b.after('<div id="'+this.EDITOR_SHADOW_ID+'" class="rf-cal-edtr-shdw" style="position:absolute; display:none;z-index:'+c+'"></div><table border="0" cellpadding="0" cellspacing="0" id="'+this.EDITOR_ID+'" style="position:absolute; display:none;z-index:'+(c+1)+'" onclick="RichFaces.$(\''+this.id+'\').skipEventOnCollapse=true;"><tbody><tr><td class="rf-cal-edtr-cntr" align="center"><div style="position:relative; display:inline-block;">'+
('<div id="'+this.EDITOR_LAYOUT_SHADOW_ID+'" class="rf-cal-edtr-layout-shdw"></div>')+"</div></td></tr></tbody></table>");this.isEditorCreated=!0;return a.getDomElement(this.EDITOR_ID)},createTimeEditorLayout:function(b){d(a.getDomElement(this.EDITOR_LAYOUT_SHADOW_ID)).after(this.evaluateMarkup(f.timeEditorLayout,this.calendarContext));var c=a.getDomElement(this.id+"TimeHours"),e=a.getDomElement(this.id+"TimeMinutes");1==this.timeType?sbjQuery(c).SpinButton({digits:this.timeHoursDigits,min:0,max:23}):
(sbjQuery(c).SpinButton({digits:this.timeHoursDigits,min:1,max:12}),c=a.getDomElement(this.id+"TimeSign"),sbjQuery(c).SpinButton({}));sbjQuery(e).SpinButton({digits:2,min:0,max:59});this.showSeconds&&(e=a.getDomElement(this.id+"TimeSeconds"),sbjQuery(e).SpinButton({digits:2,min:0,max:59}));this.correctEditorButtons(b,this.TIME_EDITOR_BUTTON_OK,this.TIME_EDITOR_BUTTON_CANCEL);this.isTimeEditorLayoutCreated=!0},correctEditorButtons:function(b,c,e){c=a.getDomElement(c);e=a.getDomElement(e);b.style.visibility=
"hidden";b.style.display="";var g=d(c.firstChild).width(),f=d(e.firstChild).width();b.style.display="none";b.style.visibility="";if(g!=f)c.style.width=e.style.width=(g>f?g:f)+"px"},createDECell:function(a,b,c,d,e){return 0==c?'<div id="'+a+'" class="rf-cal-edtr-btn'+(e?" "+e:"")+'" onmouseover="this.className=\'rf-cal-edtr-btn rf-cal-edtr-tl-over\';" onmouseout="this.className=\'rf-cal-edtr-btn\';" onmousedown="this.className=\'rf-cal-edtr-btn rf-cal-edtr-tl-press\';" onmouseup="this.className=\'rf-cal-edtr-btn rf-cal-edtr-tl-over\';" onclick="RichFaces.$(\''+
this.id+"').scrollEditorYear("+d+');">'+b+"</div>":'<div id="'+a+'" class="rf-cal-edtr-btn'+(e?" "+e:"")+'" onmouseover="jQuery(this).addClass(\'rf-cal-edtr-btn-over\');" onmouseout="$(this).removeClass(\'rf-cal-edtr-btn-over\');" onclick="'+(1==c?"RichFaces.$('"+this.id+"').dateEditorSelectMonth("+d+");":"RichFaces.$('"+this.id+"').dateEditorSelectYear("+d+");")+'">'+b+"</div>"},createDateEditorLayout:function(b){var c='<table id="'+this.DATE_EDITOR_LAYOUT_ID+'" class="rf-cal-monthpicker-cnt" border="0" cellpadding="0" cellspacing="0"><tbody><tr id="'+
this.DATE_EDITOR_LAYOUT_ID+'TR">',e=0;this.dateEditorYear=this.getCurrentYear();var g=this.dateEditorStartYear=this.dateEditorYear-4,f='<td align="center">'+this.createDECell(this.DATE_EDITOR_LAYOUT_ID+"M"+e,this.options.monthLabelsShort[e],1,e)+'</td><td align="center" class="rf-cal-monthpicker-split">'+this.createDECell(this.DATE_EDITOR_LAYOUT_ID+"M"+(e+6),this.options.monthLabelsShort[e+6],1,e+6)+'</td><td align="center">'+this.createDECell("","&lt;",0,-1)+'</td><td align="center">'+this.createDECell("",
"&gt;",0,1)+"</td>";e++;for(var h=0;5>h;h++)f+='</tr><tr><td align="center">'+this.createDECell(this.DATE_EDITOR_LAYOUT_ID+"M"+e,this.options.monthLabelsShort[e],1,e)+'</td><td align="center" class="rf-cal-monthpicker-split">'+this.createDECell(this.DATE_EDITOR_LAYOUT_ID+"M"+(e+6),this.options.monthLabelsShort[e+6],1,e+6)+'</td><td align="center">'+this.createDECell(this.DATE_EDITOR_LAYOUT_ID+"Y"+h,g,2,h,4==h?"rf-cal-edtr-btn-sel":"")+'</td><td align="center">'+this.createDECell(this.DATE_EDITOR_LAYOUT_ID+
"Y"+(h+5),g+5,2,h+5)+"</td>",e++,g++;this.dateEditorYearID=this.DATE_EDITOR_LAYOUT_ID+"Y4";this.dateEditorMonth=this.getCurrentMonth();this.dateEditorMonthID=this.DATE_EDITOR_LAYOUT_ID+"M"+this.dateEditorMonth;f+='</tr><tr><td colspan="2" class="rf-cal-monthpicker-ok"><div id="'+this.DATE_EDITOR_BUTTON_OK+'" class="rf-cal-time-btn" style="float:right;" onmousedown="jQuery(this).addClass(\'rf-cal-time-btn-press\');" onmouseout="jQuery(this).removeClass(\'rf-cal-time-btn-press\');" onmouseup="jQuery(this).removeClass(\'rf-cal-time-btn-press\');" onclick="RichFaces.$(\''+
this.id+"').hideDateEditor(true);\"><span>"+this.options.labels.ok+'</span></div></td><td colspan="2" class="rf-cal-monthpicker-cancel"><div id="'+this.DATE_EDITOR_BUTTON_CANCEL+'" class="rf-cal-time-btn" style="float:left;" onmousedown="jQuery(this).addClass(\'rf-cal-time-btn-press\');" onmouseout="jQuery(this).removeClass(\'rf-cal-time-btn-press\');" onmouseup="jQuery(this).removeClass(\'rf-cal-time-btn-press\');" onclick="RichFaces.$(\''+this.id+"').hideDateEditor(false);\"><span>"+this.options.labels.cancel+
"</span></div></td>";d(a.getDomElement(this.EDITOR_LAYOUT_SHADOW_ID)).after(c+f+"</tr></tbody></table>");d(a.getDomElement(this.dateEditorMonthID)).addClass("rf-cal-edtr-btn-sel");this.correctEditorButtons(b,this.DATE_EDITOR_BUTTON_OK,this.DATE_EDITOR_BUTTON_CANCEL);this.isDateEditorLayoutCreated=!0},createSpinnerTable:function(a){return'<table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="rf-cal-sp-inp-ctnr"><input id="'+a+'" name="'+a+'" class="rf-cal-sp-inp" type="text" /></td><td class="rf-cal-sp-btn"><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><div id="'+
a+'BtnUp" class="rf-cal-sp-up" onmousedown="this.className=\'rf-cal-sp-up rf-cal-sp-press\'" onmouseup="this.className=\'rf-cal-sp-up\'" onmouseout="this.className=\'rf-cal-sp-up\'"><span></span></div></td></tr><tr><td><div id="'+a+'BtnDown" class="rf-cal-sp-down" onmousedown="this.className=\'rf-cal-sp-down rf-cal-sp-press\'" onmouseup="this.className=\'rf-cal-sp-down\'" onmouseout="this.className=\'rf-cal-sp-down\'"><span></span></div></td></tr></tbody></table></td></tr></tbody></table>'},setTimeProperties:function(){this.timeType=
0;for(var a=this.options.datePattern,b=[],c=/(\\\\|\\[yMdaHhms])|(y+|M+|d+|a|H{1,2}|h{1,2}|m{2}|s{2})/g,d;d=c.exec(a);)d[1]||b.push({str:d[0],marker:d[2],idx:d.index});d=c="";for(var e,g,f,h,i,l=this.id,p=function(c){return 0==c.length?w.marker:a.substring(b[o-1].str.length+b[o-1].idx,w.idx+w.str.length)},o=0;o<b.length;o++){var w=b[o],y=w.marker.charAt(0);if("y"==y||"M"==y||"d"==y)c+=p(c);else if("a"==y)i=!0,d+=p(d);else if("H"==y)g=!0,e=w.marker.length,d+=p(d);else if("h"==y)f=!0,e=w.marker.length,
d+=p(d);else if("m"==y)h=!0,d+=p(d);else if("s"==y)this.showSeconds=!0,d+=p(d)}this.datePattern=c;this.timePattern=d;var F=this;this.timePatternHtml=d.replace(/(\\\\|\\[yMdaHhms])|(H{1,2}|h{1,2}|m{2}|s{2}|a)/g,function(a,b,c){if(b)return b.charAt(1);switch(c){case "a":return"</td><td>"+F.createSpinnerTable(l+"TimeSign")+"</td><td>";case "H":case "HH":case "h":case "hh":return"</td><td>"+F.createSpinnerTable(l+"TimeHours")+"</td><td>";case "mm":return"</td><td>"+F.createSpinnerTable(l+"TimeMinutes")+
"</td><td>";case "ss":return"</td><td>"+F.createSpinnerTable(l+"TimeSeconds")+"</td><td>"}});this.timePatternHtml='<table border="0" cellpadding="0"><tbody><tr><td>'+this.timePatternHtml+"</td></tr></tbody></table>";if(h&&g)this.timeType=1;else if(h&&f&&i)this.timeType=2;this.timeHoursDigits=e},eventOnScroll:function(){this.hidePopup()},hidePopup:function(){if(this.options.popup&&this.isVisible&&this.invokeEvent("hide",a.getDomElement(this.id)))this.isEditorVisible&&this.hideEditor(),this.scrollElements&&
a.Event.unbindScrollEventHandlers(this.scrollElements,this),this.scrollElements=null,a.Event.unbind(window.document,"click"+this.namespace),d(a.getDomElement(this.CALENDAR_CONTENT)).hide(),this.isVisible=!1,this.options.defaultLabel&&!this.isFocused&&g.call(this,this.options.defaultLabel)},showPopup:function(b){if(!this.isRendered)this.isRendered=!0,this.render();this.skipEventOnCollapse=!1;if(b&&"click"==b.type)this.skipEventOnCollapse=!0;if(this.options.popup&&!this.isVisible){var c=a.getDomElement(this.id);
if(this.invokeEvent("show",c,b)){var e=a.getDomElement(this.POPUP_ID),f=e.firstChild,h=f.nextSibling;this.options.defaultLabel&&(this.isFocused||g.call(this,""));f.value&&this.__selectDate(f.value,!1,{event:b,element:c});e=this.options.showInput?e.children:h;d(a.getDomElement(this.CALENDAR_CONTENT)).setPosition(e,{type:"DROPDOWN",from:this.options.jointPoint,to:this.options.direction,offset:this.popupOffset}).show();this.isVisible=!0;a.Event.bind(window.document,"click"+this.namespace,this.eventOnCollapse,
this);this.scrollElements&&a.Event.unbindScrollEventHandlers(this.scrollElements,this);this.scrollElements=null;if(this.options.hidePopupOnScroll)this.scrollElements=a.Event.bindScrollEventHandlers(c,this.eventOnScroll,this)}}},switchPopup:function(a){this.isVisible?this.hidePopup():this.showPopup(a)},eventOnCollapse:function(a){if(this.skipEventOnCollapse)return this.skipEventOnCollapse=!1,!0;if(a.target.id==this.POPUP_BUTTON_ID||!this.options.enableManualInput&&a.target.id==this.INPUT_DATE_ID)return!0;
this.hidePopup();return!0},setInputField:function(b,c){var d=a.getDomElement(this.INPUT_DATE_ID);if(d.value!=b)d.value=b,this.invokeEvent("change",a.getDomElement(this.id),c,this.selectedDate)},getCurrentDate:function(){return this.currentDate},__getSelectedDate:function(){return this.selectedDate?this.selectedDate:null},__getSelectedDateString:function(b){if(!this.selectedDate)return"";if(!b)b=this.options.datePattern;return a.calendarUtils.formatDate(this.selectedDate,b,this.options.monthLabels,
this.options.monthLabelsShort)},getPrevYear:function(){var a=this.currentDate.getFullYear()-1;0>a&&(a=0);return a},getPrevMonth:function(a){var b=this.currentDate.getMonth()-1;0>b&&(b=11);return a?this.options.monthLabels[b]:b},getCurrentYear:function(){return this.currentDate.getFullYear()},getCurrentMonth:function(a){var b=this.currentDate.getMonth();return a?this.options.monthLabels[b]:b},getNextYear:function(){return this.currentDate.getFullYear()+1},getNextMonth:function(a){var b=this.currentDate.getMonth()+
1;11<b&&(b=0);return a?this.options.monthLabels[b]:b},isWeekend:function(a){return a==this.firstWeekendDayNumber||a==this.secondWeekendDayNumber},setupTimeForDate:function(b){var c=new Date(b);return c=this.selectedDate&&(!this.options.resetTimeOnDateSelect||this.selectedDate.getFullYear()==b.getFullYear()&&this.selectedDate.getMonth()==b.getMonth()&&this.selectedDate.getDate()==b.getDate())?a.calendarUtils.createDate(b.getFullYear(),b.getMonth(),b.getDate(),this.selectedDate.getHours(),this.selectedDate.getMinutes(),
this.selectedDate.getSeconds()):a.calendarUtils.createDate(b.getFullYear(),b.getMonth(),b.getDate(),this.options.defaultTime.hours,this.options.defaultTime.minutes,this.options.defaultTime.seconds)},eventCellOnClick:function(b,c){var d=this.days[parseInt(c.id.substr(this.DATE_ELEMENT_ID.length),10)];d.enabled&&0==d._month?(d=a.calendarUtils.createDate(this.currentDate.getFullYear(),this.currentDate.getMonth(),d.day),this.timeType&&(d=this.setupTimeForDate(d)),this.__selectDate(d,!0,{event:b,element:c})&&
!this.options.showApplyButton&&this.hidePopup()):0!=d._month&&("scroll"==this.options.boundaryDatesMode?-1==d._month?this.prevMonth():this.nextMonth():"select"==this.options.boundaryDatesMode&&(d=new Date(d.date),this.timeType&&(d=this.setupTimeForDate(d)),this.__selectDate(d,!1,{event:b,element:c})&&!this.options.showApplyButton&&this.hidePopup()))},eventCellOnMouseOver:function(a,b){var c=this.days[parseInt(b.id.substr(this.DATE_ELEMENT_ID.length),10)];this.invokeEvent("datemouseover",b,a,c.date)&&
c.enabled&&0==c._month&&b.id!=this.selectedDateCellId&&b.id!=this.todayCellId&&d(b).addClass("rf-cal-hov")},eventCellOnMouseOut:function(a,b){var c=this.days[parseInt(b.id.substr(this.DATE_ELEMENT_ID.length),10)];this.invokeEvent("datemouseout",b,a,c.date)&&c.enabled&&0==c._month&&b.id!=this.selectedDateCellId&&b.id!=this.todayCellId&&d(b).removeClass("rf-cal-hov")},load:function(a,b){this.daysData=a?this.indexData(a,b):null;this.isRendered=!1;this.isVisible&&this.render();if("function"==typeof this.afterLoad)this.afterLoad(),
this.afterLoad=null},indexData:function(b,c){var d=b.startDate.year,e=b.startDate.month;b.startDate=new Date(d,e);b.index=[];b.index[d+"-"+e]=0;if(c)return this.currentDate=b.startDate,this.currentDate.setDate(1),b;for(var g=a.calendarUtils.daysInMonthByDate(b.startDate)-b.startDate.getDate()+1;b.days[g];)11==e?(d++,e=0):e++,b.index[d+"-"+e]=g,g+=32-(new Date(d,e,32)).getDate();return b},getCellBackgroundColor:function(a){return d(a).css("background-color")},clearEffect:function(b,c,e){b&&(b=d(a.getDomElement(b)).stop(!0,
!0),c&&b.removeClass(c),e&&b.addClass(e));return null},render:function(){this.isRendered=!0;this.todayDate=new Date;var b=this.getCurrentYear(),c=this.getCurrentMonth(),d=b==this.todayDate.getFullYear()&&c==this.todayDate.getMonth(),e=this.todayDate.getDate(),g=this.selectedDate&&b==this.selectedDate.getFullYear()&&c==this.selectedDate.getMonth(),f=this.selectedDate&&this.selectedDate.getDate(),h=a.calendarUtils.getDay(this.currentDate,this.options.firstWeekDay),i=a.calendarUtils.daysInMonthByDate(this.currentDate),
l=a.calendarUtils.daysInMonth(b,c-1),u=0,p=-1;this.days=[];var o=l-h+1;if(0<h)for(;o<=l;)this.days.push({day:o,isWeekend:this.isWeekend(u),_month:p}),o++,u++;o=1;p=0;this.firstDateIndex=u;if(this.daysData&&void 0!=this.daysData.index[b+"-"+c]){l=this.daysData.index[b+"-"+c];if(this.daysData.startDate.getFullYear()==b&&this.daysData.startDate.getMonth()==c)for(h=h=this.daysData.days[l].day?this.daysData.days[l].day:this.daysData.startDate.getDate();o<h;)this.days.push({day:o,isWeekend:this.isWeekend(u%
7),_month:p}),o++,u++;for(var w=this.daysData.days.length,y;l<w&&o<=i;)y=this.isWeekend(u%7),h=this.daysData.days[l],h.day=o,h.isWeekend=y,h._month=p,this.days.push(h),l++,o++,u++}for(;42>u;)o>i&&(p=o=1),this.days.push({day:o,isWeekend:this.isWeekend(u%7),_month:p}),o++,u++;this.renderHF();var u=0,F;this.options.showWeeksBar&&(F=a.calendarUtils.weekNumber(b,c,this.options.minDaysInFirstWeek,this.options.firstWeekDay));this.selectedDayElement=null;l=!0;w="scroll"==this.options.boundaryDatesMode||"select"==
this.options.boundaryDatesMode;this.todayCellId=this.clearEffect(this.todayCellId);this.selectedDateCellId=this.clearEffect(this.selectedDateCellId);h=a.getDomElement(this.WEEKNUMBER_BAR_ID+"1");for(y=1;7>y;y++){var o=this.days[u],p=h.firstChild,v;if(this.options.showWeeksBar){if(l&&11==c&&(5==y||6==y)&&(1==o._month||7-(i-o.day+1)>=this.options.minDaysInFirstWeek))F=1,l=!1;v=F;p.innerHTML=this.evaluateMarkup(this.options.weekNumberMarkup,{weekNumber:F++,elementId:p.id,component:this});1==y&&52<F&&
(F=1);p=p.nextSibling}for(var B=this.options.firstWeekDay,x=null;p;){o.elementId=p.id;o.date=new Date(b,c+o._month,o.day);o.weekNumber=v;o.component=this;o.isCurrentMonth=0==o._month;o.weekDayNumber=B;if(!1!=o.enabled)o.enabled=this.options.isDayEnabled(o);o.styleClass?(x=this.options.dayStyleClass(o),o.customStyleClass=o.styleClass,x&&(o.customStyleClass+=" "+x)):o.customStyleClass=this.options.dayStyleClass(o);x=this.customDayListMarkup?p.firstChild:p;x.innerHTML=this.hideBoundaryDatesContent&&
0!=o._month?"":this.evaluateMarkup(this.options.dayListMarkup,o);6==B?B=0:B++;x=this.dayCellClassName[u];if(0!=o._month)x+=" rf-cal-boundary-day",!this.options.disabled&&!this.options.readonly&&w&&(x+=" rf-cal-btn");else{if(d&&o.day==e)this.todayCellId=p.id,this.todayCellColor=this.getCellBackgroundColor(p),x+=" rf-cal-today";g&&o.day==f?(this.selectedDateCellId=p.id,this.selectedDateCellColor=this.getCellBackgroundColor(p),x+=" rf-cal-sel"):!this.options.disabled&&!this.options.readonly&&o.enabled&&
(x+=" rf-cal-btn");o.customStyleClass&&(x+=" "+o.customStyleClass)}p.className=x;u++;o=this.days[u];p=p.nextSibling}h=h.nextSibling}},renderHF:function(){this.options.showHeader&&this.renderMarkup(this.options.headerMarkup,this.id+"Header",this.calendarContext);this.options.showFooter&&this.renderMarkup(this.options.footerMarkup,this.id+"Footer",this.calendarContext);this.renderHeaderOptional();this.renderFooterOptional()},renderHeaderOptional:function(){this.renderMarkup(this.options.optionalHeaderMarkup,
this.id+"HeaderOptional",this.calendarContext)},renderFooterOptional:function(){this.renderMarkup(this.options.optionalFooterMarkup,this.id+"FooterOptional",this.calendarContext)},renderMarkup:function(b,c,d){if(b&&(c=a.getDomElement(c)))c.innerHTML=this.evaluateMarkup(b,d)},evaluateMarkup:function(a,b){if(!a)return"";for(var c=[],d,e=0;e<a.length;e++)d=a[e],d.getContent&&c.push(d.getContent(b));return c.join("")},onUpdate:function(){var b=a.calendarUtils.formatDate(this.getCurrentDate(),"MM/yyyy");
a.getDomElement(this.id+"InputCurrentDate").value=b;this.isAjaxMode&&this.callAjax?this.callAjax.call(this,b):this.render()},callAjax:function(){var b=this,c={};c[this.id+".ajax"]="1";a.ajax(this.id,null,{parameters:c,error:function(){},complete:function(a){b.load(a&&a.componentData&&a.componentData[b.id],!0)}})},nextMonth:function(){this.changeCurrentDateOffset(0,1)},prevMonth:function(){this.changeCurrentDateOffset(0,-1)},nextYear:function(){this.changeCurrentDateOffset(1,0)},prevYear:function(){this.changeCurrentDateOffset(-1,
0)},changeCurrentDate:function(b,c,d){if(this.getCurrentMonth()!=c||this.getCurrentYear()!=b)if(b=new Date(b,c,1),this.invokeEvent("currentdateselect",a.getDomElement(this.id),null,b)){this.currentDate=b;if(d)this.render();else this.onUpdate();this.invokeEvent("currentdateselect",a.getDomElement(this.id),null,b);return!0}return!1},changeCurrentDateOffset:function(b,c){var d=new Date(this.currentDate.getFullYear()+b,this.currentDate.getMonth()+c,1);if(this.invokeEvent("beforecurrentdateselect",a.getDomElement(this.id),
null,d))this.currentDate=d,this.onUpdate(),this.invokeEvent("currentdateselect",a.getDomElement(this.id),null,d)},today:function(b,c){var e=new Date,g=e.getFullYear(),f=e.getMonth(),h=!1;if(e.getDate()!=this.todayDate.getDate())h=!0,this.todayDate=e;if(g!=this.currentDate.getFullYear()||f!=this.currentDate.getMonth())h=!0,this.currentDate=new Date(g,f,1);"select"==this.options.todayControlMode&&(c=!0);if(h)if(b)this.render();else this.onUpdate();else this.isVisible&&this.todayCellId&&!c&&(this.clearEffect(this.todayCellId),
"transparent"!=this.todayCellColor&&d(a.getDomElement(this.todayCellId)).effect("highlight",{easing:"easeInOutSine",color:this.todayCellColor},300));if("select"==this.options.todayControlMode&&!this.options.disabled&&!this.options.readonly)h&&!b&&this.submitFunction?this.afterLoad=this.selectToday:this.selectToday()},selectToday:function(){if(this.todayCellId){var a=this.days[parseInt(this.todayCellId.substr(this.DATE_ELEMENT_ID.length),10)],b=new Date(new Date);this.timeType&&(b=this.setupTimeForDate(b));
a.enabled&&this.__selectDate(b,!0)&&!this.options.showApplyButton&&this.hidePopup()}},__selectDate:function(b,c,e){e||(e={event:null,element:null});var g=this.selectedDate,f;b?("string"==typeof b&&(b=a.calendarUtils.parseDate(b,this.options.datePattern,this.options.monthLabels,this.options.monthLabelsShort)),f=b):f=null;var h=!0,i=!1;if(g-f&&(null!=g||null!=f))i=!0,h=this.invokeEvent("beforedateselect",e.element,e.event,b);if(h){if(null!=f)if(f.getMonth()==this.currentDate.getMonth()&&f.getFullYear()==
this.currentDate.getFullYear())this.selectedDate=f,!g||g-this.selectedDate?(c=d(a.getDomElement(this.DATE_ELEMENT_ID+(this.firstDateIndex+this.selectedDate.getDate()-1))),this.clearEffect(this.selectedDateCellId,"rf-cal-sel",this.options.disabled||this.options.readonly?null:"rf-cal-btn"),this.selectedDateCellId=c.attr("id"),this.selectedDateCellColor=this.getCellBackgroundColor(c),c.removeClass("rf-cal-btn"),c.removeClass("rf-cal-hov"),c.addClass("rf-cal-sel"),this.renderHF()):0!=this.timeType&&this.renderHF();
else{if(this.selectedDate=f,!this.changeCurrentDate(f.getFullYear(),f.getMonth(),c))this.selectedDate=g,i=!1}else{this.selectedDate=null;this.clearEffect(this.selectedDateCellId,"rf-cal-sel",this.options.disabled||this.options.readonly?null:"rf-cal-btn");if(this.selectedDateCellId)this.selectedDateCellId=null,this.renderHF();b=new Date;this.currentDate.getMonth()==b.getMonth()&&this.currentDate.getFullYear()==b.getFullYear()&&this.renderHF();b=this.options.todayControlMode;this.options.todayControlMode=
"";this.today(c,!0);this.options.todayControlMode=b}i&&(this.invokeEvent("dateselect",e.element,e.event,this.selectedDate),this.options.showApplyButton||this.setInputField(null!=this.selectedDate?this.__getSelectedDateString(this.options.datePattern):"",e.event))}return i},__resetSelectedDate:function(){if(this.selectedDate&&this.invokeEvent("beforedateselect",null,null,null))this.selectedDate=null,this.invokeEvent("dateselect",null,null,null),this.selectedDateCellId=this.clearEffect(this.selectedDateCellId,
"rf-cal-sel",this.options.disabled||this.options.readonly?null:"rf-cal-btn"),this.invokeEvent("clean",null,null,null),this.renderHF(),this.options.showApplyButton||(this.setInputField("",null),this.hidePopup())},showSelectedDate:function(){if(this.selectedDate)this.currentDate.getMonth()!=this.selectedDate.getMonth()||this.currentDate.getFullYear()!=this.selectedDate.getFullYear()?(this.currentDate=new Date(this.selectedDate),this.currentDate.setDate(1),this.onUpdate()):this.isVisible&&this.selectedDateCellId&&
(this.clearEffect(this.selectedDateCellId),"transparent"!=this.selectedDateCellColor&&d(a.getDomElement(this.selectedDateCellId)).effect("highlight",{easing:"easeInOutSine",color:this.selectedDateCellColor},300))},close:function(a){a&&this.setInputField(this.__getSelectedDateString(this.options.datePattern),null);this.hidePopup()},clonePosition:function(a,b,c){var e=d(a);b.length||(b=[b]);for(var c=c||{left:0,top:0},a=e.outerWidth()+"px",g=e.outerHeight()+"px",f=e.position(),e=Math.floor(f.left)+
c.left+"px",c=Math.floor(f.top)+c.top+"px",h=0;h<b.length;h++)f=b[h],f.style.width=a,f.style.height=g,f.style.left=e,f.style.top=c},showTimeEditor:function(){var b;if(0!=this.timeType){b=this.isEditorCreated?a.getDomElement(this.EDITOR_ID):this.createEditor();this.isTimeEditorLayoutCreated||this.createTimeEditorLayout(b);d(a.getDomElement(this.TIME_EDITOR_LAYOUT_ID)).show();var c=a.getDomElement(this.EDITOR_SHADOW_ID);this.clonePosition(a.getDomElement(this.CALENDAR_CONTENT),[b,c]);this.updateTimeEditor();
d(c).show();d(b).show();this.clonePosition(a.getDomElement(this.TIME_EDITOR_LAYOUT_ID),a.getDomElement(this.EDITOR_LAYOUT_SHADOW_ID),{left:3,top:3});this.isEditorVisible=!0}},hideEditor:function(){this.isTimeEditorLayoutCreated&&d(a.getDomElement(this.TIME_EDITOR_LAYOUT_ID)).hide();this.isDateEditorLayoutCreated&&d(a.getDomElement(this.DATE_EDITOR_LAYOUT_ID)).hide();d(a.getDomElement(this.EDITOR_ID)).hide();d(a.getDomElement(this.EDITOR_SHADOW_ID)).hide();this.isEditorVisible=!1},hideTimeEditor:function(b){this.hideEditor();
if(b&&this.selectedDate){var b=this.showSeconds?parseInt(a.getDomElement(this.id+"TimeSeconds").value,10):this.options.defaultTime.seconds,c=parseInt(a.getDomElement(this.id+"TimeMinutes").value,10),d=parseInt(a.getDomElement(this.id+"TimeHours").value,10);2==this.timeType&&("am"==a.getDomElement(this.id+"TimeSign").value.toLowerCase()?12==d&&(d=0):12!=d&&(d+=12));b=a.calendarUtils.createDate(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),this.selectedDate.getDate(),d,c,b);if(b-this.selectedDate&&
this.invokeEvent("beforetimeselect",null,null,b))this.selectedDate=b,this.renderHF(),(!this.options.popup||!this.options.showApplyButton)&&this.setInputField(this.__getSelectedDateString(this.options.datePattern),null),this.invokeEvent("timeselect",null,null,this.selectedDate)}this.options.popup&&!this.options.showApplyButton&&this.close(!1)},showDateEditor:function(){var b;b=this.isEditorCreated?a.getDomElement(this.EDITOR_ID):this.createEditor();this.isDateEditorLayoutCreated?this.updateDateEditor():
this.createDateEditorLayout(b);d(a.getDomElement(this.DATE_EDITOR_LAYOUT_ID)).show();var c=a.getDomElement(this.EDITOR_SHADOW_ID);this.clonePosition(a.getDomElement(this.CALENDAR_CONTENT),[b,c]);d(c).show();d(b).show();this.clonePosition(a.getDomElement(this.DATE_EDITOR_LAYOUT_ID),a.getDomElement(this.EDITOR_LAYOUT_SHADOW_ID),{left:3,top:3});this.isEditorVisible=!0},hideDateEditor:function(a){this.hideEditor();a&&this.changeCurrentDate(this.dateEditorYear,this.dateEditorMonth)},getValue:function(){return this.__getSelectedDate()},
getValueAsString:function(a){return this.__getSelectedDateString(a)},setValue:function(a){this.__selectDate(a)},resetValue:function(){this.__resetSelectedDate();this.options.defaultLabel&&!this.isFocused&&g.call(this,this.options.defaultLabel)},getNamespace:function(){return this.namespace}})})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.List=function(g,h){f.constructor.call(this,g);this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);this.attachToDom();var i=d.extend({},c,h);this.list=d(document.getElementById(g));this.selectListener=i.selectListener;this.selectItemCss=i.selectItemCss;this.selectItemCssMarker=i.selectItemCss.split(" ",1)[0];this.scrollContainer=d(i.scrollContainer);this.itemCss=i.itemCss.split(" ",1)[0];this.listCss=i.listCss;this.clickRequiredToSelect=i.clickRequiredToSelect;
this.index=-1;this.disabled=i.disabled;this.focusKeeper=d(document.getElementById(g+"FocusKeeper"));this.focusKeeper.focused=!1;this.lastMouseY=this.lastMouseX=null;this.isMouseDown=!1;this.list.bind("mousedown",d.proxy(this.__onMouseDown,this)).bind("mouseup",d.proxy(this.__onMouseUp,this));b.call(this);i.focusKeeperEnabled&&e.call(this);this.__updateItemsList();if(null!==i.clientSelectItems){var l=[];d.each(i.clientSelectItems,function(){l[this.id]=this});this.__storeClientSelectItems(this.items,
l)}};a.BaseComponent.extend(a.ui.List);var f=a.ui.List.$super,c={clickRequiredToSelect:!1,disabled:!1,selectListener:!1,clientSelectItems:null,focusKeeperEnabled:!0},b=function(){var b={};b["click"+this.namespace]=d.proxy(this.onClick,this);b["dblclick"+this.namespace]=d.proxy(this.onDblclick,this);b["mouseover"+this.namespace]=l;!d.browser.msie&&!d.browser.opera&&(b["mouseenter"+this.namespace]=h,b["mouseleave"+this.namespace]=g);a.Event.bind(this.list,b,this)},e=function(){var b={};b[(d.browser.opera||
d.browser.mozilla?"keypress":"keydown")+this.namespace]=d.proxy(this.__keydownHandler,this);b["blur"+this.namespace]=d.proxy(this.__blurHandler,this);b["focus"+this.namespace]=d.proxy(this.__focusHandler,this);a.Event.bind(this.focusKeeper,b,this)},g=function(){a.Event.unbind(this.list,"mousemove"+this.namespace);this.lastMouseY=this.lastMouseX=null},i=function(a){this.lastMouseX=a.pageX;this.lastMouseY=a.pageY},h=function(b){this.lastMouseX=b.pageX;this.lastMouseY=b.pageY;a.Event.bind(this.list,
"mousemove"+this.namespace,i,this)},l=function(a){if(null==this.lastMouseX||this.lastMouseX!=a.pageX||this.lastMouseY!=a.pageY)(a=this.__getItem(a))&&!this.clickRequiredToSelect&&!this.disabled&&this.__select(a)};d.extend(a.ui.List.prototype,function(){return{name:"list",processItem:function(a){this.selectListener.processItem&&"function"==typeof this.selectListener.processItem&&this.selectListener.processItem(a)},isSelected:function(a){return a.hasClass(this.selectItemCssMarker)},selectItem:function(b){this.selectListener.selectItem&&
"function"==typeof this.selectListener.selectItem?this.selectListener.selectItem(b):(b.addClass(this.selectItemCss),a.Event.fire(this,"selectItem",b));this.__scrollToSelectedItem(this)},unselectItem:function(b){this.selectListener.unselectItem&&"function"==typeof this.selectListener.unselectItem?this.selectListener.unselectItem(b):(b.removeClass(this.selectItemCss),a.Event.fire(this,"unselectItem",b))},__focusHandler:function(b){if(!this.focusKeeper.focused)this.focusKeeper.focused=!0,a.Event.fire(this,
"listfocus"+this.namespace,b)},__blurHandler:function(b){if(this.isMouseDown)this.isMouseDown=!1;else{var c=this;this.timeoutId=window.setTimeout(function(){c.focusKeeper.focused=!1;c.invokeEvent.call(c,"blur",document.getElementById(c.id),b);a.Event.fire(c,"listblur"+c.namespace,b)},200)}},__onMouseDown:function(){this.isMouseDown=!0},__onMouseUp:function(){this.isMouseDown=!1},__keydownHandler:function(b){if(!b.isDefaultPrevented()&&!b.metaKey&&!b.ctrlKey){var c;if(b.keyCode)c=b.keyCode;else if(b.which)c=
b.which;switch(c){case a.KEYS.DOWN:b.preventDefault();this.__selectNext();break;case a.KEYS.UP:b.preventDefault();this.__selectPrev();break;case a.KEYS.HOME:b.preventDefault();this.__selectByIndex(0);break;case a.KEYS.END:b.preventDefault(),this.__selectByIndex(this.items.length-1)}}},onClick:function(a){this.setFocus();var b=this.__getItem(a);this.processItem(b);a=a.metaKey||a.ctrlKey;this.disabled||this.__select(b,a&&this.clickRequiredToSelect)},onDblclick:function(a){this.setFocus();a=this.__getItem(a);
this.processItem(a);this.disabled||this.__select(a,!1)},currentSelectItem:function(){if(this.items&&-1!=this.index)return d(this.items[this.index])},getSelectedItemIndex:function(){return this.index},removeItems:function(b){d(b).detach();this.__updateItemsList();a.Event.fire(this,"removeitems",b)},removeAllItems:function(){var a=this.__getItems();this.removeItems(a);return a},addItems:function(b){this.scrollContainer.append(b);this.__updateItemsList();a.Event.fire(this,"additems",b)},move:function(b,
c){if(0!==c){var e=this;0<c&&(b=d(b.get().reverse()));b.each(function(){var a=e.items.index(this)+c,a=e.items[a];0>c?d(this).insertBefore(a):d(this).insertAfter(a);e.index+=c;e.__updateItemsList()});a.Event.fire(this,"moveitems",b)}},getItemByIndex:function(a){if(0<=a&&a<this.items.length)return this.items[a]},getClientSelectItemByIndex:function(a){if(0<=a&&a<this.items.length)return d(this.items[a]).data("clientSelectItem")},resetSelection:function(){var a=this.currentSelectItem();a&&this.unselectItem(d(a));
this.index=-1},isList:function(a){return(a=a.parents("."+this.listCss).attr("id"))&&a==this.getId()},length:function(){return this.items.length},__updateIndex:function(a){null===a?this.index=-1:(a=this.items.index(a),0>a?a=0:a>=this.items.length&&(a=this.items.length-1),this.index=a)},__updateItemsList:function(){return this.items=this.list.find("."+this.itemCss)},__storeClientSelectItems:function(a,b){a.each(function(){var a=d(this),c=a.attr("id");a.data("clientSelectItem",b[c])})},__select:function(a,
b){this.__selectByIndex(this.items.index(a),b)},__selectByIndex:function(a){if(this.__isSelectByIndexValid(a)&&(this.clickRequiredToSelect||this.index!=a)){var b=this.__unselectPrevious();if(!(this.clickRequiredToSelect&&b==a))this.index=this.__sanitizeSelectedIndex(a),a=this.items.eq(this.index),this.isSelected(a)?this.unselectItem(a):this.selectItem(a)}},__isSelectByIndexValid:function(a){if(0==this.items.length)return!1;return void 0==a?(this.index=-1,!1):!0},__sanitizeSelectedIndex:function(a){return 0>
a?0:a>=this.items.length?this.items.length-1:a},__unselectPrevious:function(){var a=this.index;if(-1!=a)this.unselectItem(this.items.eq(a)),this.index=-1;return a},__selectItemByValue:function(a){var b=null;this.resetSelection();var c=this;this.__getItems().each(function(e){if(d(this).data("clientSelectItem").value==a)return c.__selectByIndex(e),b=d(this),!1});return b},csvEncodeValues:function(){var a=[];this.__getItems().each(function(){a.push(d(this).data("clientSelectItem").value)});return a.join(",")},
__selectCurrent:function(){var a;this.items&&0<=this.index&&(a=this.items.eq(this.index),this.processItem(a))},__getAdjacentIndex:function(a){a=this.index+a;0>a?a=this.items.length-1:a>=this.items.length&&(a=0);return a},__selectPrev:function(){this.__selectByIndex(this.__getAdjacentIndex(-1))},__selectNext:function(){this.__selectByIndex(this.__getAdjacentIndex(1))},__getItem:function(a){return d(a.target).closest("."+this.itemCss,a.currentTarget).get(0)},__getItems:function(){return this.items},
__setItems:function(a){this.items=a},__scrollToSelectedItem:function(){if(this.scrollContainer){var a=0;this.items.slice(0,this.index).each(function(){a+=this.offsetHeight});var b=this.scrollContainer;a<b.scrollTop()?b.scrollTop(a):(a+=this.items.get(this.index).offsetHeight,a-b.scrollTop()>b.get(0).clientHeight&&b.scrollTop(a-b.innerHeight()))}},setFocus:function(){this.focusKeeper.focus()}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.TooltipMode={client:"client",ajax:"ajax",DEFAULT:"client"};var f=a.ui.TooltipMode,c={jointPoint:"AA",direction:"AA",offset:[10,10],attached:!0,mode:f.DEFAULT,hideDelay:0,hideEvent:"mouseleave",showDelay:0,showEvent:"mouseenter",followMouse:!0},b={exec:function(b,c){var d=b.mode;if(d==f.ajax)return this.execAjax(b,c);if(d==f.client)return this.execClient(b,c);a.log.error("SHOW_ACTION.exec : unknown mode ("+d+")")},execAjax:function(b,c){b.__loading().show();b.__content().hide();
b.__show(c);a.ajax(b.id,null,d.extend({},b.options.ajax,{}));return!0},execClient:function(a,b){a.__show(b);return a.__fireShow()}};a.ui.Tooltip=a.BaseComponent.extendClass({name:"Tooltip",init:function(b,f){e.constructor.call(this,b);this.namespace="."+a.Event.createNamespace(this.name,this.id);this.options=d.extend(this.options,c,f||{});this.attachToDom();this.mode=this.options.mode;this.target=this.options.target;this.shown=!1;this.__addUserEventHandler("hide");this.__addUserEventHandler("show");
this.__addUserEventHandler("beforehide");this.__addUserEventHandler("beforeshow");this.popupId=this.id+":wrp";this.popup=new a.ui.Popup(this.popupId,{attachTo:this.target,attachToBody:!0,positionType:"TOOLTIP",positionOffset:this.options.offset,jointPoint:this.options.jointPoint,direction:this.options.direction});var h={};h[this.options.showEvent+this.namespace]=this.__showHandler;h[this.options.hideEvent+this.namespace]=this.__hideHandler;a.Event.bindById(this.target,h,this);"mouseleave"==this.options.hideEvent&&
a.Event.bindById(this.popupId,this.options.hideEvent+this.namespace,this.__hideHandler,this)},hide:function(){if(this.hidingTimerHandle)window.clearTimeout(this.hidingTimerHandle),this.hidingTimerHandle=void 0;this.shown&&this.__hide()},__hideHandler:function(b){"mouseleave"==b.type&&this.__isInside(b.relatedTarget)||(this.hide(),this.options.followMouse&&a.Event.unbindById(this.target,"mousemove"+this.namespace))},__hide:function(){var a=this;this.__delay(this.options.hideDelay,function(){a.__fireBeforeHide();
a.popup.hide();a.shown=!1;a.__fireHide()})},__mouseMoveHandler:function(a){this.saveShowEvent=a;this.shown&&this.popup.show(this.saveShowEvent)},__showHandler:function(b){this.show(b);this.options.followMouse&&a.Event.bindById(this.target,"mousemove"+this.namespace,this.__mouseMoveHandler,this)},show:function(a){if(this.hidingTimerHandle)window.clearTimeout(this.hidingTimerHandle),this.hidingTimerHandle=void 0;this.shown||b.exec(this,a)},onCompleteHandler:function(){this.__content().show();this.__loading().hide();
return this.__fireShow()},__show:function(a){var b=this;this.__delay(this.options.showDelay,function(){if(!b.options.followMouse)b.saveShowEvent=a;b.shown||(b.__fireBeforeShow(),b.popup.show(b.saveShowEvent));b.shown=!0})},__delay:function(a,b){var c=this;0<a?c.hidingTimerHandle=window.setTimeout(function(){b();if(c.hidingTimerHandle)window.clearTimeout(c.hidingTimerHandle),c.hidingTimerHandle=void 0},a):b()},__detectAncestorNode:function(a,b){for(var c=a;null!=c&&c!=b;)c=c.parentNode;return null!=
c},__loading:function(){return d(document.getElementById(this.id+":loading"))},__content:function(){return d(document.getElementById(this.id+":content"))},__fireHide:function(){return a.Event.fireById(this.id,"hide",{id:this.id})},__fireShow:function(){return a.Event.fireById(this.id,"show",{id:this.id})},__fireBeforeHide:function(){return a.Event.fireById(this.id,"beforehide",{id:this.id})},__fireBeforeShow:function(){return a.Event.fireById(this.id,"beforeshow",{id:this.id})},__addUserEventHandler:function(b){var c=
this.options["on"+b];c&&a.Event.bindById(this.id,b+this.namespace,c)},__contains:function(a,b){for(;b;){if(a==b.id)return!0;b=b.parentNode}return!1},__isInside:function(a){return this.__contains(this.target,a)||this.__contains(this.popupId,a)},destroy:function(){a.Event.unbindById(this.popupId,this.namespace);a.Event.unbindById(this.target,this.namespace);this.popup.destroy();this.popup=null;e.destroy.call(this)}});var e=a.ui.Tooltip.$super})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.MenuKeyNavigation={__updateItemsList:function(){return this.items=d("."+this.options.cssClasses.listContainerCss+":first",this.popup.popup).find(">."+this.options.cssClasses.itemCss).not("."+this.options.cssClasses.disabledItemCss)},__selectPrev:function(){-1==this.currentSelectedItemIndex?this.currentSelectedItemIndex=this.items.length-1:this.__deselectCurrentItem();0<this.currentSelectedItemIndex?this.currentSelectedItemIndex--:this.currentSelectedItemIndex=this.items.length-
1;this.__selectCurrentItem()},__selectNext:function(){-1!=this.currentSelectedItemIndex&&this.__deselectCurrentItem();this.currentSelectedItemIndex<this.items.length-1?this.currentSelectedItemIndex++:this.currentSelectedItemIndex=0;this.__selectCurrentItem()},__deselectCurrentItem:function(){this.__deselectByIndex(this.currentSelectedItemIndex)},__selectCurrentItem:function(){this.__selectByIndex(this.currentSelectedItemIndex)},__selectFirstItem:function(){this.currentSelectedItemIndex=0;this.__selectCurrentItem()},
__selectByIndex:function(d){-1!=d&&a.$(this.items.eq(d)).select()},__deselectByIndex:function(d){-1<d&&a.$(this.items.eq(d)).unselect()},__openGroup:function(){var d=this.__getItemByIndex(this.currentSelectedItemIndex);if(this.__isGroup(d))a.$(d).show(),a.$(d).__selectFirstItem(),this.active=!1},__closeGroup:function(){var d=this.__getItemByIndex(this.currentSelectedItemIndex);if(this.__isGroup(d))a.$(d).__deselectCurrentItem(),a.$(d).hide(),this.active=!0},__returnToParentMenu:function(){var d=this.__getItemByIndex(this.currentSelectedItemIndex),
d=this.__getParentMenu()||this.__getParentMenuFromItem(d);null!=d&&this.id!=a.$(d).id?(this.hide(),a.$(d).popupElement.focus()):this.hide()},__activateMenuItem:function(){var a=this.__getCurrentItem();a&&(menuItemId=a.attr("id"),this.activateItem(menuItemId))},__getItemByIndex:function(a){return-1<a?this.items.eq(a):null},__getCurrentItem:function(){return this.__getItemByIndex(this.currentSelectedItemIndex)},__keydownHandler:function(d){var c;if(d.keyCode)c=d.keyCode;else if(d.which)c=d.which;activeMenu=
a.ui.MenuManager.getActiveSubMenu();if(this.popup.isVisible()){switch(c){case a.KEYS.DOWN:d.preventDefault();activeMenu.__selectNext();break;case a.KEYS.UP:d.preventDefault();activeMenu.__selectPrev();break;case a.KEYS.LEFT:d.preventDefault();activeMenu.__returnToParentMenu();break;case a.KEYS.RIGHT:d.preventDefault();activeMenu.__openGroup();break;case a.KEYS.ESC:d.preventDefault();activeMenu.__returnToParentMenu();break;case a.KEYS.RETURN:d.preventDefault(),activeMenu.__activateMenuItem()}d.stopPropagation()}}}})(jQuery,
RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.ListMulti=function(b,e){this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,b);var g=d.extend({},c,e);f.constructor.call(this,b,g);this.disabled=g.disabled};a.ui.List.extend(a.ui.ListMulti);var f=a.ui.ListMulti.$super,c={clickRequiredToSelect:!0};d.extend(a.ui.ListMulti.prototype,function(){return{name:"listMulti",getSelectedItems:function(){return this.list.find("."+this.selectItemCssMarker)},removeSelectedItems:function(){var a=this.getSelectedItems();this.removeItems(a);
return a},__selectByIndex:function(a,c){if(this.__isSelectByIndexValid(a)){this.index=this.__sanitizeSelectedIndex(a);var g=this.items.eq(this.index);if(c)this.isSelected(g)?this.unselectItem(g):this.selectItem(g);else{var f=this;this.getSelectedItems().each(function(){f.unselectItem(d(this))});this.selectItem(g)}}}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};var f={mode:"server",attachToBody:!1,showDelay:50,hideDelay:300,verticalOffset:0,horizontalOffset:0,showEvent:"mouseover",positionOffset:[0,0],cssRoot:"ddm",cssClasses:{}};a.ui.MenuBase=function(b,e){c.constructor.call(this,b,e);this.id=b;this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);this.options={};d.extend(this.options,f,e||{});d.extend(this.options.cssClasses,{itemCss:"rf-"+this.options.cssRoot+"-itm",selectItemCss:"rf-"+this.options.cssRoot+
"-itm-sel",unselectItemCss:"rf-"+this.options.cssRoot+"-itm-unsel",disabledItemCss:"rf-"+this.options.cssRoot+"-itm-dis",labelCss:"rf-"+this.options.cssRoot+"-lbl",listCss:"rf-"+this.options.cssRoot+"-lst",listContainerCss:"rf-"+this.options.cssRoot+"-lst-bg"});this.attachToDom(b);this.element=a.getDomElement(this.id);this.displayed=!1;this.options.positionOffset=[this.options.horizontalOffset,this.options.verticalOffset];this.popup=new RichFaces.ui.Popup(this.id+"_list",{attachTo:this.id,direction:this.options.direction,
jointPoint:this.options.jointPoint,positionType:this.options.positionType,positionOffset:this.options.positionOffset,attachToBody:this.options.attachToBody});this.selectedGroup=null;a.Event.bindById(this.id,"mouseenter",d.proxy(this.__overHandler,this),this);a.Event.bindById(this.id,"mouseleave",d.proxy(this.__leaveHandler,this),this);this.popupElement=a.getDomElement(this.popup.id);this.popupElement.tabIndex=-1;this.__updateItemsList();a.Event.bind(this.items,"mouseenter",d.proxy(this.__itemMouseEnterHandler,
this),this);this.currentSelectedItemIndex=-1;var g;g={};g["keydown"+this.namespace]=this.__keydownHandler;a.Event.bind(this.popupElement,g,this)};a.BaseComponent.extend(a.ui.MenuBase);var c=a.ui.MenuBase.$super;d.extend(a.ui.MenuBase.prototype,function(){return{name:"MenuBase",show:function(){this.__showPopup()},hide:function(){this.__hidePopup()},processItem:function(b){b&&b.attr("id")&&!this.__isDisabled(b)&&!this.__isGroup(b)&&(this.invokeEvent("itemclick",a.getDomElement(this.id),null),this.hide())},
activateItem:function(b){b=d(RichFaces.getDomElement(b));a.Event.fireById(b.attr("id"),"click")},__showPopup:function(b){if(!this.__isShown())this.invokeEvent("show",a.getDomElement(this.id),null),this.popup.show(b),this.displayed=!0,a.ui.MenuManager.setActiveSubMenu(a.$(this.element));this.popupElement.focus()},__hidePopup:function(){window.clearTimeout(this.showTimeoutId);this.showTimeoutId=null;if(this.__isShown()){this.invokeEvent("hide",a.getDomElement(this.id),null);this.__closeChildGroups();
this.popup.hide();this.displayed=!1;this.__deselectCurrentItem();this.currentSelectedItemIndex=-1;var b=a.$(this.__getParentMenu());this.id!=b.id&&(b.popupElement.focus(),a.ui.MenuManager.setActiveSubMenu(b))}},__closeChildGroups:function(){var b=0,c;for(b in this.items)c=this.items.eq(b),this.__isGroup(c)&&a.$(c).hide()},__getParentMenuFromItem:function(a){var c;a&&(c=a.parents("div."+this.options.cssClasses.itemCss).has("div."+this.options.cssClasses.listContainerCss).eq(1));return c&&0<c.length?
c:(c=a.parents("div."+this.options.cssClasses.labelCss))&&0<c.length?c:null},__getParentMenu:function(){var a=d(this.element).parents("div."+this.options.cssClasses.itemCss).has("div."+this.options.cssClasses.listContainerCss).eq(0);return a&&0<a.length?a:this.__getParentMenuFromItem(this.items.eq(0))},__isGroup:function(a){return 0<a.find("div."+this.options.cssClasses.listCss).length},__isDisabled:function(a){return a.hasClass(this.options.cssClasses.disabledItemCss)},__isShown:function(){return this.displayed},
__itemMouseEnterHandler:function(a){if((a=this.__getItemFromEvent(a))&&this.currentSelectedItemIndex!=this.items.index(a))this.__deselectCurrentItem(),this.currentSelectedItemIndex=this.items.index(a)},__selectItem:function(b){a.$(b).isSelected||a.$(b).select()},__getItemFromEvent:function(a){return d(a.target).closest("."+this.options.cssClasses.itemCss,a.currentTarget).eq(0)},__showHandler:function(a){if(!this.__isShown())return this.showTimeoutId=window.setTimeout(d.proxy(function(){this.show(a)},
this),this.options.showDelay),!1},__leaveHandler:function(){this.hideTimeoutId=window.setTimeout(d.proxy(function(){this.hide()},this),this.options.hideDelay)},__overHandler:function(){window.clearTimeout(this.hideTimeoutId);this.hideTimeoutId=null},destroy:function(){this.detach(this.id);a.Event.unbind(this.popupElement,"keydown"+this.namespace);this.popup.destroy();this.popup=null;c.destroy.call(this)}}}())})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};var f={showEvent:"mouseenter",direction:"AA",jointPoint:"AA",positionType:"DDMENUGROUP",showDelay:300};a.ui.MenuGroup=function(b,e){this.id=b;this.options={};d.extend(this.options,f,e||{});c.constructor.call(this,b,this.options);this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);this.attachToDom(b);a.Event.bindById(this.id,this.options.showEvent,d.proxy(this.__showHandler,this),this);this.rootMenu=a.$(this.options.rootMenuId);this.shown=!1;this.jqueryElement=
d(this.element)};a.ui.MenuBase.extend(a.ui.MenuGroup);var c=a.ui.MenuGroup.$super;d.extend(a.ui.MenuGroup.prototype,a.ui.MenuKeyNavigation);d.extend(a.ui.MenuGroup.prototype,function(){return{name:"MenuGroup",show:function(){if(this.rootMenu.groupList[this.id]&&!this.shown)this.rootMenu.invokeEvent("groupshow",a.getDomElement(this.rootMenu.id),null),this.__showPopup(),this.shown=!0},hide:function(){var b=this.rootMenu;if(b.groupList[this.id]&&this.shown)b.invokeEvent("grouphide",a.getDomElement(b.id),
null),this.__hidePopup(),this.shown=!1},select:function(){this.jqueryElement.removeClass(this.options.cssClasses.unselectItemCss);this.jqueryElement.addClass(this.options.cssClasses.selectItemCss)},unselect:function(){this.jqueryElement.removeClass(this.options.cssClasses.selectItemCss);this.jqueryElement.addClass(this.options.cssClasses.unselectItemCss)},__showHandler:function(){this.select();c.__showHandler.call(this)},__leaveHandler:function(){window.clearTimeout(this.showTimeoutId);this.showTimeoutId=
null;this.hideTimeoutId=window.setTimeout(d.proxy(function(){this.hide()},this),this.options.hideDelay);this.unselect()},destroy:function(){this.detach(this.id);c.destroy.call(this)}}}())})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};var f={positionType:"DROPDOWN",direction:"AA",jointPoint:"AA",cssRoot:"ddm",cssClasses:{}};a.ui.Menu=function(b,e){this.options={};d.extend(this.options,f,e||{});d.extend(this.options.cssClasses,{selectMenuCss:"rf-"+this.options.cssRoot+"-sel",unselectMenuCss:"rf-"+this.options.cssRoot+"-unsel"});c.constructor.call(this,b,this.options);this.id=b;this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);this.groupList=[];if(this.target=this.getTarget()){var g=
this;d(document).ready(function(){var b=RichFaces.$(g.target);b&&b.contextMenuAttach?b.contextMenuAttach(g):a.Event.bindById(g.target,g.options.showEvent,d.proxy(g.__showHandler,g),g)})}this.element=d(a.getDomElement(this.id));if(!a.ui.MenuManager)a.ui.MenuManager={};this.menuManager=a.ui.MenuManager};a.ui.MenuBase.extend(a.ui.Menu);var c=a.ui.Menu.$super;d.extend(a.ui.Menu.prototype,a.ui.MenuKeyNavigation);d.extend(a.ui.Menu.prototype,function(){return{name:"Menu",initiateGroups:function(a){for(var c in a){var d=
a[c].id;null!=d&&(this.groupList[d]=new RichFaces.ui.MenuGroup(d,{rootMenuId:this.id,onshow:a[c].onshow,onhide:a[c].onhide,horizontalOffset:a[c].horizontalOffset,verticalOffset:a[c].verticalOffset,jointPoint:a[c].jointPoint,direction:a[c].direction,cssRoot:a[c].cssRoot}))}},getTarget:function(){return this.id+"_label"},show:function(){this.menuManager.openedMenu!=this.id&&(this.menuManager.shutdownMenu(),this.menuManager.addMenuId(this.id),this.__showPopup())},hide:function(){this.__hidePopup();this.menuManager.deletedMenuId()},
select:function(){this.element.removeClass(this.options.cssClasses.unselectMenuCss);this.element.addClass(this.options.cssClasses.selectMenuCss)},unselect:function(){this.element.removeClass(this.options.cssClasses.selectMenuCss);this.element.addClass(this.options.cssClasses.unselectMenuCss)},__overHandler:function(){c.__overHandler.call(this);this.select()},__leaveHandler:function(){c.__leaveHandler.call(this);this.unselect()},destroy:function(){this.detach(this.id);this.target&&a.Event.unbindById(this.target,
this.options.showEvent);c.destroy.call(this)}}}());a.ui.MenuManager={openedMenu:null,activeSubMenu:null,addMenuId:function(a){this.openedMenu=a},deletedMenuId:function(){this.openedMenu=null},shutdownMenu:function(){null!=this.openedMenu&&a.$(a.getDomElement(this.openedMenu)).hide();this.deletedMenuId()},setActiveSubMenu:function(a){this.activeSubMenu=a},getActiveSubMenu:function(){return this.activeSubMenu}}})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.PopupList=function(b,e,g){this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,b);g=d.extend({},c,g);f.constructor.call(this,b,g);g.selectListener=e;this.list=new a.ui.List(b,g)};a.ui.Popup.extend(a.ui.PopupList);var f=a.ui.PopupList.$super,c={attachToBody:!0,positionType:"DROPDOWN",positionOffset:[0,0]};d.extend(a.ui.PopupList.prototype,function(){return{name:"popupList",__getList:function(){return this.list},destroy:function(){this.list.destroy();
this.list=null;f.destroy.call(this)}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.InplaceInput=function(a,e){var g=d.extend({},c,e);f.constructor.call(this,a,g);this.label=d(document.getElementById(a+"Label"));var i=this.label.text(),h=this.__getValue();this.initialLabel=i==h?i:"";this.useDefaultLabel=i!=h;this.saveOnBlur=g.saveOnBlur;this.showControls=g.showControls;this.getInput().bind("focus",d.proxy(this.__editHandler,this));if(this.showControls){if(g=document.getElementById(a+"Btn"))g.tabIndex=-1;this.okbtn=d(document.getElementById(a+"Okbtn"));
this.cancelbtn=d(document.getElementById(a+"Cancelbtn"));this.okbtn.bind("mousedown",d.proxy(this.__saveBtnHandler,this));this.cancelbtn.bind("mousedown",d.proxy(this.__cancelBtnHandler,this))}};a.ui.InplaceBase.extend(a.ui.InplaceInput);var f=a.ui.InplaceInput.$super,c={defaultLabel:"",saveOnBlur:!0,showControl:!0,noneCss:"rf-ii-none",readyCss:"rf-ii",editCss:"rf-ii-act",changedCss:"rf-ii-chng"};d.extend(a.ui.InplaceInput.prototype,function(){return{name:"inplaceInput",defaultLabelClass:"rf-ii-dflt-lbl",
getName:function(){return this.name},getNamespace:function(){return this.namespace},__keydownHandler:function(b){this.tabBlur=!1;switch(b.keyCode||b.which){case a.KEYS.ESC:b.preventDefault();this.cancel();this.onblur(b);break;case a.KEYS.RETURN:b.preventDefault();this.save();this.onblur(b);break;case a.KEYS.TAB:this.tabBlur=!0}},__blurHandler:function(a){this.onblur(a)},__isSaveOnBlur:function(){return this.saveOnBlur},__setInputFocus:function(){this.getInput().unbind("focus",this.__editHandler);
this.getInput().focus()},__saveBtnHandler:function(a){this.cancelButton=!1;this.save();this.onblur(a)},__cancelBtnHandler:function(a){this.cancelButton=!0;this.cancel();this.onblur(a)},__editHandler:function(a){f.__editHandler.call(this,a);this.onfocus(a)},getLabel:function(){return this.label.text()},setLabel:function(a){this.label.text(a);a==this.defaultLabel?this.label.addClass(this.defaultLabelClass):this.label.removeClass(this.defaultLabelClass)},isValueChanged:function(){return this.__getValue()!=
this.initialLabel},onshow:function(){this.__setInputFocus()},onhide:function(){this.tabBlur?this.tabBlur=!1:this.getInput().focus()},onfocus:function(a){if(!this.__isFocused())this.__setFocused(!0),this.focusValue=this.__getValue(),this.invokeEvent.call(this,"focus",document.getElementById(this.id),a)},onblur:function(a){if(this.__isFocused()){this.__setFocused(!1);this.invokeEvent.call(this,"blur",document.getElementById(this.id),a);this.isValueSaved()||this.__isSaveOnBlur()?this.save():this.cancel();
this.__hide();this.cancelButton||this.__isValueChanged()&&this.invokeEvent.call(this,"change",document.getElementById(this.id),a);var c=this;window.setTimeout(function(){c.getInput().bind("focus",d.proxy(c.__editHandler,c))},1)}},__isValueChanged:function(){return this.focusValue!=this.__getValue()},__setFocused:function(a){this.focused=a},__isFocused:function(){return this.focused},setValue:function(a){this.__setValue(a);this.save()}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.PickList=function(b,e){var g=d.extend({},c,e);f.constructor.call(this,b,g);this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);this.attachToDom();g.scrollContainer=d(document.getElementById(b+"SourceItems"));this.sourceList=new a.ui.ListMulti(b+"SourceList",g);g.scrollContainer=d(document.getElementById(b+"TargetItems"));this.selectItemCss=g.selectItemCss;var i=b+"SelValue";this.hiddenValues=d(document.getElementById(i));g.hiddenId=i;(this.orderable=
g.orderable)?(this.orderingList=new a.ui.OrderingList(b+"Target",g),this.targetList=this.orderingList.list):this.targetList=new a.ui.ListMulti(b+"TargetList",g);this.pickList=d(document.getElementById(b));this.addButton=d(".rf-pick-add",this.pickList);this.addButton.bind("click",d.proxy(this.add,this));this.addAllButton=d(".rf-pick-add-all",this.pickList);this.addAllButton.bind("click",d.proxy(this.addAll,this));this.removeButton=d(".rf-pick-rem",this.pickList);this.removeButton.bind("click",d.proxy(this.remove,
this));this.removeAllButton=d(".rf-pick-rem-all",this.pickList);this.removeAllButton.bind("click",d.proxy(this.removeAll,this));this.disabled=g.disabled;g.onadditems&&"function"==typeof g.onadditems&&a.Event.bind(this.targetList,"additems",g.onadditems);a.Event.bind(this.targetList,"additems",d.proxy(this.toggleButtons,this));this.keepingFocus=this.focused=!1;g.onsourcefocus&&"function"==typeof g.onsourcefocus&&a.Event.bind(this.sourceList,"listfocus"+this.sourceList.namespace,g.onsourcefocus);g.onsourceblur&&
"function"==typeof g.onsourceblur&&a.Event.bind(this.sourceList,"listblur"+this.sourceList.namespace,g.onsourceblur);g.ontargetfocus&&"function"==typeof g.ontargetfocus&&a.Event.bind(this.targetList,"listfocus"+this.targetList.namespace,g.ontargetfocus);g.ontargetblur&&"function"==typeof g.ontargetblur&&a.Event.bind(this.targetList,"listblur"+this.targetList.namespace,g.ontargetblur);g.onfocus&&"function"==typeof g.onfocus&&a.Event.bind(this,"listfocus"+this.namespace,g.onfocus);g.onblur&&"function"==
typeof g.onblur&&a.Event.bind(this,"listblur"+this.namespace,g.onblur);this.pickList.focusin(d.proxy(this.__focusHandler,this));this.pickList.focusout(d.proxy(this.__blurHandler,this));g.onremoveitems&&"function"==typeof g.onremoveitems&&a.Event.bind(this.sourceList,"additems",g.onremoveitems);a.Event.bind(this.sourceList,"additems",d.proxy(this.toggleButtons,this));a.Event.bind(this.sourceList,"selectItem",d.proxy(this.toggleButtons,this));a.Event.bind(this.sourceList,"unselectItem",d.proxy(this.toggleButtons,
this));a.Event.bind(this.targetList,"selectItem",d.proxy(this.toggleButtons,this));a.Event.bind(this.targetList,"unselectItem",d.proxy(this.toggleButtons,this));g.switchByClick&&(a.Event.bind(this.sourceList,"click",d.proxy(this.add,this)),a.Event.bind(this.targetList,"click",d.proxy(this.remove,this)));g.switchByDblClick&&(a.Event.bind(this.sourceList,"dblclick",d.proxy(this.add,this)),a.Event.bind(this.targetList,"dblclick",d.proxy(this.remove,this)));e.onchange&&"function"==typeof e.onchange&&
a.Event.bind(this,"change"+this.namespace,e.onchange);d(document).ready(d.proxy(this.toggleButtons,this))};a.BaseComponent.extend(a.ui.PickList);var f=a.ui.PickList.$super,c={defaultLabel:"",itemCss:"rf-pick-opt",selectItemCss:"rf-pick-sel",listCss:"rf-pick-lst-cord",clickRequiredToSelect:!0,switchByClick:!1,switchByDblClick:!0,disabled:!1};d.extend(a.ui.PickList.prototype,function(){return{name:"pickList",defaultLabelClass:"rf-pick-dflt-lbl",getName:function(){return this.name},getNamespace:function(){return this.namespace},
__focusHandler:function(b){if(!this.focused)this.focused=!0,a.Event.fire(this,"listfocus"+this.namespace,b),this.originalValue=this.targetList.csvEncodeValues()},__blurHandler:function(b){if(this.focused)this.focused=!1,a.Event.fire(this,"listblur"+this.namespace,b),this.targetList.csvEncodeValues()!=this.originalValue&&a.Event.fire(this,"change"+this.namespace,b)},getSourceList:function(){return this.sourceList},getTargetList:function(){return this.targetList},add:function(){this.targetList.setFocus();
this.targetList.addItems(this.sourceList.removeSelectedItems());this.encodeHiddenValues()},remove:function(){this.sourceList.setFocus();this.sourceList.addItems(this.targetList.removeSelectedItems());this.encodeHiddenValues()},addAll:function(){this.targetList.setFocus();this.targetList.addItems(this.sourceList.removeAllItems());this.encodeHiddenValues()},removeAll:function(){this.sourceList.setFocus();this.sourceList.addItems(this.targetList.removeAllItems());this.encodeHiddenValues()},encodeHiddenValues:function(){this.hiddenValues.val(this.targetList.csvEncodeValues())},
toggleButtons:function(){this.__toggleButton(this.addButton,0<this.sourceList.__getItems().filter("."+this.selectItemCss).length);this.__toggleButton(this.removeButton,0<this.targetList.__getItems().filter("."+this.selectItemCss).length);this.__toggleButton(this.addAllButton,0<this.sourceList.__getItems().length);this.__toggleButton(this.removeAllButton,0<this.targetList.__getItems().length);this.orderable&&this.orderingList.toggleButtons()},__toggleButton:function(a,c){this.disabled||!c?(a.hasClass("rf-pick-btn-dis")||
a.addClass("rf-pick-btn-dis"),a.attr("disabled")||a.attr("disabled",!0)):(a.hasClass("rf-pick-btn-dis")&&a.removeClass("rf-pick-btn-dis"),a.attr("disabled")&&a.attr("disabled",!1))}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};var f={showEvent:"contextmenu",cssRoot:"ctx",cssClasses:{},attached:!0};a.ui.ContextMenu=function(b,e){this.options={};d.extend(this.options,f,e||{});c.constructor.call(this,b,this.options);this.id=b;this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);a.Event.bind("body","click"+this.namespace,d.proxy(this.__leaveHandler,this));a.Event.bindById(this.id,"click"+this.namespace,d.proxy(this.__clilckHandler,this))};a.ui.Menu.extend(a.ui.ContextMenu);
var c=a.ui.ContextMenu.$super;d.extend(a.ui.ContextMenu.prototype,function(){return{name:"ContextMenu",getTarget:function(){return!this.options.attached?null:"undefined"===typeof this.options.target?this.element.parentNode.id:this.options.target},__showHandler:function(a){this.__isShown()&&this.hide();return c.__showHandler.call(this,a)},show:function(b){if(this.menuManager.openedMenu!=this.id){this.menuManager.shutdownMenu();this.menuManager.addMenuId(this.id);this.__showPopup(b);var c=a.$(this.target);
c&&c.contextMenuShow&&c.contextMenuShow(this,b)}},__clilckHandler:function(a){a.preventDefault();a.stopPropagation()},destroy:function(){a.Event.unbind("body","click"+this.namespace);a.Event.unbindById(this.id,"click"+this.namespace);c.destroy.call(this)}}}())})(jQuery,RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.Select=function(b,i){this.id=b;var h=d.extend({},c,i);h.attachTo=b;h.scrollContainer=d(document.getElementById(b+"Items")).parent()[0];h.focusKeeperEnabled=!1;f.constructor.call(this,b,h);this.options=h;this.defaultLabel=h.defaultLabel;var l=this.__getValue();this.initialValue=l!=this.defaultLabel?l:"";this.selValueInput=d(document.getElementById(b+"selValue"));this.container=this.selValueInput.parent();this.clientSelectItems=h.clientSelectItems;this.filterFunction=
h.filterFunction;h.showControl&&!h.disabled&&this.container.bind("mousedown",d.proxy(this.__onBtnMouseDown,this)).bind("mouseup",d.proxy(this.__onMouseUp,this));this.selectFirst=h.selectFirst;this.popupList=new a.ui.PopupList(b+"List",this,h);this.list=this.popupList.__getList();this.listElem=d(document.getElementById(b+"List"));this.listElem.bind("mousedown",d.proxy(this.__onListMouseDown,this));this.listElem.bind("mouseup",d.proxy(this.__onMouseUp,this));l={};l["listshow"+this.namespace]=d.proxy(this.__listshowHandler,
this);l["listhide"+this.namespace]=d.proxy(this.__listhideHandler,this);a.Event.bind(this.input,l,this);this.originalItems=this.list.__getItems();this.enableManualInput=h.enableManualInput;if(0<this.originalItems.length&&this.enableManualInput)this.cache=new a.utils.Cache("",this.originalItems,e,!0);this.changeDelay=h.changeDelay};a.ui.InputBase.extend(a.ui.Select);var f=a.ui.Select.$super,c={defaultLabel:"",selectFirst:!0,showControl:!0,enableManualInput:!1,itemCss:"rf-sel-opt",selectItemCss:"rf-sel-sel",
listCss:"rf-sel-lst-cord",changeDelay:8,disabled:!1,filterFunction:void 0},b=/^[\n\s]*(.*)[\n\s]*$/,e=function(a){var c=[];a.each(function(){c.push(d(this).text().replace(b,"$1"))});return c};d.extend(a.ui.Select.prototype,function(){return{name:"select",defaultLabelClass:"rf-sel-dflt-lbl",__listshowHandler:function(){},__listhideHandler:function(){},__onBtnMouseDown:function(){this.popupList.isVisible()?this.__hidePopup():(this.__updateItems(),this.__showPopup());this.isMouseDown=!0},__focusHandler:function(a){if(!this.focused)this.__getValue()==
this.defaultLabel&&this.__setValue(""),this.focusValue=this.selValueInput.val(),this.focused=!0,this.invokeEvent.call(this,"focus",document.getElementById(this.id),a)},__keydownHandler:function(b){var c;if(b.keyCode)c=b.keyCode;else if(b.which)c=b.which;var d=this.popupList.isVisible();switch(c){case a.KEYS.DOWN:b.preventDefault();d?this.list.__selectNext():(this.__updateItems(),this.__showPopup());break;case a.KEYS.UP:b.preventDefault();d&&this.list.__selectPrev();break;case a.KEYS.RETURN:return b.preventDefault(),
d&&this.list.__selectCurrent(),!1;case a.KEYS.TAB:break;case a.KEYS.ESC:b.preventDefault();d&&this.__hidePopup();break;default:var e=this;window.clearTimeout(this.changeTimerId);this.changeTimerId=window.setTimeout(function(){e.__onChangeValue(b)},this.changeDelay)}},__onChangeValue:function(){this.list.__selectByIndex();var a=this.__getValue();this.cache&&this.cache.isCached(a)&&(this.__updateItems(),0!=this.list.__getItems().length?this.container.removeClass("rf-sel-fld-err"):this.container.addClass("rf-sel-fld-err"),
this.popupList.isVisible()||this.__showPopup())},__blurHandler:function(a){if(this.isMouseDown)this.__setInputFocus(),this.isMouseDown=!1;else{var b=this;this.timeoutId=window.setTimeout(function(){if(null!==b.input)b.onblur(a)},200)}},__onListMouseDown:function(){this.isMouseDown=!0},__onMouseUp:function(){this.isMouseDown=!1;this.__setInputFocus()},__updateItems:function(){var a=this.__getValue(),a=a!=this.defaultLabel?a:"";this.__updateItemsFromCache(a);this.selectFirst&&this.list.__selectByIndex(0)},
__updateItemsFromCache:function(a){0<this.originalItems.length&&this.enableManualInput&&(a=this.cache.getItems(a,this.filterFunction),a=d(a),this.list.__setItems(a),d(document.getElementById(this.id+"Items")).empty().append(a))},__getClientItemFromCache:function(a){var b,c;if(this.enableManualInput)if((a=this.cache.getItems(a,this.filterFunction))&&0<a.length){var e=d(a[0]);d.each(this.clientSelectItems,function(){if(this.id==e.attr("id"))return c=this.label,b=this.value,!1})}else{this.container.removeClass("rf-sel-fld-err");
var f=this.selValueInput.val();f&&""!=f&&d.each(this.clientSelectItems,function(){if(this.value==f)return c=this.label,b=this.value,!1})}if(c&&b)return{label:c,value:b}},__getClientItem:function(a){var b;d.each(this.clientSelectItems,function(){if(a==this.label)b=this.value});if(a&&b)return{label:a,value:b}},__showPopup:function(){this.popupList.show();this.invokeEvent.call(this,"listshow",document.getElementById(this.id))},__hidePopup:function(){this.popupList.hide();this.invokeEvent.call(this,"listhide",
document.getElementById(this.id))},showPopup:function(){this.popupList.isVisible()||(this.__updateItems(),this.__showPopup());this.__setInputFocus();if(!this.focused)this.__getValue()==this.defaultLabel&&this.__setValue(""),this.focusValue=this.selValueInput.val(),this.focused=!0,this.invokeEvent.call(this,"focus",document.getElementById(this.id))},hidePopup:function(){if(this.popupList.isVisible()){this.__hidePopup();var a=this.__getValue();if(!a||""==a)this.__setValue(this.defaultLabel),this.selValueInput.val("");
this.focused=!1;this.invokeEvent.call(this,"blur",document.getElementById(this.id));this.focusValue!=this.selValueInput.val()&&this.invokeEvent.call(this,"change",document.getElementById(this.id))}},processItem:function(a){var b=d(a).attr("id"),c;d.each(this.clientSelectItems,function(){if(this.id==b)return c=this.label,!1});this.__setValue(c);this.__hidePopup();this.__setInputFocus();this.__save();this.invokeEvent.call(this,"selectitem",document.getElementById(this.id))},__save:function(){var a=
"",b="",c=this.__getValue();if(c&&""!=c&&(c=this.enableManualInput?this.__getClientItemFromCache(c):this.__getClientItem(c)))b=c.label,a=c.value;this.__setValue(b);this.selValueInput.val(a)},onblur:function(a){this.__hidePopup();var b=this.__getValue();if(!b||""==b)this.__setValue(this.defaultLabel),this.selValueInput.val("");this.focused=!1;this.invokeEvent.call(this,"blur",document.getElementById(this.id),a);this.focusValue!=this.selValueInput.val()&&this.invokeEvent.call(this,"change",document.getElementById(this.id),
a)},getValue:function(){return this.selValueInput.val()},setValue:function(a){if(null==a||""==a)this.__setValue(""),this.__save(),this.__updateItems();else for(var b,c=0;c<this.clientSelectItems.length;c++)if(b=this.clientSelectItems[c],b.value==a){this.__setValue(b.label);this.__save();this.list.__selectByIndex(c);break}},getLabel:function(){return this.__getValue()},destroy:function(){this.popupList.destroy();this.popupList=null;f.destroy.call(this)}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.OrderingList=function(b,e){var g=d.extend({},c,e);f.constructor.call(this,b,g);this.namespace=this.namespace||"."+a.Event.createNamespace(this.name,this.id);this.attachToDom();g.scrollContainer=d(document.getElementById(b+"Items"));this.orderingList=d(document.getElementById(b));this.list=new a.ui.ListMulti(b+"List",g);this.hiddenValues=d(document.getElementById(null===g.hiddenId?b+"SelValue":g.hiddenId));this.selectItemCss=g.selectItemCss;this.disabled=g.disabled;
this.upButton=d(".rf-ord-up",this.orderingList);this.upButton.bind("click",d.proxy(this.up,this));this.upTopButton=d(".rf-ord-up-tp",this.orderingList);this.upTopButton.bind("click",d.proxy(this.upTop,this));this.downButton=d(".rf-ord-dn",this.orderingList);this.downButton.bind("click",d.proxy(this.down,this));this.downBottomButton=d(".rf-ord-dn-bt",this.orderingList);this.downBottomButton.bind("click",d.proxy(this.downBottom,this));this.keepingFocus=this.focused=!1;g.onfocus&&"function"==typeof g.onfocus&&
a.Event.bind(this,"listfocus"+this.namespace,g.onfocus);g.onblur&&"function"==typeof g.onblur&&a.Event.bind(this,"listblur"+this.namespace,g.onblur);var i={};i["listfocus"+this.list.namespace]=d.proxy(this.__focusHandler,this);i["listblur"+this.list.namespace]=d.proxy(this.__blurHandler,this);a.Event.bind(this.list,i,this);i={};i["focus"+this.namespace]=d.proxy(this.__focusHandler,this);i["blur"+this.namespace]=d.proxy(this.__blurHandler,this);a.Event.bind(this.upButton,i,this);a.Event.bind(this.upTopButton,
i,this);a.Event.bind(this.downButton,i,this);a.Event.bind(this.downBottomButton,i,this);g.onmoveitems&&"function"==typeof g.onmoveitems&&a.Event.bind(this.list,"moveitems",g.onmoveitems);a.Event.bind(this.list,"moveitems",d.proxy(this.toggleButtons,this));a.Event.bind(this.list,"selectItem",d.proxy(this.toggleButtons,this));a.Event.bind(this.list,"unselectItem",d.proxy(this.toggleButtons,this));a.Event.bind(this.list,"keydown"+this.list.namespace,d.proxy(this.__keydownHandler,this));e.onchange&&"function"==
typeof e.onchange&&a.Event.bind(this,"change"+this.namespace,e.onchange);d(document).ready(d.proxy(this.toggleButtons,this))};a.BaseComponent.extend(a.ui.OrderingList);var f=a.ui.OrderingList.$super,c={defaultLabel:"",itemCss:"rf-ord-opt",selectItemCss:"rf-ord-sel",listCss:"rf-ord-lst-cord",clickRequiredToSelect:!0,disabled:!1,hiddenId:null};d.extend(a.ui.OrderingList.prototype,function(){return{name:"ordList",defaultLabelClass:"rf-ord-dflt-lbl",getName:function(){return this.name},getNamespace:function(){return this.namespace},
__focusHandler:function(b){this.keepingFocus=this.focused;if(!this.focused)this.focused=!0,a.Event.fire(this,"listfocus"+this.namespace,b),this.originalValue=this.list.csvEncodeValues()},__blurHandler:function(b){var c=this;this.timeoutId=window.setTimeout(function(){if(!c.keepingFocus)c.focused=!1,a.Event.fire(c,"listblur"+c.namespace,b),c.list.csvEncodeValues()!=c.originalValue&&a.Event.fire(c,"change"+c.namespace,b);c.keepingFocus=!1},200)},__keydownHandler:function(b){if(!b.isDefaultPrevented()&&
b.metaKey){var c;if(b.keyCode)c=b.keyCode;else if(b.which)c=b.which;switch(c){case a.KEYS.DOWN:b.preventDefault();this.down();break;case a.KEYS.UP:b.preventDefault();this.up();break;case a.KEYS.HOME:b.preventDefault();this.upTop();break;case a.KEYS.END:b.preventDefault(),this.downBottom()}}},getList:function(){return this.list},up:function(){this.keepingFocus=!0;this.list.setFocus();this.list.move(this.list.getSelectedItems(),-1);this.encodeHiddenValues()},down:function(){this.keepingFocus=!0;this.list.setFocus();
this.list.move(this.list.getSelectedItems(),1);this.encodeHiddenValues()},upTop:function(){this.keepingFocus=!0;this.list.setFocus();var a=this.list.getSelectedItems(),c=this.list.items.index(a.first());this.list.move(a,-c);this.encodeHiddenValues()},downBottom:function(){this.keepingFocus=!0;this.list.setFocus();var a=this.list.getSelectedItems(),c=this.list.items.index(a.last());this.list.move(a,this.list.items.length-1-c);this.encodeHiddenValues()},encodeHiddenValues:function(){this.hiddenValues.val(this.list.csvEncodeValues())},
toggleButtons:function(){this.list.__getItems();this.disabled||0===this.list.getSelectedItems().length?(this.__disableButton(this.upButton),this.__disableButton(this.upTopButton),this.__disableButton(this.downButton),this.__disableButton(this.downBottomButton)):(0===this.list.items.index(this.list.getSelectedItems().first())?(this.__disableButton(this.upButton),this.__disableButton(this.upTopButton)):(this.__enableButton(this.upButton),this.__enableButton(this.upTopButton)),this.list.items.index(this.list.getSelectedItems().last())===
this.list.items.length-1?(this.__disableButton(this.downButton),this.__disableButton(this.downBottomButton)):(this.__enableButton(this.downButton),this.__enableButton(this.downBottomButton)))},__disableButton:function(a){a.hasClass("rf-ord-btn-dis")||a.addClass("rf-ord-btn-dis");a.attr("disabled")||a.attr("disabled",!0)},__enableButton:function(a){a.hasClass("rf-ord-btn-dis")&&a.removeClass("rf-ord-btn-dis");a.attr("disabled")&&a.attr("disabled",!1)}}}())})(jQuery,window.RichFaces);
(function(d,a){a.ui=a.ui||{};a.ui.InplaceSelect=function(b,e){var g=d.extend({},c,e);f.constructor.call(this,b,g);this.getInput().bind("click",d.proxy(this.__clickHandler,this));g.attachTo=b;g.scrollContainer=d(document.getElementById(b+"Items")).parent()[0];g.focusKeeperEnabled=!1;this.popupList=new a.ui.PopupList(b+"List",this,g);this.list=this.popupList.__getList();this.clientSelectItems=g.clientSelectItems;this.selValueInput=d(document.getElementById(b+"selValue"));this.initialValue=this.selValueInput.val();
this.listHandler=d(document.getElementById(b+"List"));this.listHandler.bind("mousedown",d.proxy(this.__onListMouseDown,this));this.listHandler.bind("mouseup",d.proxy(this.__onListMouseUp,this));this.openOnEdit=g.openOnEdit;this.saveOnSelect=g.saveOnSelect;this.savedIndex=-1;this.inputItem=d(document.getElementById(b+"Input"));this.inputItemWidth=this.inputItem.width();this.inputWidthDefined=void 0!==e.inputWidth};a.ui.InplaceInput.extend(a.ui.InplaceSelect);var f=a.ui.InplaceSelect.$super,c={defaultLabel:"",
saveOnSelect:!0,openOnEdit:!0,showControl:!1,itemCss:"rf-is-opt",selectItemCss:"rf-is-sel",listCss:"rf-is-lst-cord",noneCss:"rf-is-none",editCss:"rf-is-fld-cntr",changedCss:"rf-is-chng"};d.extend(a.ui.InplaceSelect.prototype,function(){return{name:"inplaceSelect",defaultLabelClass:"rf-is-dflt-lbl",getName:function(){return this.name},getNamespace:function(){return this.namespace},onshow:function(){f.onshow.call(this);this.openOnEdit&&this.__showPopup()},onhide:function(){this.__hidePopup()},showPopup:function(){this.isSaved=
!1;this.element.addClass(this.editCss);this.editContainer.removeClass(this.noneCss);this.editState=!0;this.scrollElements=a.Event.bindScrollEventHandlers(this.id,this.__scrollHandler,this);this.__setInputFocus();this.onfocus();this.__showPopup()},__showPopup:function(){this.popupList.show();this.__hideLabel()},__hidePopup:function(){this.popupList.hide();this.__showLabel()},onsave:function(){if(this.list.currentSelectItem()){var a=this.list.getSelectedItemIndex(),c=this.list.getClientSelectItemByIndex(a);
c.label==this.__getValue()?(this.savedIndex=a,this.saveItemValue(c.value),this.list.__selectByIndex(this.savedIndex)):this.list.__selectItemByValue(this.getValue())}},oncancel:function(){var a=this.list.getClientSelectItemByIndex(this.savedIndex).value;a?(this.saveItemValue(a),this.list.__selectByIndex(this.savedIndex)):(this.saveItemValue(this.initialValue),this.list.__selectItemByValue(this.initialValue))},onblur:function(){this.__hidePopup();f.onblur.call(this)},onfocus:function(a){if(!this.__isFocused())this.__setFocused(!0),
this.focusValue=this.selValueInput.val(),this.invokeEvent.call(this,"focus",document.getElementById(this.id),a)},processItem:function(a){this.__setValue(d(a).data("clientSelectItem").label);this.__setInputFocus();this.__hidePopup();this.saveOnSelect&&this.save();this.invokeEvent.call(this,"selectitem",document.getElementById(this.id))},saveItemValue:function(a){this.selValueInput.val(a)},__isValueChanged:function(){return this.focusValue!=this.selValueInput.val()},__keydownHandler:function(b){var c;
if(b.keyCode)c=b.keyCode;else if(b.which)c=b.which;if(this.popupList.isVisible())switch(c){case a.KEYS.DOWN:b.preventDefault();this.list.__selectNext();this.__setInputFocus();break;case a.KEYS.UP:b.preventDefault();this.list.__selectPrev();this.__setInputFocus();break;case a.KEYS.RETURN:return b.preventDefault(),this.list.__selectCurrent(),this.__setInputFocus(),!1}f.__keydownHandler.call(this,b)},__blurHandler:function(a){if(this.saveOnSelect||!this.isMouseDown){if(this.isEditState())this.timeoutId=
window.setTimeout(d.proxy(function(){this.onblur(a)},this),200)}else this.__setInputFocus(),this.isMouseDown=!1},__clickHandler:function(){this.__showPopup()},__onListMouseDown:function(){this.isMouseDown=!0},__onListMouseUp:function(){this.isMouseDown=!1;this.__setInputFocus()},__showLabel:function(){this.label.show();this.editContainer.css("position","absolute");this.inputItem.width(this.inputItemWidth)},__hideLabel:function(){this.label.hide();this.editContainer.css("position","static");this.inputWidthDefined||
this.inputItem.width(this.label.width())},getValue:function(){return this.selValueInput.val()},setValue:function(){this.__setValue(this.list.__selectItemByValue().data("clientSelectItem").label);this.save()},destroy:function(){this.popupList.destroy();this.popupList=null;f.destroy.call(this)}}}())})(jQuery,window.RichFaces);