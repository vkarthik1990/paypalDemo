var toDay=null,curDt=null,yesterDay=null,arpDate=null,st=null;function dayDisablementFunction(a){return yesterDay<a.date&&a.date<=arpDate?!0:!1}function disabledClassesProv(a){if(!dayDisablementFunction(a))return"rf-cal-boundary-day"}function checkUId(a){if(window.name.split(":")[0]!=a)window.location.href="logout"}function setRId(a){var b=window.name.split(":");if(2==b.length&&b[1]>=a)window.location.href="logout";window.name=b[0]+":"+a}
function setUId(a){var b=window.name.split(":");window.name=2==b.length?a+":"+b[1]:a}function clickEventIE(){if(document.all)return!1}function clickEventNonIE(a){if(document.layers||document.getElementById&&!document.all)if(2==a.which||3==a.which)return!1}document.layers?(document.captureEvents(Event.MOUSEDOWN),document.onmousedown=clickEventNonIE):(document.onmouseup=clickEventNonIE,document.oncontextmenu=clickEventIE);document.oncontextmenu=new Function("return false");
jQuery.fn.preventDoubleSubmission=function(){$(this).on("submit",function(a){var b=$(this);!0===b.data("submitted")?a.preventDefault():b.data("submitted",!0)});return this};
$(document).ready(function(){$("#cancelListForm\\:cancelbuttonid").dblclick(function(){$("#cancelListForm\\:cancelbuttonid").click();$("#cancelListForm\\:cancelbuttonid").attr("disabled","disabled")});$("#cancelListForm\\:tdrbuttonid").dblclick(function(){$("#cancelListForm\\:tdrbuttonid").click();$("#cancelListForm\\:tdrbuttonid").attr("disabled","disabled")})});var count,cancelpsgn,countForTrainCancel,countForSelectPsgn,eftflagval=2,curDt=new Date("#{cacheWrapper.currentDateForJs}"),yesterDay=new Date("#{cacheWrapper.currentDateForJs}");
yesterDay.setDate(yesterDay.getDate()-120);arpDate=new Date("#{cacheWrapper.currentDateForJs}");arpDate.setDate(arpDate.getDate());function dayDisablementFunction(a){return yesterDay<a.date&&a.date<=arpDate?!0:!1}function disabledClassesProv(a){if(!dayDisablementFunction(a))return"rf-cal-boundary-day"}
function getPnrEnquiryforCancellation(a){var b=$("input:radio:checked").parents("tr:first"),c=$("input:radio:checked").val();null!=b&&1==b.length?(popup1showfunc(),reservationid=b.find("td:eq(2)").text(),pnr=b.find("td:eq(3)").text(),jrnydate=b.find("td:eq(4)").text(),processCancel(pnr,reservationid,c,jrnydate)):!0==a?alert("Please select a Ticket for Cancellation"):alert("Please select a Ticket for TDR")}
function initatedCancellationRequest(a,b){popup1hidefunc();!0==b?servicenotavlpopupshow():!1==a&&cancelInputshowfunc()}function closeCancelInputPopup(){cancelInputhidefunc();updateList()}function closeCancelOutputPopup(a,b){cancelOutputhidefunc();!0==b||!1==a?updateList():!0==a&&refreshStatus()}
function searchValidation(){var a=$("#cancelListForm\\:pnrid").val(),b=$("#cancelListForm\\:transacid").val(),c=$("#cancelListForm\\:filterjourneyDateidInputDate").val(),d=$("#cancelListForm\\:filterfromid").val(),e=$("#cancelListForm\\:filtertoStnid").val();if((null==a||""==a)&&0==b&&(null==c||""==c)&&(null==d||""==d)&&(null==e||""==e))return alert("Please give atleast one input to search"),!1;if(0<a.length&&10!=a.length)return alert("PNR Number must be 10 digit"),!1;if(0<b.length&&isNaN(b))return alert("Transaction Id must be numeric value"),
!1;if(0<a.length&&isNaN(a))return alert("PNR Number must be numeric value"),!1;processfilterdata(a,b,d,e,c);return!0}function resetInit(){$("#cancelListForm\\:pnrid").val(null);$("#cancelListForm\\:transacid").val(null);$("#cancelListForm\\:filterfromid").val(null);$("#cancelListForm\\:filtertoStnid").val(null)}function processCancellationComplete(a,b){popup1hidefunc();!0==b?servicenotavlpopupshow():!1==a?(cancelInputhidefunc(),cancelOutputshowfunc()):cancelInputshowfunc()}
function setCharAt(a,b,c){return b>a.length-1?a:a.substr(0,b)+c+a.substr(b+1)}
function cancelTicketStart(a,b,c,d,e){var h=!1;cancelpsgn="NNNNNN";var g=0,f=0,f=$("form[name='txnHistory']").length;count=$(".select-psgn-to-cancel:checked").length;$(".select-psgn-to-cancel").each(function(a){$(this).is(":checked")&&(cancelpsgn=setCharAt(cancelpsgn,a,"Y"),g++)});0<count&&(h=!0);if(!1==h)return cancelInputshowfunc(),alert("Plesse select atleast one passenger"),!1;var k=h=0,n;if(a){h=$("#cancelListForm\\:tdrreasonslistid").val();f=$("#cancelListForm\\:eftnumberid").val();k=$("#cancelListForm\\:eftamountid").val();
c=$("#cancelListForm\\:eftdateidInputDate").val();1==eftflagval&&(n=!/^[0-9]+$/.test(k));if(0==h)return alert("Plesse select reason for file TDR"),!1;if(1==eftflagval&&(0==$.trim(f).length||0==$.trim(k).length||0==$.trim(c).length))return alert("Plesse input EFT number, amount and date for file TDR"),!1;if(1==eftflagval&&n)return alert("EFT  amount must be numric for file TDR"),!1;if(n=confirm("Do You Want to Process the File TDR Request ?"))$("#cancelListForm\\:tdrbuttonid").attr("disabled","disabled"),
cancelInputhidefunc(),popup1showfunc(),!1==b&&processCancelRequest(cancelpsgn,h,eftflagval,f,k,c);else return!1}else{if(!0==d&&(countForTrainCancel=$(".select-psgn-to-cancel:enabled").length,countForSelectPsgn=$(".select-psgn-to-cancel:checked").length,countForTrainCancel!=countForSelectPsgn))return alert("Train is cancelled, Please select all passengers for cancellation."),!1;k=!1;if(k="CK"==c||"PT"==c?tatkalValidation(g,e,f):!0){if(n=confirm("Do You Want to Process the Cancellation Request ?"))0==
f?$("#cancelListForm\\:cancelbuttonid").attr("disabled","disabled"):$("#txnHistory\\:cancelbuttonid").attr("disabled","disabled"),cancelInputhidefunc(),popup1showfunc(),!1==b&&processCancelRequest(cancelpsgn,h)}else return alert("Atleast one card holder passenger must be travelling"),!1}}
function tatkalValidation(a,b,c){var d=0,e;e=!1;var h=0,g=0,f=g=0,k=f=0,d=0,f=0==c?$("#cancelListForm\\:passengerindtlsid").find("tr").first().children().length:$("#txnHistory\\:passengerindtlsid").find("tr").first().children().length,f="false"==b?f-2:f-3,d=0==c?$("#cancelListForm\\:passengerindtlsid").find("tr").first().children().eq(f).text():$("#txnHistory\\:passengerindtlsid").find("tr").first().children().eq(f).text();if("ID Card Number"==d){d=0==c?$("#cancelListForm\\:passengerindtlsid").find("tbody>tr").length:
$("#txnHistory\\:passengerindtlsid").find("tbody>tr").length;d-=1;b=0==c?$("#cancelListForm\\:passengerindtlsid").find("tbody>tr"):$("#txnHistory\\:passengerindtlsid").find("tbody>tr");for(g=0;g<d;g++){var n=$(b)[g],k=f-2,n=$(n).children().eq(k).text();("CAN"==n||"CAN/"==n)&&h++}if(d-h==a)e=!0;else if(1<d-h)if(0==c)for(g=0;g<d;g++){if(n=$(b)[g],a=$(n).children().eq(f).text(),n=$(n).children().eq(k).text(),c=$("#cancelListForm\\:passengerindtlsid\\:"+g+"\\:selectpsgn").is(":checked"),"CAN"!=n&&""!=
a&&!c){e=!0;break}}else for(g=0;g<d;g++){if(n=$(b)[g],a=$(n).children().eq(f).text(),n=$(n).children().eq(k).text(),c=$("#txnHistory\\:passengerindtlsid\\:"+g+"\\:selectpsgn").is(":checked"),"CAN"!=n&&""!=a&&!c){e=!0;break}}else e=!0}else e=!0;return e}
function eftSelectFunc(){reason=$("#cancelListForm\\:tdrreasonslistid").val();if(0<reason)if(3==reason||4==reason||5==reason||6==reason||7==reason||15==reason||16==reason||22==reason)$("#cancelListForm\\:eftflagid").is(":checked")?(eftflagval=1,$("#cancelListForm\\:eftnumberid").attr("disabled",!1),$("#cancelListForm\\:eftamountid").attr("disabled",!1),$("#cancelListForm\\:eftdateidInputDate").attr("disabled",!1),$("#cancelListForm\\:eftdateidInputDateIdPopupButton").show()):(eftflagval=2,$("#cancelListForm\\:eftnumberid").val(""),
$("#cancelListForm\\:eftamountid").val(""),$("#cancelListForm\\:eftdateidInputDate").val(""),$("#cancelListForm\\:eftnumberid").attr("disabled",!0),$("#cancelListForm\\:eftamountid").attr("disabled",!0),$("#cancelListForm\\:eftdateidInputDate").attr("disabled",!0),$("#cancelListForm\\:eftdateidInputDateIdPopupButton").hide());else{if($("#cancelListForm\\:eftflagid").is(":checked"))return alert("EFT/GC Input Detail Not allow for selected reason"),!1}else return alert("Plesse select reason for file TDR"),
!1}
function printCancelClick(a){rows=document.getElementById("ticketdtlsout").getElementsByTagName("tr");var b=rows[0].getElementsByTagName("td"),c=b[3].innerHTML,b=b[1].innerHTML,d=rows[2].getElementsByTagName("td")[1].innerHTML,c=c.replace(/^\s+|\s+$/g,""),c=c+"^C^"+d+"^0^"+b;!0==a?window.open(faces_context()+"/printTicket.jsf?pnr="+c,null,"menubar=no,location=no,scrollbars=yes,resizable=yes,height=600,width=800"):window.open(faces_context_cancel()+"/printTicket.jsf?pnr="+c,null,"menubar=no,location=no,scrollbars=yes,resizable=yes,height=600,width=800")}
function validatePnrInput(){var a=document.getElementById("pnrEnquiryInputForm:pnr"),b=/^[0-9]+$/;if(""!=a.value.trim()){if(10!=a.value.trim().length)return alert("Please enter ten digit PNR Number"),a.focus(),!1;if(!b.test(a.value.trim()))return alert("Enter the  PNR Number in digits only"),a.focus(),!1;if(0==pnrStNumCheck||1==pnrStNumCheck||3==pnrStNumCheck||5==pnrStNumCheck||7==pnrStNumCheck||9==pnrStNumCheck)return alert(" Please enter valid PNR Number"),a.focus(),!1}else alert("Please enter PNR Number");
return!0}function printClick(){var a=$("#pnrNo").text(),b=$("#jrnydateid").text();window.open(faces_context()+"/printTicket.jsf?pnr="+(a+"^B^"+b+"^0"),null,"menubar=no,location=no,scrollbars=yes,resizable=yes,height=600,width=800")}function printClickHindi(){var a=$("#pnrNo").text(),b=$("#jrnydateid").text();window.open(faces_context()+"/printTicketHindi.jsf?pnr="+(a+"^B^"+b+"^1"),null,"menubar=no,location=no,scrollbars=yes,resizable=yes,height=600,width=800")}
$(document).ready(function(){$("#txnHistory\\:pnr").focus();$("#txnCancelHistory\\:pnr").focus();$("#failedTransactionHistory\\:transac").focus();$("#tdrHistory\\:pnr").focus();$("#refundTxnHistoryformid\\:transac").focus()});function pnrEnquiryForERS(a){operation="pnrEnquiry";popup1_show();ersflag=!0;processTicketPnr(a,ersflag);return!1}
function getPnrEnquiry(){var a=$("#txnHistory input:radio:checked").parents("tr:first");null!=a&&1==a.length?(pnr=a.find("td:eq(3)").text(),operation="pnrEnquiry",popup1_show(),processPnr(pnr)):alert("Please Select a Ticket to Get PNR Status");return!1}
function printERS(){var a=$("#txnHistory input:radio:checked").parents("tr:first");null!=a&&1==a.length?(pnr=a.find("td:eq(3)").text(),jDate=a.find("td:eq(7)").text(),operation="pnrEnquiry",popup1_show(),processTicket(pnr,jDate)):alert("Please Select a Ticket to Print");return!1}
function printTicket(a){var b=document.getElementById("pnrdtls").getElementsByTagName("tr")[0].getElementsByTagName("td")[1].innerHTML,c=document.getElementById("txnHistory:date").innerHTML,b=b+"^B^"+c+"^"+a+"^";"0"==a?window.open(faces_context()+"/printTicket.jsf?pnr="+b,null,"menubar=no,location=no,scrollbars=yes,resizable=yes,height=600,width=800"):window.open(faces_context()+"/printTicketHindi.jsf?pnr="+b,null,"menubar=no,location=no,scrollbars=yes,resizable=yes,height=600,width=800")}
function processRadioSelectComplete(a){popup1_hide();$("#txnHistory input[type=radio]").removeAttr("checked");"printTicket"==operation?(operation="",window.open(faces_context()+"/printTicket.jsf",null,"menubar=no,location=no,scrollbars=yes,resizable=yes,height=600,width=800")):"pnrEnquiry"==operation&&(1==a?pnrpopup_show():2==a&&servicenotavalpopup_show())}function processPrintTicket(a,b){!1==b&&pnrEnquiryForERS(a);return!1}function hidePopUp(){popup1_hide();return!1}
function validateTxnHistory(){var a=document.getElementById("txnHistory:pnr"),b=document.getElementById("txnHistory:trxnID"),c=/^[0-9]+$/,d=document.getElementById("txnHistory:fromStation"),e=document.getElementById("txnHistory:toStation"),h=document.getElementById("txnHistory:journeyDateInputDate");if((null==b.value||""==b.value)&&(null==a.value||""==a.value)&&(null==h.value||""==h.value)&&(null==d.value||""==d.value)&&(null==e.value||""==e.value))return alert("Please give atleast one input to search"),
a.focus(),!1;if(""!=a.value){if(!c.test(a.value))return alert("Enter the  PNR in digits only"),a.focus(),!1;if(10!=a.value.length)return alert("Please enter ten digit PNR Number"),a.focus(),!1}if(""!=b.value){if(!c.test(b.value))return alert("Enter the  transactionID in digits only"),b.focus(),!1;if(15!=b.value.length)return alert("Please enter fifteen digit TransactionID Number"),b.focus(),!1}if(""!=d.value&&c.test(d.value))return alert("Numbers are not allowed  in from station"),d.focus(),!1;return""!=
e.value&&c.test(e.value)?(alert("Numbers are not allowed  in to station"),e.focus(),!1):!0}
function getPnrEnquiryForCancel(){var a="",b=$("input:radio:checked").parents("tr:first"),c=$("input:radio:checked").val();null!=b&&1==b.length?(a=b.find("td:eq(8)").text(),"Booked"==a||"Partial Cancelled"==a?(popup1_show(),reservationid=b.find("td:eq(2)").text(),pnr=b.find("td:eq(3)").text(),jrnydate=b.find("td:eq(7)").text(),processCancel(pnr,reservationid,c,jrnydate)):alert("Cancellation is NOT allowed")):alert("Please select a Ticket for Cancellation")}
function processCancelComplete(a,b){popup1_hide();!0==b?servicenotavalpopup_show():!1==a&&pnrpopup1_show()}function closeInputPopup(){pnrpopup1_hide()}function closeOutputPopup(){canceloutpopup_hide();refreshStatus()}function popup1showfunc(){popup1_show()}function popup1hidefunc(){popup1_hide()}function cancelInputshowfunc(){pnrpopup1_show()}function cancelInputhidefunc(){pnrpopup1_hide()}function cancelOutputshowfunc(){canceloutpopup_show()}
function cancelOutputhidefunc(){canceloutpopup_hide()}function printInstruction(a){var b=document.getElementById("pnrdtls").getElementsByTagName("tr")[0].getElementsByTagName("td")[1].innerHTML,c=document.getElementById("txnHistory:date").innerHTML;"0"==a&&window.open(faces_context()+"/printInstruct.jsf?pnr="+(b+"^B^"+c+"^"+a+"^"),null,"menubar=no,location=no,scrollbars=yes,resizable=yes,height=600,width=800")}
function resendBkgSms(){var a=$("#txnHistory input:radio:checked").parents("tr:first");currentDate();document.getElementById("txnHistory:date");if(null!=a&&1==a.length){pnr=a.find("td:eq(3)").text();statusSMS=a.find("td:eq(8)").text();jdate=a.find("td:eq(7)").text();if(!("Partial Cancelled"==statusSMS||"Booked"==statusSMS))return alert("Get SMS is Not Allowed"),!1;processResendSms(pnr)}else alert("Please Select a Ticket to Resend Booking Details");return!1}
function validateCancelHistory(){var a=document.getElementById("txnCancelHistory:pnr"),b=document.getElementById("txnCancelHistory:transac"),c=/^[0-9]+$/,d=document.getElementById("txnCancelHistory:fromStation"),e=document.getElementById("txnCancelHistory:toStation"),h=document.getElementById("txnCancelHistory:cancelDateInputDate");if((null==b.value||""==b.value)&&(null==a.value||""==a.value)&&(null==h.value||""==h.value)&&(null==d.value||""==d.value)&&(null==e.value||""==e.value))return alert("Please enter atleast one input to search"),
a.focus(),!1;if(""!=a.value){if(10!=a.value.length)return alert("Please enter ten digit PNR Number"),a.focus(),!1;if(!c.test(a.value))return alert("Enter the  PNR Number in digits only"),a.focus(),!1}if(""!=b.value){if(15!=b.value.length)return alert("Please enter fifteen digit TransactionID Number"),b.focus(),!1;if(!c.test(b.value))return alert("Enter the  transactionID in digits only"),b.focus(),!1}return!0}
function filterValidationTDRHistory(){var a=$("#tdrHistory\\:pnr").val(),b=$("#tdrHistory\\:transac").val(),c=$("#tdrHistory\\:fromStation").val(),d=$("#tdrHistory\\:toStation").val(),e=$("#tdrHistory\\:journeyDateInputDate").val();if((null==a||""==a)&&(null==b||""==b)&&(null==e||""==e)&&(null==c||""==c)&&(null==d||""==d))return alert("Please give atleast one input to search"),$("#tdrHistory\\:pnr").focus(),!1;if(""!=a){if(isNaN(a))return alert("PNR Number must be numeric value"),$("#tdrHistory\\:pnr").focus(),
!1;if(10!=a.length&&0!=a.length)return alert("Please enter ten digit PNR Number"),$("#tdrHistory\\:pnr").focus(),!1}if(""!=b){if(isNaN(b))return alert("cancellation Id must be numeric value"),$("#tdrHistory\\:transac").focus(),!1;if(15!=b.length&&0!=b.length)return alert("Please enter Fifteen digit cancellation Id"),$("#tdrHistory\\:transac").focus(),!1}}
function filterValidationFailedHistory(){var a=$("#failedTransactionHistory\\:transac").val(),b=$("#failedTransactionHistory\\:fromStation").val(),c=$("#failedTransactionHistory\\:toStation").val(),d=$("#failedTransactionHistory\\:journeyDateInputDate").val();if((null==a||""==a)&&(null==d||""==d)&&(null==b||""==b)&&(null==c||""==c))return alert("Please enter atleast one input to search"),$("#failedTransactionHistory\\:transac").focus(),!1;if(isNaN(a))return alert("transaction Id must be numeric value"),
$("#failedTransactionHistory\\:transac").focus(),!1;if(15!=a.length&&0!=a.length)return alert("Please enter Fifteen digit transaction Id"),$("#failedTransactionHistory\\:transac").focus(),!1}
function validateRefundHistory(){var a=document.getElementById("refundTxnHistoryformid:transac"),b=document.getElementById("refundTxnHistoryformid:trxnDateInputDate"),c=/^[0-9]+$/;if((null==a.value||""==a.value)&&(null==b.value||""==b.value))return alert("Please enter atleast one input to search"),a.focus(),!1;if(""!=a.value){if(!c.test(a.value))return alert("Enter the  transactionID in digits only"),a.focus(),!1;if(15!=a.value.length)return alert("Please enter fifteen digit TransactionID Number"),
a.focus(),!1}return!0}function clickEventIE(){if(document.all)return!1}function clickEventNonIE(a){if(document.layers||document.getElementById&&!document.all)if(2==a.which||3==a.which)return!1}document.layers?(document.captureEvents(Event.MOUSEDOWN),document.onmousedown=clickEventNonIE):(document.onmouseup=clickEventNonIE,document.oncontextmenu=clickEventIE);document.oncontextmenu=new Function("return false");
function disableSelection(a){"undefined"!=typeof a.onselectstart?a.onselectstart=function(){return!1}:"undefined"!=typeof a.style.MozUserSelect?a.style.MozUserSelect="none":a.onmousedown=function(){return!1};a.style.cursor="default"}function disableCtrlKeyCombination(a){if(window.event){if(window.event.ctrlKey)return!1}else if(a.ctrlKey)return!1;return!0}
function printTktPage(){var a=document.getElementById("printPageButton");a.style.visibility="hidden";window.print();a.style.visibility="visible"}function printTktPageHindi(){var a=document.getElementById("printPageButtonHindi");a.style.visibility="hidden";window.print();a.style.visibility="visible"}
eval(function(a,b,c,d,e,h){e=function(a){return(a<b?"":e(parseInt(a/b)))+(35<(a%=b)?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){for(;c--;)h[e(c)]=d[c]||e(c);d=[function(a){return h[a]}];e=function(){return"\\w+"};c=1}for(;c--;)d[c]&&(a=a.replace(RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}(';(3($){$.2e.1u({19:3(b,d){5 c=W b=="1B";d=$.1u({},$.M.1T,{Y:c?b:P,y:c?P:b,1J:c?$.M.1T.1J:10,X:d&&!d.1D?10:48},d);d.1y=d.1y||3(a){6 a};d.1v=d.1v||d.1R;6 A.I(3(){1M $.M(A,d)})},L:3(a){6 A.11("L",a)},1k:3(a){6 A.14("1k",[a])},2b:3(){6 A.14("2b")},28:3(a){6 A.14("28",[a])},24:3(){6 A.14("24")}});$.M=3(o,r){5 t={2Y:38,2S:40,2N:46,2I:9,2E:13,2B:27,2x:3I,2v:33,2p:34,2n:8};5 u=$(o).3r("19","3o").Q(r.2Q);5 p;5 m="";5 n=$.M.3c(r);5 s=0;5 k;5 h={1F:C};5 l=$.M.32(r,o,1Z,h);5 j;$.1Y.2X&&$(o.2U).11("45.19",3(){4(j){j=C;6 C}});u.11(($.1Y.2X?"43":"42")+".19",3(a){s=1;k=a.2M;3V(a.2M){O t.2Y:a.1d();4(l.N()){l.30()}w{12(0,D)}R;O t.2S:a.1d();4(l.N()){l.2D()}w{12(0,D)}R;O t.2v:a.1d();4(l.N()){l.2C()}w{12(0,D)}R;O t.2p:a.1d();4(l.N()){l.2A()}w{12(0,D)}R;O r.17&&$.1c(r.S)==","&&t.2x:O t.2I:O t.2E:4(1Z()){a.1d();j=D;6 C}R;O t.2B:l.Z();R;3J:1P(p);p=1O(12,r.1J);R}}).2t(3(){s++}).3E(3(){s=0;4(!h.1F){2r()}}).2q(3(){4(s++>1&&!l.N()){12(0,D)}}).11("1k",3(){5 c=(1r.7>1)?1r[1]:P;3 1N(q,a){5 b;4(a&&a.7){16(5 i=0;i<a.7;i++){4(a[i].L.J()==q.J()){b=a[i];R}}}4(W c=="3")c(b);w u.14("L",b&&[b.y,b.F])}$.I(15(u.K()),3(i,a){21(a,1N,1N)})}).11("2b",3(){n.1o()}).11("28",3(){$.1u(r,1r[1]);4("y"2h 1r[1])n.1e()}).11("24",3(){l.1p();u.1p();$(o.2U).1p(".19")});3 1Z(){5 e=l.2g();4(!e)6 C;5 v=e.L;m=v;4(r.17){5 b=15(u.K());4(b.7>1){5 f=r.S.7;5 c=$(o).18().1I;5 d,1H=0;$.I(b,3(i,a){1H+=a.7;4(c<=1H){d=i;6 C}1H+=f});b[d]=v;v=b.3f(r.S)}v+=r.S}u.K(v);1l();u.14("L",[e.y,e.F]);6 D}3 12(b,c){4(k==t.2N){l.Z();6}5 a=u.K();4(!c&&a==m)6;m=a;a=1m(a);4(a.7>=r.29){u.Q(r.26);4(!r.1s)a=a.J();21(a,3a,1l)}w{1q();l.Z()}};3 15(b){4(!b)6[""];4(!r.17)6[$.1c(b)];6 $.4h(b.23(r.S),3(a){6 $.1c(b).7?$.1c(a):P})}3 1m(a){4(!r.17)6 a;5 c=15(a);4(c.7==1)6 c[0];5 b=$(o).18().1I;4(b==a.7){c=15(a)}w{c=15(a.22(a.37(b),""))}6 c[c.7-1]}3 1G(q,a){4(r.1G&&(1m(u.K()).J()==q.J())&&k!=t.2n){u.K(u.K()+a.37(1m(m).7));$(o).18(m.7,m.7+a.7)}};3 2r(){1P(p);p=1O(1l,4g)};3 1l(){5 c=l.N();l.Z();1P(p);1q();4(r.36){u.1k(3(a){4(!a){4(r.17){5 b=15(u.K()).1n(0,-1);u.K(b.3f(r.S)+(b.7?r.S:""))}w{u.K("");u.14("L",P)}}})}};3 3a(q,a){4(a&&a.7&&s){1q();l.35(a,q);1G(q,a[0].F);l.20()}w{1l()}};3 21(f,d,g){4(!r.1s)f=f.J();5 e=n.31(f);4(e&&e.7){d(f,e)}w 4((W r.Y=="1B")&&(r.Y.7>0)){5 c={4f:+1M 4e()};$.I(r.2Z,3(a,b){c[a]=W b=="3"?b():b});$.4d({4c:"4b",4a:"19"+o.49,2V:r.2V,Y:r.Y,y:$.1u({q:1m(f),47:r.X},c),44:3(a){5 b=r.1A&&r.1A(a)||1A(a);n.1i(f,b);d(f,b)}})}w{l.2T();g(f)}};3 1A(c){5 d=[];5 b=c.23("\\n");16(5 i=0;i<b.7;i++){5 a=$.1c(b[i]);4(a){a=a.23("|");d[d.7]={y:a,F:a[0],L:r.1z&&r.1z(a,a[0])||a[0]}}}6 d};3 1q(){u.1h(r.26)}};$.M.1T={2Q:"41",2P:"3Z",26:"3Y",29:1,1J:3W,1s:C,1f:D,1w:C,1g:10,X:3U,36:C,2Z:{},1X:D,1R:3(a){6 a[0]},1v:P,1G:C,E:0,17:C,S:", ",1y:3(b,a){6 b.22(1M 3T("(?![^&;]+;)(?!<[^<>]*)("+a.22(/([\\^\\$\\(\\)\\[\\]\\{\\}\\*\\.\\+\\?\\|\\\\])/2K,"\\\\$1")+")(?![^<>]*>)(?![^&;]+;)","2K"),"<2J>$1</2J>")},1D:D,1E:3S};$.M.3c=3(g){5 h={};5 j=0;3 1f(s,a){4(!g.1s)s=s.J();5 i=s.2H(a);4(g.1w=="3R"){i=s.J().1k("\\\\b"+a.J())}4(i==-1)6 C;6 i==0||g.1w};3 1i(q,a){4(j>g.1g){1o()}4(!h[q]){j++}h[q]=a}3 1e(){4(!g.y)6 C;5 f={},2G=0;4(!g.Y)g.1g=1;f[""]=[];16(5 i=0,2F=g.y.7;i<2F;i++){5 c=g.y[i];c=(W c=="1B")?[c]:c;5 d=g.1v(c,i+1,g.y.7);4(d===C)1V;5 e=d.3Q(0).J();4(!f[e])f[e]=[];5 b={F:d,y:c,L:g.1z&&g.1z(c)||d};f[e].1U(b);4(2G++<g.X){f[""].1U(b)}};$.I(f,3(i,a){g.1g++;1i(i,a)})}1O(1e,25);3 1o(){h={};j=0}6{1o:1o,1i:1i,1e:1e,31:3(q){4(!g.1g||!j)6 P;4(!g.Y&&g.1w){5 a=[];16(5 k 2h h){4(k.7>0){5 c=h[k];$.I(c,3(i,x){4(1f(x.F,q)){a.1U(x)}})}}6 a}w 4(h[q]){6 h[q]}w 4(g.1f){16(5 i=q.7-1;i>=g.29;i--){5 c=h[q.3O(0,i)];4(c){5 a=[];$.I(c,3(i,x){4(1f(x.F,q)){a[a.7]=x}});6 a}}}6 P}}};$.M.32=3(e,g,f,k){5 h={H:"3N"};5 j,z=-1,y,1t="",1S=D,G,B;3 2y(){4(!1S)6;G=$("<3M/>").Z().Q(e.2P).T("3L","3K").1Q(1K.2w);B=$("<3H/>").1Q(G).3G(3(a){4(U(a).2u&&U(a).2u.3F()==\'2s\'){z=$("1L",B).1h(h.H).3D(U(a));$(U(a)).Q(h.H)}}).2q(3(a){$(U(a)).Q(h.H);f();g.2t();6 C}).3C(3(){k.1F=D}).3B(3(){k.1F=C});4(e.E>0)G.T("E",e.E);1S=C}3 U(a){5 b=a.U;3A(b&&b.3z!="2s")b=b.3y;4(!b)6[];6 b}3 V(b){j.1n(z,z+1).1h(h.H);2o(b);5 a=j.1n(z,z+1).Q(h.H);4(e.1D){5 c=0;j.1n(0,z).I(3(){c+=A.1a});4((c+a[0].1a-B.1b())>B[0].3x){B.1b(c+a[0].1a-B.3w())}w 4(c<B.1b()){B.1b(c)}}};3 2o(a){z+=a;4(z<0){z=j.1j()-1}w 4(z>=j.1j()){z=0}}3 2m(a){6 e.X&&e.X<a?e.X:a}3 2l(){B.2z();5 b=2m(y.7);16(5 i=0;i<b;i++){4(!y[i])1V;5 a=e.1R(y[i].y,i+1,b,y[i].F,1t);4(a===C)1V;5 c=$("<1L/>").3v(e.1y(a,1t)).Q(i%2==0?"3u":"3P").1Q(B)[0];$.y(c,"2k",y[i])}j=B.3t("1L");4(e.1X){j.1n(0,1).Q(h.H);z=0}4($.2e.2W)B.2W()}6{35:3(d,q){2y();y=d;1t=q;2l()},2D:3(){V(1)},30:3(){V(-1)},2C:3(){4(z!=0&&z-8<0){V(-z)}w{V(-8)}},2A:3(){4(z!=j.1j()-1&&z+8>j.1j()){V(j.1j()-1-z)}w{V(8)}},Z:3(){G&&G.Z();j&&j.1h(h.H);z=-1},N:3(){6 G&&G.3s(":N")},3q:3(){6 A.N()&&(j.2j("."+h.H)[0]||e.1X&&j[0])},20:3(){5 a=$(g).3p();G.T({E:W e.E=="1B"||e.E>0?e.E:$(g).E(),2i:a.2i+g.1a,1W:a.1W}).20();4(e.1D){B.1b(0);B.T({2L:e.1E,3n:\'3X\'});4($.1Y.3m&&W 1K.2w.3l.2L==="1x"){5 c=0;j.I(3(){c+=A.1a});5 b=c>e.1E;B.T(\'3k\',b?e.1E:c);4(!b){j.E(B.E()-2R(j.T("2O-1W"))-2R(j.T("2O-3j")))}}}},2g:3(){5 a=j&&j.2j("."+h.H).1h(h.H);6 a&&a.7&&$.y(a[0],"2k")},2T:3(){B&&B.2z()},1p:3(){G&&G.3i()}}};$.2e.18=3(b,f){4(b!==1x){6 A.I(3(){4(A.2d){5 a=A.2d();4(f===1x||b==f){a.4n("2c",b);a.3h()}w{a.4m(D);a.4l("2c",b);a.4k("2c",f);a.3h()}}w 4(A.3g){A.3g(b,f)}w 4(A.1C){A.1C=b;A.3e=f}})}5 c=A[0];4(c.2d){5 e=1K.18.4j(),3d=c.F,2a="<->",2f=e.3b.7;e.3b=2a;5 d=c.F.2H(2a);c.F=3d;A.18(d,d+2f);6{1I:d,39:d+2f}}w 4(c.1C!==1x){6{1I:c.1C,39:c.3e}}}})(4i);',
62,272,"|||function|if|var|return|length|||||||||||||||||||||||||else||data|active|this|list|false|true|width|value|element|ACTIVE|each|toLowerCase|val|result|Autocompleter|visible|case|null|addClass|break|multipleSeparator|css|target|moveSelect|typeof|max|url|hide||bind|onChange||trigger|trimWords|for|multiple|selection|autocomplete|offsetHeight|scrollTop|trim|preventDefault|populate|matchSubset|cacheLength|removeClass|add|size|search|hideResultsNow|lastWord|slice|flush|unbind|stopLoading|arguments|matchCase|term|extend|formatMatch|matchContains|undefined|highlight|formatResult|parse|string|selectionStart|scroll|scrollHeight|mouseDownOnSelect|autoFill|progress|start|delay|document|li|new|findValueCallback|setTimeout|clearTimeout|appendTo|formatItem|needsInit|defaults|push|continue|left|selectFirst|browser|selectCurrent|show|request|replace|split|unautocomplete||loadingClass||setOptions|minChars|teststring|flushCache|character|createTextRange|fn|textLength|selected|in|top|filter|ac_data|fillList|limitNumberOfItems|BACKSPACE|movePosition|PAGEDOWN|click|hideResults|LI|focus|nodeName|PAGEUP|body|COMMA|init|empty|pageDown|ESC|pageUp|next|RETURN|ol|nullData|indexOf|TAB|strong|gi|maxHeight|keyCode|DEL|padding|resultsClass|inputClass|parseInt|DOWN|emptyList|form|dataType|bgiframe|opera|UP|extraParams|prev|load|Select|||display|mustMatch|substring||end|receiveData|text|Cache|orig|selectionEnd|join|setSelectionRange|select|remove|right|height|style|msie|overflow|off|offset|current|attr|is|find|ac_even|html|innerHeight|clientHeight|parentNode|tagName|while|mouseup|mousedown|index|blur|toUpperCase|mouseover|ul|188|default|absolute|position|div|ac_over|substr|ac_odd|charAt|word|180|RegExp|100|switch|400|auto|ac_loading|ac_results||ac_input|keydown|keypress|success|submit||limit|150|name|port|abort|mode|ajax|Date|timestamp|200|map|jQuery|createRange|moveEnd|moveStart|collapse|move".split("|"),
0,{}));jQuery.fn.preventDoubleSubmission=function(){$(this).on("submit",function(a){var b=$(this);!0===b.data("submitted")?a.preventDefault():b.data("submitted",!0)});return this};
$(document).ready(function(){$(document.getElementById("jpform:fromStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("jpform:toStation")).autocomplete(stationName,{max:30,matchContains:"word"});setQbAutoComplete();$(document.getElementById("favJourney:fromStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("favJourney:toStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("txnHistory:fromStation")).autocomplete(stationName,
{max:30,matchContains:"word"});$(document.getElementById("txnHistory:toStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("txnCancelHistory:fromStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("txnCancelHistory:toStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("cancelListForm:filterfromid")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("cancelListForm:filtertoStnid")).autocomplete(stationName,
{max:30,matchContains:"word"});$(document.getElementById("failedTransactionHistory:fromStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("failedTransactionHistory:toStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("tdrHistory:fromStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("tdrHistory:toStation")).autocomplete(stationName,{max:30,matchContains:"word"});$("form").preventDoubleSubmission()});
function setQbAutoComplete(){$(document.getElementById("qbform:fromStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("qbform:toStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("cbform:fromStation")).autocomplete(stationName,{max:30,matchContains:"word"});$(document.getElementById("cbform:toStation")).autocomplete(stationName,{max:30,matchContains:"word"})}
function valAvalFareEnqData(){var a=!0,b=$("#avlAndFareForm\\:trainNumber").val(),c=$("#avlAndFareForm\\:journeyClass").val(),d=$("#avlAndFareForm\\:journeyDate").val(),e=$("#avlAndFareForm\\:quota").val(),h=$("#avlAndFareForm\\:fromStation").val(),g=$("#avlAndFareForm\\:toStation").val(),f=$("#avlAndFareForm\\:cc").val();null==b||""==b||void 0===b.length||5<b.length?a=!1:null==c||""==c||void 0===c.length||2<c.length?a=!1:null==d||""==d?a=!1:null==e||""==e||void 0===e.length||2<e.length?a=!1:null==
h||""==h||void 0===h.length||4<h.length?a=!1:null==g||""==g||void 0===g.length||4<g.length?a=!1:"true"!=f&&"false"!=f&&(a=!1);a?(_gavlt=0,_gavlt=(new Date).getTime()):(ajaxPopUpHide(),alert("Invalid parameters...."));return a}
function setDetailsToQuickBook(a,b,c,d,e,h){$(document).ready(function(){if(1==h){var g="#qbform\\:";"clusterBookTab"==getCookie("qbjpactive")&&(g="#cbform\\:");$(g+"trainNUmber").val(a);$(g+"fromStation").val(b);$(g+"toStation").val(c);$(g+"class").val(d);$(g+"quota").val(e)}else $("#jpform\\:fromStation").val(b),$("#jpform\\:toStation").val(c)})}arpDate=yesterDay=curDt=toDay=null;function dayDisablementFunction(a){return yesterDay<a.date&&a.date<=arpDate?!0:!1}
function validateTrainNumber(){$("#qbform\\:trainNUmber").val($.trim($("#qbform\\:trainNUmber").val()));if(""!=$("#qbform\\:trainNUmber").val()){if(/[^A-Za-z0-9]/.test($("#qbform\\:trainNUmber").val()))return $("#qbform\\:trainNUmberErr").html('<span class="rf-msg-err"><span class="rf-msg-det">No special characters or spaces allowed in train number</span></span>'),!1;$("#qbform\\:trainNUmberErr").html("")}}
function checkFromToNotSame(){if(""!=$("#qbform\\:fromStation").val()&&isValidStation($("#qbform\\:toStation").val())){if($("#qbform\\:fromStation").val()==$("#qbform\\:toStation").val())return $("#qbform\\:toStationErr").html('<span class="rf-msg-err"><span class="rf-msg-det">From and To station names cannot be the same</span></span>'),!1;$("#qbform\\:toStationErr").html("")}}
var iTktMinDays=null,iTktMinDate=null,mons={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12","01":"01","02":"02","03":"03","04":"04","05":"05","06":"06","07":"07","08":"08","09":"09",10:"10",11:"11",12:"12"};function getDate(a){a=a.split("-");return 3==a.length&&mons[a[1]]?(a=new Date(mons[a[1]]+"/"+a[0]+"/"+a[2]),"Invalid Date"==a.toString()?null:a):null}
function validateJD(a){a||(a="qbform");var b="#"+a+"\\:";if("cbform"==a&&""==$(b+"qbJrnyDateInputDate").val())return alert("Please select a journey date"),$("#jpform\\:qbJrnyDateInputDate").focus(),!1;$(b+b+"trainNUmber").val($.trim($(b+"trainNUmber").val()));if(""==$(b+"trainNUmber").val())return alert("Please Enter a Train Number"),$(b+"trainNUmber").focus(),!1;if(/[^A-Za-z0-9]/.test($(b+"trainNUmber").val()))return alert("No special characters or spaces allowed in train number"),$(b+"trainNUmber").focus(),
!1;$(b+"fromStation").val($.trim($(b+"fromStation").val()));if(""==$(b+"fromStation").val()||!isValidStation($(b+"fromStation").val()))return alert("Enter a Valid From Station"),$(b+"fromStation").focus(),!1;$(b+"toStation").val($.trim($(b+"toStation").val()));if(""==$(b+"toStation").val()||!isValidStation($(b+"toStation").val()))return alert("Enter a Valid To Station"),$(b+"toStation").focus(),!1;if(""!=$(b+"fromStation").val()&&$(b+"fromStation").val()==$(b+"toStation").val())return alert("From and To station names cannot be the same"),
$(b+"toStation").focus(),!1;if("qbform"==a&&""==$(b+"qbJrnyDateInputDate").val())return alert("Please select a journey date"),$("#jpform\\:qbJrnyDateInputDate").focus(),!1;if(""==$(b+"class").val())return alert("Please select a class for journey"),$(b+"class").focus(),!1;if(""==$(b+"quota").val())return alert("Please select a quota for journey"),$(b+"quota").focus(),!1;if(1==$(b+"ticketType").length&&"I_TICKET"==$(b+"ticketType").val()){if(""==$(b+"qbJrnyDateInputDate").val())return alert("Please select a journey date"),
$("#jpform\\:qbJrnyDateInputDate").focus(),!1;if(getDate($(b+"qbJrnyDateInputDate").val())<iTktMinDate)return alert("Please check the journey Date.\nThe Journey Date should be "+iTktMinDays+" days after today for I-Ticket"),!1;b=$(b+"quota").val();if("CK"==b||"PT"==b)return alert("I-Ticket is not allowed for TATKAL / PREMIUM TATKAL quota"),!1}return"cbform"==a&&!$("#cbform\\:clusterTermsNConds").is(":checked")?(alert("Please read the terms and conditions and accept"),!1):!0}
function validateJPJD(){$("#jpform\\:fromStation").val($.trim($("#jpform\\:fromStation").val()));if(""==$("#jpform\\:fromStation").val())return alert("Please Enter From Station"),$("#jpform\\:fromStation").focus(),!1;if(1>$("#jpform\\:fromStation").val().length||22<$("#jpform\\:fromStation").val().length)return alert("Input length should be between 1 to 22 characters."),$("#jpform\\:fromStation").focus(),!1;if(!isValidStation($("#jpform\\:fromStation").val()))return alert("Enter a Valid From Station"),
$("#jpform\\:fromStation").focus(),!1;$("#jpform\\:toStation").val($.trim($("#jpform\\:toStation").val()));if(""==$("#jpform\\:toStation").val())return alert("Please Enter To Station"),$("#jpform\\:toStation").focus(),!1;if(1>$("#jpform\\:toStation").val().length||22<$("#jpform\\:toStation").val().length)return alert("Input length should be between 1 to 22 characters."),$("#jpform\\:toStation").focus(),!1;if(!isValidStation($("#jpform\\:toStation").val()))return alert("Enter a Valid To Station"),
$("#jpform\\:toStation").focus(),!1;if(""!=$("#jpform\\:fromStation").val()&&$("#jpform\\:fromStation").val()==$("#jpform\\:toStation").val())return alert("From and To station names cannot be the same"),$("#jpform\\:toStation").focus(),!1;if(""==$("#jpform\\:journeyDateInputDate").val())return alert("Please select a journey date"),$("#jpform\\:journeyDateInputDate").focus(),!1;if(1==$("#jpform\\:ticketType").length&&"I_TICKET"==$("#jpform\\:ticketType").val()){if(""==$("#jpform\\:journeyDateInputDate").val())return alert("Please select a journey date"),
$("#jpform\\:journeyDateInputDate").focus(),!1;if(getDate($("#jpform\\:journeyDateInputDate").val())<iTktMinDate)return alert("Please check the journey Date.\nThe Journey Date should be "+iTktMinDays+" days after today for I-Ticket"),!1}return!0}function isValidStation(a){var b=RegExp(/\b(^[A-Za-z]{1,4}$)|(^[A-Za-z.\s]{1,16}[\s]-[\s][A-Za-z]{1,4}$)\b/);return null!=a&&""!=a&&-1!=$.inArray(a,stationName)?b.test(a):!1}
var jpFromStation=null,jpToStation=null,jpDate=null,jpTicketType=null,handicapPassengers=null;$(document).ready(function(){jpFromStation=$("#jpform\\:fromStation").val();jpToStation=$("#jpform\\:toStation").val();jpDate=$("#jpform\\:journeyDateInputDate").val();jpTicketType=$("#jpform\\:ticketType").val();handicapPassengers=$("#jpform\\:handicapPassengers").is(":checked")});
function isJpChanged(){return $("#jpform\\:fromStation").val()!=jpFromStation||$("#jpform\\:toStation").val()!=jpToStation||$("#jpform\\:journeyDateInputDate").val()!=jpDate||$("#jpform\\:ticketType").val()!=jpTicketType||$("#jpform\\:handicapPassengers").is(":checked")!=handicapPassengers?!0:!1}$(document).ready(function(){$("#JpSwapFromTo").click(function(){var a=$("#jpform\\:fromStation").val();$("#jpform\\:fromStation").val($("#jpform\\:toStation").val());$("#jpform\\:toStation").val(a)})});
function fetchtktdetail1(){var a=0,a=$("#contentformid1\\:txnidlink1").text();$("#contentformid1\\:txnid2").val(a)}function setActiveTab(a){setCookie("qbjpactive",a);"jbtab"==a?$("#jpform\\:fromStation").focus():"quickbookTab"==a?$("#qbform\\:trainNUmber").focus():"clusterBookTab"==a&&$("#cbform\\:qbJrnyDateInputDate").focus()}$(document).ready(function(){$("#jpform\\:ticketType,#qbform\\:ticketType,#cbform\\:ticketType").change(function(){"I_TICKET"==$(this).val()&&alert("I-ticket is a counter ticket. It will be delivered at the address given at the time of booking.")})});
$(document).ready(function(){$("#jpform\\:handicapPassengers,#qbform\\:handicapPassengers,#cbform\\:handicapPassengers").change(function(){$(this).is(":checked")&&alert("Handicapped passengers need to carry Photo Identity card issued by Railways which is to be produced for On-board / Off-board verification during journey. Escort passengers also need to carry photo identity card mentioned at the time of booking.")})});
function checkQuota(a){"HP"==$(a).val()&&alert("Handicapped passengers need to carry Photo Identity card issued by Railways which is to be produced for On-board / Off-board verification during journey. Escort passengers also need to carry photo identity card mentioned at the time of booking.")}var selectedClassArray=[],selectedTrainTypeFlags=[];function isStationVisible(a){return $("input[type=checkbox][value="+a+"]").is(":checked")}
function isClassVisible(a){return $("input[type=checkbox][value="+a+"]").is(":checked")}function getRowFromStation(a){return a.find("td").eq(2).text()}function getRowToStation(a){return a.find("td").eq(4).text()}function getRowTrainTypeFlags(a){return a.find("span#ttf").text()}function getTrainClassArray(a){var b=[];a.find("td:eq(15) a").each(function(a,d){b.push($(d).text())});return b}
function getSelectedClassArray(){var a=[];$("#jpform\\:availJC input:checkbox:checked").each(function(b,c){a.push($(c).val())});return a}function getSelectedTrainTypeFlagArray(){var a=[];$("input[type=checkbox][name=ttfl]:checked").each(function(b,c){a.push($(c).val())});return a}
function applyFilter(a){for(var b=getRowFromStation(a),c=getRowToStation(a),d=!0,d=isStationVisible(b)&&isStationVisible(c)?!0:!1,e=getTrainClassArray(a),b=!1,c=0;c<selectedClassArray.length;++c)if(-1<$.inArray(selectedClassArray[c],e)){b=!0;break}for(var e=!1,h=getRowTrainTypeFlags(a),c=0;c<selectedTrainTypeFlags.length;++c)if(-1<h.indexOf(selectedTrainTypeFlags[c])){e=!0;break}d&&b&&e?a.show():a.hide()}
function invokeJPFilter(){selectedClassArray=getSelectedClassArray();selectedTrainTypeFlags=getSelectedTrainTypeFlagArray();for(var a=$("#avlAndFareForm\\:trainbtwnstns tbody>tr"),b=a.length,c=0;c<b;++c)applyFilter($(a[c]))}
function formReset(a){$(a.form).find(".rf-msg").each(function(a,c){$(c).text("")});$(a.form).find(":text").each(function(a,c){$(c).val("")});$(a.form).find("select").each(function(a,c){$(c).find("option:eq(0)").attr("selected","selected")});"jpform"==a.form.name?RichFaces.$("jpform:journeyDate").resetValue():"qbform"==a.form.name&&RichFaces.$("qbform:qbJrnyDate").resetValue();return!1}function checkDigit(a){10>a&&(a="0"+a);return a}
function setCookie(a,b,c){var d=new Date;d.setDate(d.getDate()+c);b=escape(b)+(null==c?"":"; expires="+d.toUTCString());document.cookie=a+"="+b}function getCookie(a){var b,c,d,e=document.cookie.split(";");for(b=0;b<e.length;b++)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c==a)return unescape(d)}function deleteCookie(a){setCookie(a,"",-1)}
var SrctznAge,SrctnwAge,minPsgnAge,maxPsgnAge,seniorCitizenApplicable,idCardRequired,foodChoiceEnabled,bedRollEnabled,minNameLength,maxNameLength,maxChildAge,minIdCardLength,maxIdCardLength,selectedQuotaValue,maxPassengers,numberOfPassengerSelected,bedRollOpted,tType,idNonVerPsgns,_handicapPassengers,hpQuotaBooking,yatraParchi,busFlag,_dynamicFareFlag,_clusterMainLap,_optionalAadhaarId,_innerLinePermitRequired,mobileRegEx=RegExp("\u0008^[0-9]{10}$\u0008"),regExNon0=/[^0]/,nonNumericRegEx=/[^0-9]/;
$(document).ready(function(){$(".only-numeric").keypress(onlyNumeric)});
function validatePassengerForm(a,b){var c=$(".psgn-name")[0].value;0==$.trim(c).length&&b.push("First passenger detail must not be blank");var d=!1,e=!1,h=!1,g=!1,f=null,k=!0,n=0,v=0,p=0,t=!1,u=!1,s=!1;bedRollOpted=!1;$(".psgn-name").parent("td").parent("tr").each(function(a){var c=$(this),q=!1,r=c.find(".psgn-name");c.find(".psgn-name,.psgn-age,.psgn-gender,.psgn-foodChoice,.psgn-idcardtype,.psgn-idcardnumber,.psgn-disablePsgnType,.psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").removeClass("error_field");if(""!=
$.trim(r.val())){p++;h&&!g&&(b.push("Enter valid passenger details for passenger ("+a+"). You must fill the passenger details continuously."),f&&f.find(".psgn-name").addClass("error_field"));g=h=!1;f=null;k=!0;r.val($.trim(r.val().replace(/\t+/g," ").replace(/\s{2,}/g," ")));validName(r.val())||(b.push("Only alphabates and space are allowed in name field for passenger ("+(a+1)+")"),k=!1);validNameLength(r.val())||(b.push("Name length should be between "+minNameLength+" and "+maxNameLength+" for passenger ("+
(a+1)+")"),k=!1);k?r.removeClass("error_field"):r.addClass("error_field");var m=c.find(".psgn-age");validAge(m.val())?(q=!0,m.removeClass("error_field")):(b.push("Enter a valid age (between "+minPsgnAge+" and "+maxPsgnAge+") for passenger ("+(a+1)+")"),m.addClass("error_field"));var l=c.find(".psgn-gender");"M"==l.val()||"F"==l.val()?(q&&"M"==l.val()&&m.val()>maxChildAge&&(e=!0),l.removeClass("error_field")):(b.push("Select a valid gender for passenger ("+(a+1)+")"),l.addClass("error_field"));"LD"==
selectedQuotaValue&&"M"==l.val()&&11<m.val()?(b.push("For ladies quota, male passenger ("+(a+1)+") should not be older than 11 yr"),m.addClass("error_field")):q&&m.removeClass("error_field");foodChoiceEnabled&&(q=c.find(".psgn-foodChoice"),"V"==q.val()||"N"==q.val()?q.removeClass("error_field"):(b.push("Food choice required for passenger ("+(a+1)+")"),q.addClass("error_field")));idCardRequired&&(r=c.find(".psgn-idcardtype"),m=c.find(".psgn-idcardnumber"),m.val($.trim(m.val())),"NULL_IDCARD"!=r.val()?
(r.removeClass("error_field"),"UNIQUE_ICARD"==r.val()?validAadhaar(m.val())?(d=!0,m.removeClass("error_field")):(b.push("Enter a valid 12 digit AADHAAR card number for passenger ("+(a+1)+")"),m.addClass("error_field")):0<m.val().length&&validIdCard(m.val())?(d=!0,m.removeClass("error_field")):(b.push("Enter a valid ID card number for passenger ("+(a+1)+") between "+minIdCardLength+" and "+maxIdCardLength+" characters"),m.addClass("error_field"))):(m.removeClass("error_field"),0<m.val().length&&validIdCard(m.val())?
(m.removeClass("error_field"),r.addClass("error_field"),b.push("Enter a valid ID card Type for passenger ("+(a+1)+")")):0<m.val().length&&(r.addClass("error_field"),b.push("Enter a valid ID card Type for passenger ("+(a+1)+")"),m.addClass("error_field"),b.push("Enter a valid ID card number for passenger ("+(a+1)+") between "+minIdCardLength+" and "+maxIdCardLength+" characters"))));0<c.find(".psgn-aadhaarcardnumber").length&&(c.find(".psgn-aadhaarcardnumber").val($.trim(c.find(".psgn-aadhaarcardnumber").val())),
""!=c.find(".psgn-aadhaarcardnumber").val()&&!validAadhaar(c.find(".psgn-aadhaarcardnumber").val())?(c.find(".psgn-aadhaarcardnumber").addClass("error_field"),b.push("Enter a valid 12 digit AADHAAR number for passenger ("+(a+1)+")")):c.find(".psgn-aadhaarcardnumber").removeClass("error_field"));bedRollEnabled&&1==c.find(".psgn-bedRollChoice:checked").length&&(bedRollOpted=!0);"LB"==c.find(".psgn-berth-choice").val()||"SL"==c.find(".psgn-berth-choice").val()?n++:""==$.trim(c.find(".psgn-berth-choice").val())&&
v++;if(_handicapPassengers)if(q=c.find(".psgn-disablePsgnType"),r=c.find(".psgn-disableCardId"),m=c.find(".psgn-disablePsgnDob"),l=c.find(".psgn-disableCardExpDt"),""==q.val())b.push("Please select a passenger concession type for passenger ("+(a+1)+")"),q.addClass("error_field");else{q.removeClass("error_field");hpQuotaBooking&&(1==q.val()||2==q.val()?q.removeClass("error_field"):(b.push("Passenger concession must be 'HANDICAP' or 'ESCORT' for HANDICAP quota booking for passenger ("+(a+1)+")"),q.addClass("error_field")));
if(1==q.val()||2==q.val())""==r.val()?(b.push("Please enter a valid Handicap card id for passenger ("+(a+1)+")"),r.addClass("error_field")):r.removeClass("error_field"),""==m.val()?(b.push("Please enter a valid DoB for passenger ("+(a+1)+")"),m.addClass("error_field")):m.removeClass("error_field"),""==l.val()?(b.push("Please enter a valid Card expiry date for passenger ("+(a+1)+")"),l.addClass("error_field")):l.removeClass("error_field"),2==q.val()&&(r=c.find(".psgn-idcardtype"),m=c.find(".psgn-idcardnumber"),
m.val($.trim(m.val())),"NULL_IDCARD"!=r.val()?(r.removeClass("error_field"),0<m.val().length&&validIdCard(m.val())?m.removeClass("error_field"):(b.push("Enter a valid ID card number for Escort passenger ("+(a+1)+") between "+minIdCardLength+" and "+maxIdCardLength+" characters"),m.addClass("error_field"))):(m.removeClass("error_field"),0<m.val().length&&validIdCard(m.val())?(m.removeClass("error_field"),r.addClass("error_field"),b.push("Enter a valid ID card Type for Escort passenger ("+(a+1)+")")):
(r.addClass("error_field"),b.push("Enter a valid ID card Type for Escort passenger ("+(a+1)+")"),m.addClass("error_field"),b.push("Enter a valid ID card number for Escort passenger ("+(a+1)+") between "+minIdCardLength+" and "+maxIdCardLength+" characters"))));1==q.val()&&(t=!0);2==q.val()&&(u=!0);-1==q.val()&&(s=!0)}}else if(h=!0,f=c,m=c.find(".psgn-age"),l=c.find(".psgn-gender"),""!=$.trim(m.val())||"M"==l.val()||"F"==l.val())r.addClass("error_field"),validAge(m.val())?m.removeClass("error_field"):
m.addClass("error_field"),"M"==l.val()||"F"==l.val()?l.removeClass("error_field"):l.addClass("error_field"),b.push("Enter valid passenger details for passenger ("+(a+1)+"). You must fill the passenger details continuously."),g=!0});_handicapPassengers&&(hpQuotaBooking&&(s&&b.push("No GENERAL passenger is allowed in HANDICAP quota booking"),t||b.push("No Handicap passenger found")),u&&!t&&b.push("No Escort passenger is allowed to travel alone"));idCardRequired&&!d&&b.push("ID CARD required for at least one passenger.");
"LD"==$("#addPassengerForm\\:quotaH").val()&&e&&b.push("Male passengers below "+(maxChildAge+1)+" years are only allowed for this quota");seniorCitizenApplicable&&0<$(".psgn-concopt:enabled:checked").length&&$("#addPassengerForm\\:autoUpgrade").attr("checked",!1);var l=!1;$(".infant-name").parent("td").parent("tr").each(function(a){var c=$(this),d=c.find(".infant-name");d.val($.trim(d.val().replace(/\t+/g," ").replace(/\s{2,}/g," ")));if(""!=$.trim(d.val())){l&&b.push("Enter child details for child ("+
a+")");l=!1;validName($.trim(d.val()))||b.push("No special character allowed in name field for child ("+(a+1)+")");validNameLength($.trim(d.val()))?d.removeClass("error_field"):(b.push("Name length should be between "+minNameLength+" and "+maxNameLength+" for child ("+(a+1)+")"),d.addClass("error_field"));var e=c.find(".infant-age");validInfantAge(e.val())?e.removeClass("error_field"):(b.push("Enter a valid age for child ("+(a+1)+")"),e.addClass("error_field"));c=c.find(".infant-gender");"M"==c.val()||
"F"==c.val()?c.removeClass("error_field"):(b.push("Select a valid gender for child ("+(a+1)+")"),c.addClass("error_field"))}else if(l=!0,e=c.find(".infant-age"),c=c.find(".infant-gender"),0<=e.val()||"M"==c.val()||"F"==c.val())b.push("Enter valid child details for child ("+(a+1)+")"),d.addClass("error_field"),validInfantAge(e.val())||e.addClass("error_field"),"M"==c.val()||"F"==c.val()||c.addClass("error_field")});if($(".pref-coach-opt").is(":checked")){$(".coach-id").val($.trim($(".coach-id").val().replace(/\t+/g,
" ")).toUpperCase());var c=$(".coach-id").val(),z=/^[A-Z]{1}[A-Z0-9]{1,3}$/,B=/[A-Z]/;!/[0-9]/.test(c)||!B.test(c)||!z.test(c)?(b.push("Please Enter a Valid Alphanumeric Coach Id with first character as an alphabet and without any special character"),$(".coach-id").addClass("error_field")):$(".coach-id").removeClass("error_field")}else $(".coach-id").val(""),$(".coach-id").removeClass("error_field");$(".mobile-number").val($.trim($(".mobile-number").val()));""!=$(".mobile-number").val()?validMobile($(".mobile-number").val())?
$(".mobile-number").removeClass("error_field"):(b.push("Please Enter a Valid Mobile Number"),$(".mobile-number").addClass("error_field")):(b.push("Please enter a valid mobile number"),$(".mobile-number").addClass("error_field"));$("#addPassengerForm\\:wakeupStnOptId").is(":checked")&&(/^[A-Z]+$/.test($("#addPassengerForm\\:wakeupStnId").val())||b.push("Please select station for wakeup alert"));""==$.trim($(".captcha-answer").val())?(b.push("Enter the text as shown in the captcha image"),$(".captcha-answer").addClass("error_field")):
$(".captcha-answer").removeClass("error_field");4==$("input[name='addPassengerForm:bookingCond']:checked").val()&&0==n?b.push("Please select at least one LOWER type in the Berth Preference, as you have selected at least 1 Lower Berth choice."):5==$("input[name='addPassengerForm:bookingCond']:checked").val()&&(2>p?b.push("You have less than two passengers, but selected for 2 LOWER berths option."):2>n&&b.push("Please select two LOWER type in the Berth Preference, as you have selected 2 Lower Berths choice."));
"I_TICKET"==tType&&(""==$.trim($(".itkt-addr-flat").val())?(b.push("Please enter a Flat/Door/Block detail"),$(".itkt-addr-flat").addClass("error_field")):$(".itkt-addr-flat").removeClass("error_field"),""==$.trim($(".itkt-addr-stateId").val())?(b.push("Please select a valid state"),$(".itkt-addr-stateId").addClass("error_field")):$(".itkt-addr-stateId").removeClass("error_field"),""==$.trim($(".itkt-addr-city").val())?(b.push("Please select a valid city"),$(".itkt-addr-city").addClass("error_field")):
$(".itkt-addr-city").removeClass("error_field"),""==$.trim($(".itkt-addr-pin").val())?(b.push("Please enter a PIN code"),$(".itkt-addr-pin").addClass("error_field")):isValidPin($.trim($(".itkt-addr-pin").val()))?$(".itkt-addr-pin").removeClass("error_field"):(b.push("Please enter a valid PIN code"),$(".itkt-addr-pin").addClass("error_field")),""!=$.trim($(".itkt-addr-phone").val())?validPhoneNum($(".itkt-addr-phone").val())?$(".itkt-addr-phone").removeClass("error_field"):(b.push("Please enter a valid phone number"),
$(".itkt-addr-phone").addClass("error_field")):(b.push("Please enter a valid phone number"),$(".itkt-addr-phone").addClass("error_field")),0<$(".itkt-addr-phoneExt").length&&""!=$.trim($(".itkt-addr-phoneExt").val())&&(validPhoneExt($(".itkt-addr-phoneExt").val())?$(".itkt-addr-phoneExt").removeClass("error_field"):(b.push("Please enter a valid phone extension number"),$(".itkt-addr-phoneExt").addClass("error_field"))))}
function showErrorMessage(a,b){if(0<a.length){var c=$("#"+b);if(0<c.length){c.html("");$("<ul></ul>").appendTo("#"+b);var d=$("#"+b+">ul");$.each(a,function(a,b){d.append("<li>"+b+"</li>")});$("#"+b).addClass("error_div");$("#"+b).show();$("#gototop").click()}else{var e="";$.each(a,function(a,b){e+=a+1+". "+b+"\n"});alert(e)}}}
function showErrorMessage1(a,b){if(0<a.length){var c=$("#"+b);if(0<c.length){c.html("");$("<span class='rf-msg '></span>").appendTo("#"+b);var d=$("#"+b+">span");$.each(a,function(a,b){d.append("<span class='rf-msg-err '><span class='rf-msg-det'>"+b+"</span></span>")});$("#"+b).addClass("error_div");$("#"+b).show();$("#gototop").click()}else{var e="";$.each(a,function(a,b){e+=a+1+". "+b+"\n"});alert(e)}}}function seniorCitizen(a,b){return"M"==b&&a>=SrctznAge?!0:"F"==b&&a>=SrctnwAge?!0:!1}
function validIdCard(a){if(a&&a.length>=minIdCardLength&&a.length<=maxIdCardLength){var b=/[A-Za-z0-9]/;if(/[^A-Za-z0-9/\-]/.test(a)||!b.test(a))return!1;a=10<a.length?a.substring(a.length-10):a;return!regExNon0.test(a)?!1:!0}return!1}function validAge(a){if(null==a||""==a||isNaN(a))return!1;var b=maxPsgnAge;return a<minPsgnAge||a>b?!1:!0}function validNameLength(a){return a.length<minNameLength||a.length>maxNameLength?!1:!0}
function validInfantAge(a){return null==a||""==a||isNaN(a)?!1:0>a||4<a?!1:!0}function validName(a){return!/[^A-Za-z\s]/.test(a)}function isNumeric(a){return a?!nonNumericRegEx.test(a):!1}function isNonZeroNumeric(a){return a?!nonNumericRegEx.test(a)&&regExNon0.test(a):!1}function validMobile(a){return a?10==a.length&&isNonZeroNumeric(a):!1}function validAadhaar(a){return a?12==a.length&&isNonZeroNumeric(a):!1}function validPhoneNum(a){return a?3<=a.length&&10>=a.length&&isNonZeroNumeric(a):!1}
function validPhoneExt(a){return a?1<=a.length&&5>=a.length&&isNonZeroNumeric(a):!1}function isValidPin(a){return a?6==a.length&&isNonZeroNumeric(a):!1}function isLeapYear(a){return 0!=a%100&&0==a%4||0==a%100&&0==a%400}
function isValidDate(a){if(null==a)return!1;a=a.replace(/-/g,"/").split("/");if(3!=a.length||4!=a[2].length||1>a[1]||12<a[1])return!1;var b=[0,31,28,31,30,31,30,31,31,30,31,30,31];b[2]+=isLeapYear(a[2])?1:0;return 1>a[0]||a[0]>b[a[1]]||"Invalid Date"==new Date(a[1]+"/"+a[0]+"/"+a[2])?!1:!0}
function setPassengerInputValidation(){var a;a=null==_toDay?new Date:_toDay;$(".psgn-name").bind("blur",function(){if(""!=$(this).val()){$(this).val($(this).val().replace(/\t+/g," ").replace(/\s{2,}/g," "));if(!validName($(this).val()))return alert("Enter Passenger name without Special Characters and Numbers"),$(this).val(""),setFocus(this),!1;validNameLength($(this).val())||(alert("Name length should be between "+minNameLength+" and "+maxNameLength),setFocus(this))}});$(".psgn-age").bind("blur",
function(){""!=$(this).val()&&(isNaN($(this).val())?(alert("Enter numeric value for age"),$(this).val(""),setFocus(this)):validAge($(this).val())||(alert("Enter a valid age between "+minPsgnAge+" and "+maxPsgnAge),$(this).val(""),setFocus(this)))});$(".psgn-disablePsgnDob").blur(function(){var b=$.trim($(this).val()),b=$(this).val(b.replace(/\//g,"-")).val();null!=b&&""!=b&&!isValidDate(b)&&(alert("Invalid Passenger DoB.\nPlease enter valid DoB in 'dd-mm-yyyy' format."),setFocus(this));if(null!=b&&
""!=b&&isValidDate(b)){var c=b.split("-");new Date(c[1]+"/"+c[0]+"/"+c[2])>a&&alert("Oops !!! Passenger's Date of Birth is a future date!");b=$(this).parent("td").parent("tr");1==b.find(".psgn-disablePsgnType").val()&&(c=getAge(c[2]+"-"+c[1]+"-"+c[0]),validAge(c)&&b.find(".psgn-age").val(c))}});$(".psgn-disableCardExpDt").blur(function(){var b=$.trim($(this).val()),b=$(this).val(b.replace(/\//g,"-")).val();null!=b&&""!=b&&!isValidDate(b)&&(alert("Invalid Disabled Card Expire Date.\nPlease enter valid expire date in 'dd-mm-yyyy' format."),
setFocus(this));null!=b&&""!=b&&isValidDate(b)&&(b=b.split("-"),new Date(b[1]+"/"+b[0]+"/"+b[2])<a&&alert("Oops !!! It seems your disabled passenger card has been expired!"))})}
function setInfantInputValidation(){$(".infant-name").bind("blur",function(){""!=$(this).val()&&($(this).val($(this).val().replace(/\t+/g," ").replace(/\s{2,}/g," ")),validName($(this).val())?validNameLength($(this).val())||(alert("Name length should be between "+minNameLength+" and "+maxNameLength),setFocus(this)):(alert("Enter Child name without Special Characters and Numbers"),$(this).val(""),setFocus(this)))})}
function setFocus(a){focusElem=$(a);$.browser.mozilla?setTimeout("focusElem.focus()",0):$(a).focus()}var disableClick=function(){alert("You cannot change this value");return!1};function loseFocus(a){a&&a.blur()}function onlyNumeric(a){if(8==(a.which?a.which:a.keyCode))return!0;if(window.event)a=a.keyCode;else if(a.which)a=a.which;else return!0;return/[0-9]/.test(String.fromCharCode(a))}
function chkBedRollSrctzn(){if(bedRollEnabled&&!confirm("Bedroll Service is available in this train on additional service charge of Rs. 25/- per passenger opting Bedroll option.\nPress OK to continue or CANCEL to change your Bedroll choice."))return!1;if(seniorCitizenApplicable){var a=null;$(".psgn-concopt:enabled").each(function(){var b=null;_handicapPassengers&&(b=$(this).parent("td").parent("tr").find(".psgn-disablePsgnType").val());if(!$(this).is(":checked")&&(!_handicapPassengers||_handicapPassengers&&
!(1==b||2==b)))a=null==a?$(this).parent("td").parent("tr").find(".psgn-name").val():a+(", "+$(this).parent("td").parent("tr").find(".psgn-name").val())});if(null!=a&&!_clusterOnwardBooking&&!confirm("Passenger(s) "+a+' is/are eligible for senior citizen concession.\nTo avail the concession, please click "Cancel" and select the checkbox alongside the name.\nIf concession is not required, please click on "OK" to continue the booking'))return!1}if(_clusterMainLap&&!confirm("This is a Cluster Destination booking.\nPlease ensure availability of trains from "+
$(".enroute-station option:selected").text()+" to "+$(".to-station").text()+' for onward journey.\n\nClick "OK" to proceed for booking or click "Cancel" to check onward trains.'))return!1;seniorCitizenApplicable&&0<$(".psgn-concopt:enabled:checked").length&&alert("You have choosen for Senior Citizen concession.\nPlease carry a proof of your age while travelling to produce on demand.");return!0}
$(document).ready(function(){_optionalAadhaarId&&$(".psgn-aadhaarcardnumber").each(function(){$(this).blur(function(){$(this).val($.trim($(this).val()));var a=$(this).val();""!=a&&!validAadhaar(a)&&(alert("Please provide a valid 12 digit AADHAAR number (Optional), if exist."),setFocus(this))})});$(".psgn-idcardnumber").blur(function(){$(this).val($.trim($(this).val()));if("UNIQUE_ICARD"==$(this).parent("td").parent("tr").find(".psgn-idcardtype").val()){var a=$(this).val();""!=a&&!validAadhaar(a)&&
alert("Please provide a valid 12 digit AADHAAR number.")}})});var uidMandatory,psgnUidFlag,_toDay=null,journeyClass,_lastHandicapPsgn,_clusterOnwardBooking;
function selectMasterPassenger(){var a;if(uidMandatory){var b=!1,c=!0;for(a=0,selectpsgn=0;selectpsgn<selectedPsgns.length&&a<maxPassengers;a++,selectpsgn++)"UNIQUE_ICARD"==$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnIdCardTypeH").val()?b=!0:c=!1;if(2==psgnUidFlag&&!b)return alert("Select at least one passenger holding AADHAAR card"),!1;if(1==psgnUidFlag&&!c)return alert("Select all passengers holding AADHAAR card"),!1;if(0<idNonVerPsgns&&!confirm("You have selected some passengers whose AADHHAR Id is not verified.\nYou are advised to carry a valid ID proof."))return!1}for(a=
0,selectpsgn=0;selectpsgn<selectedPsgns.length&&a<maxPassengers;a++)1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnName").length&&($("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnName").val($("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnNameH").val().substring(0,maxNameLength)),SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:psgnGender",$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnSexH").val()),$("#addPassengerForm\\:psdetail\\:"+
a+"\\:psgnGender").trigger("change"),SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:berthChoice",$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnBerthPrefH").val()),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnAge").val(getAge($("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnDobH").val())),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnAge").trigger("change"),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").length&&(b=$("#addPassengerForm\\:passengerlist\\:"+
selectedPsgns[selectpsgn]+"\\:mstPsgnFoodPrefH").val(),"VEG"==b?$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").val("V"):"NON_VEG"==b&&$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").val("N")),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:concessionOpt").length&&(b=$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnConcessionH").val(),("SRCTZN"==b||"SRCTNW"==b)&&$("#addPassengerForm\\:psdetail\\:"+a+"\\:concessionOpt").attr("checked","checked")),1==$("#addPassengerForm\\:psdetail\\:"+
a+"\\:idCardType").length&&(SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:idCardType",$("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnIdCardTypeH").val()),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardNumber").length&&$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardNumber").val($("#addPassengerForm\\:passengerlist\\:"+selectedPsgns[selectpsgn]+"\\:mstPsgnIdCardNumberH").val())),2==psgnUidFlag&&1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").length&&
("UNIQUE_ICARD"==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").val()?($(".psgn-name:eq("+a+"),.psgn-age:eq("+a+"),.psgn-idcardnumber:eq("+a+")").attr("readonly","readonly").attr("onfocus","loseFocus(this);").addClass("readonly"),$(".psgn-gender:eq("+a+"),.psgn-idcardtype:eq("+a+")").attr("onfocus","loseFocus(this);").addClass("readonly")):($(".psgn-name:eq("+a+"),.psgn-age:eq("+a+"),.psgn-idcardnumber:eq("+a+")").removeAttr("readonly").removeAttr("onfocus").removeClass("readonly"),$(".psgn-gender:eq("+
a+"),.psgn-idcardtype:eq("+a+")").removeAttr("onfocus").removeClass("readonly"))),selectpsgn++);2==psgnUidFlag&&a!=maxPassengers&&(a--,$(".psgn-name:gt("+a+"),.psgn-age:gt("+a+"),.psgn-idcardnumber:gt("+a+")").removeAttr("readonly").removeAttr("onfocus").removeClass("readonly"),$(".psgn-gender:gt("+a+"),.psgn-idcardtype:gt("+a+")").removeAttr("onfocus").removeClass("readonly"));resetPsgnDetails(selectedPsgns.length,maxPassengers);hideMstPsgn()}
function resetPsgnDetails(a,b){for(var c=a;c<b;c++)1==$("#addPassengerForm\\:psdetail\\:"+c+"\\:psgnName").length&&($("#addPassengerForm\\:psdetail\\:"+c+"\\:psgnName").val(""),$("#addPassengerForm\\:psdetail\\:"+c+"\\:psgnGender option:eq(0)").attr("selected","selected"),$("#addPassengerForm\\:psdetail\\:"+c+"\\:psgnGender").trigger("change"),$("#addPassengerForm\\:psdetail\\:"+c+"\\:berthChoice option:eq(0)").attr("selected","selected"),$("#addPassengerForm\\:psdetail\\:"+c+"\\:psgnAge").val(""),
$("#addPassengerForm\\:psdetail\\:"+c+"\\:psgnAge").trigger("change"),1==$("#addPassengerForm\\:psdetail\\:"+c+"\\:foodChoice").length&&$("#addPassengerForm\\:psdetail\\:"+c+"\\:foodChoice option:eq(0)").attr("selected","selected"),1==$("#addPassengerForm\\:psdetail\\:"+c+"\\:idCardType").length&&($("#addPassengerForm\\:psdetail\\:"+c+"\\:idCardType option:eq(0)").attr("selected","selected"),1==$("#addPassengerForm\\:psdetail\\:"+c+"\\:idCardNumber").length&&$("#addPassengerForm\\:psdetail\\:"+c+
"\\:idCardNumber").val("")))}
function selectTravelListPassengers(){var a,b=$("#addPassengerForm\\:numPsgnInTravelList").val();b>maxPassengers&&alert("Your travel list contains more passengers than the allowed number of passengers for this booking.\n This will select the first allowed number of passengers from the list.");if(uidMandatory){var c=!1,d=!0;for(a=0,selectpsgn=0;selectpsgn<b&&a<maxPassengers;a++,selectpsgn++)"UNIQUE_ICARD"==$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnIdCardTypeH").val()?c=!0:d=!1;if(2==
psgnUidFlag&&!c)return alert("Your travel list should contain at least one passenger holding AADHAAR card"),!1;if(1==psgnUidFlag&&!d)return alert("Your travel list should contain all passengers holding AADHAAR card"),!1}for(a=0,selectpsgn=0;selectpsgn<b&&a<maxPassengers;a++)1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnName").length&&($("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnName").val($("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnNameH").val().substring(0,maxNameLength)),SetSelectItem("addPassengerForm\\:psdetail\\:"+
a+"\\:psgnGender",$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnSexH").val()),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnGender").trigger("change"),SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:berthChoice",$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnBerthPrefH").val()),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnAge").val(getAge($("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnDobH").val())),$("#addPassengerForm\\:psdetail\\:"+a+"\\:psgnAge").trigger("change"),
1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").length&&(c=$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnFoodPrefH").val(),"VEG"==c?$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").val("V"):"NON_VEG"==c&&$("#addPassengerForm\\:psdetail\\:"+a+"\\:foodChoice").val("N")),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:concessionOpt").length&&(c=$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnConcessionH").val(),("SRCTZN"==c||"SRCTNW"==c)&&$("#addPassengerForm\\:psdetail\\:"+
a+"\\:concessionOpt").attr("checked","checked")),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").length&&(SetSelectItem("addPassengerForm\\:psdetail\\:"+a+"\\:idCardType",$("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnIdCardTypeH").val()),1==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardNumber").length&&$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardNumber").val($("#addPassengerForm\\:travelList\\:"+selectpsgn+"\\:tlPsgnIdCardNumberH").val())),2==psgnUidFlag&&1==$("#addPassengerForm\\:psdetail\\:"+
a+"\\:idCardType").length&&("UNIQUE_ICARD"==$("#addPassengerForm\\:psdetail\\:"+a+"\\:idCardType").val()?($(".psgn-name:eq("+a+"),.psgn-age:eq("+a+"),.psgn-idcardnumber:eq("+a+")").attr("readonly","readonly").attr("onfocus","loseFocus(this);").addClass("readonly"),$(".psgn-gender:eq("+a+"),.psgn-idcardtype:eq("+a+")").attr("onfocus","loseFocus(this);").addClass("readonly")):($(".psgn-name:eq("+a+"),.psgn-age:eq("+a+"),.psgn-idcardnumber:eq("+a+")").removeAttr("readonly").removeAttr("onfocus").removeClass("readonly"),
$(".psgn-gender:eq("+a+"),.psgn-idcardtype:eq("+a+")").removeAttr("onfocus").removeClass("readonly"))),selectpsgn++);2==psgnUidFlag&&a!=maxPassengers&&(a--,$(".psgn-name:gt("+a+"),.psgn-age:gt("+a+"),.psgn-idcardnumber:gt("+a+")").removeAttr("readonly").removeAttr("onfocus").removeClass("readonly"),$(".psgn-gender:gt("+a+"),.psgn-idcardtype:gt("+a+")").removeAttr("onfocus").removeClass("readonly"));resetPsgnDetails(b,maxPassengers);hideTravelList()}
function SetSelectItem(a,b){var c=$("#"+a);c&&c.val(b)}function getAge(a){var b;b=null==_toDay?new Date:_toDay;a=new Date(a.replace(/-/g,"/"));if(b<a)return 0;var c=0,c=b.getFullYear()-a.getFullYear();return c-=b.getMonth()<a.getMonth()||b.getMonth()==a.getMonth()&&b.getDate()<a.getDate()?1:0}
function disablePsgnInput(){uidMandatory&&($(".psgn-name,.psgn-age,.psgn-idcardnumber").attr("readonly","readonly").attr("onfocus","loseFocus(this);").addClass("readonly"),$(".psgn-gender,.psgn-idcardtype").attr("onfocus","loseFocus(this);").addClass("readonly"))}function setPsgnCount(){$(".select-master-psgn-link,.select-travel-list-link").bind("click",function(){idNonVerPsgns=numberOfPassengerSelected=0})}
function disableConcessionOpt(){(seniorCitizenApplicable||_handicapPassengers)&&$(".psgn-name").parent("td").parent("tr").each(function(a){var b=$(this),c=b.find(".psgn-age"),d=b.find(".psgn-gender");(!validAge(c.val())||!seniorCitizen(c.val(),d.val()))&&b.find(".psgn-concopt").attr("checked",!1).attr("disabled","disabled").trigger("change");c.bind("change",function(){validAge(this.value)&&seniorCitizen(this.value,$(this).parent("td").parent("tr").find(".psgn-gender").val())?b.find(".psgn-concopt").removeAttr("disabled"):
b.find(".psgn-concopt").attr("checked",!1).attr("disabled","disabled").trigger("change")});d.bind("change",function(){validAge($(this).parent("td").parent("tr").find(".psgn-age").val())&&seniorCitizen($(this).parent("td").parent("tr").find(".psgn-age").val(),this.value)?b.find(".psgn-concopt").removeAttr("disabled"):b.find(".psgn-concopt").attr("checked",!1).attr("disabled","disabled").trigger("change")});b.find(".psgn-concopt").bind("change",function(){disableAutoUpgrade();$(this).is(":checked")&&
_handicapPassengers?(b.find(".psgn-disablePsgnType").val(-1).attr("onfocus","loseFocus(this);").addClass("readonly"),b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt,.psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly"),b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("onfocus","loseFocus(this);").addClass("readonly")):b.find(".psgn-disablePsgnType").removeAttr("onfocus").removeClass("readonly");$(this).is(":checked")&&_optionalAadhaarId&&(b.find(".psgn-aadhaarcardnumber").val($.trim(b.find(".psgn-aadhaarcardnumber").val())),
""==b.find(".psgn-aadhaarcardnumber").val()?(alert("Please provide AADHAAR number (Optional) for "+b.find(".psgn-name").val()+", if exist."),b.find(".psgn-aadhaarcardnumber").focus()):validAadhaar(b.find(".psgn-aadhaarcardnumber").val())||(alert("Please provide a valid 12 digit AADHAAR number (Optional) for "+b.find(".psgn-name").val()+", if exist."),setFocus(this)))});_handicapPassengers&&(b.find(".psgn-disablePsgnType").bind("change",function(){var a=$(this).val();1==a||2==a?(b.find(".psgn-concopt").attr("checked",
!1),1==a?(b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").removeAttr("readonly").removeClass("readonly"),b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("onfocus","loseFocus(this);").addClass("readonly"),b.find(".psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly")):(b.find(".psgn-disableCardId").val(_lastHandicapPsgn.cardNo),b.find(".psgn-disablePsgnDob").val(_lastHandicapPsgn.dob),b.find(".psgn-disableCardExpDt").val(_lastHandicapPsgn.doe),b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt,.psgn-idcardnumber").removeAttr("readonly").removeClass("readonly"),
b.find(".psgn-idcardtype").removeAttr("onfocus").removeClass("readonly"))):(b.find(".psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt,.psgn-idcardnumber").val("").attr("readonly","readonly").addClass("readonly"),b.find(".psgn-idcardtype").val("NULL_IDCARD").attr("onfocus","loseFocus(this);").addClass("readonly"));disableAutoUpgrade()}),b.find(".psgn-disableCardId").bind("change",function(){$(this).val($.trim($(this).val()).toUpperCase());populateEscotDtls(b,a)}),b.find(".psgn-disablePsgnType,.psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").bind("change",
function(){var a=b.find(".psgn-disablePsgnType").val();1==a&&(_lastHandicapPsgn=new HandicapPassenger(a,b.find(".psgn-disableCardId").val(),b.find(".psgn-disablePsgnDob").val(),b.find(".psgn-disableCardExpDt").val()))}))})}var HandicapPassenger=function(a,b,c,d){this.pType=a;this.cardNo=b;this.dob=c;this.doe=d};
function populateEscotDtls(a,b){var c=a.find(".psgn-disableCardId").val();$(".psgn-name").parent("td").parent("tr").each(function(d){d!=b&&(d=$(this),d.find(".psgn-disableCardId").val()==c&&(a.find(".psgn-disablePsgnDob").val(d.find(".psgn-disablePsgnDob").val()),a.find(".psgn-disableCardExpDt").val(d.find(".psgn-disableCardExpDt").val())))})}
function disableAutoUpgrade(){"1A"!=journeyClass&&(0<$(".psgn-concopt:enabled:checked").length||_handicapPassengers&&isHandicapOpted()?$("#addPassengerForm\\:autoUpgrade").attr("checked",!1).attr("disabled","disabled"):$("#addPassengerForm\\:autoUpgrade").removeAttr("disabled"))}function isHandicapOpted(){var a=!1;$(".psgn-disablePsgnType").each(function(){var b=$(this).val();if(1==b||2==b)a=!0});return a}function highlight(a){$(document.getElementById(a)).addClass("highlight")}
function downplay(a){$(document.getElementById(a)).removeClass("highlight")}
function initPassengerDetails(){setPsgnCount();disableConcessionOpt();setPassengerInputValidation();disablePsgnInput();disableAutoUpgrade();_handicapPassengers&&($(".psgn-disablePsgnDob,.psgn-disableCardExpDt").attr("placeholder","dd-mm-yyyy"),$(".psgn-disablePsgnType").each(function(){$(this).trigger("change")}));_clusterOnwardBooking&&($(".psgn-name,.psgn-age,.psgn-disableCardId,.psgn-disablePsgnDob,.psgn-disableCardExpDt").attr("readonly","readonly").attr("onfocus","loseFocus(this);").addClass("readonly"),
$(".psgn-gender,.psgn-concopt,.psgn-bedRollChoice,.psgn-disablePsgnType").attr("onfocus","loseFocus(this);").addClass("readonly"))}
function shAddr(){var a="";""!=$.trim($(".itkt-addr-flat").val())&&(a+=$.trim($(".itkt-addr-flat").val())+",<br/>");""!=$.trim($(".itkt-addr-street").val())&&(a+=$.trim($(".itkt-addr-street").val())+",<br/>");""!=$.trim($(".itkt-addr-colony").val())&&(a+=$.trim($(".itkt-addr-colony").val())+",<br/>");""!=$(".itkt-addr-city").val()&&(a+=$(".itkt-addr-city").val()+",<br/>");""!=$(".itkt-addr-stateId").val()&&(a+=$(".itkt-addr-stateId").val()+",<br/>");""!=$.trim($(".itkt-addr-pin").val())&&(a+="PIN - "+
$.trim($(".itkt-addr-pin").val())+",<br/>");$("#iTktAddr").html(a);$("#iTktPhone").html($(".itkt-addr-phone").val())}
(function(a){a.fn.hoverIntent=function(b,c){var d={sensitivity:7,interval:100,timeout:0},d=a.extend(d,c?{over:b,out:c}:b),e,h,g,f,k=function(a){e=a.pageX;h=a.pageY},n=function(b,c){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);if(Math.abs(g-e)+Math.abs(f-h)<d.sensitivity)return a(c).unbind("mousemove",k),c.hoverIntent_s=1,d.over.apply(c,[b]);g=e;f=h;c.hoverIntent_t=setTimeout(function(){n(b,c)},d.interval)},v=function(b){for(var c=("mouseover"==b.type?b.fromElement:b.toElement)||b.relatedTarget;c&&
c!=this;)try{c=c.parentNode}catch(e){c=this}if(c==this)return!1;var h=jQuery.extend({},b),l=this;if(l.hoverIntent_t)l.hoverIntent_t=clearTimeout(l.hoverIntent_t);if("mouseover"==b.type){if(g=h.pageX,f=h.pageY,a(l).bind("mousemove",k),1!=l.hoverIntent_s)l.hoverIntent_t=setTimeout(function(){n(h,l)},d.interval)}else if(a(l).unbind("mousemove",k),1==l.hoverIntent_s)l.hoverIntent_t=setTimeout(function(){l.hoverIntent_t=clearTimeout(l.hoverIntent_t);l.hoverIntent_s=0;d.out.apply(l,[h])},d.timeout)};return this.mouseover(v).mouseout(v)}})(jQuery);
$(document).ready(function(){function a(){$(this).find(".sub").stop().fadeTo("fast",0.9).show();(function(a){jQuery.fn.calcSubWidth=function(){rowWidth=0;a(this).find("ul").each(function(){rowWidth+=a(this).width()})}})(jQuery);if(0<$(this).find(".row").length){var a=0;$(this).find(".row").each(function(){$(this).calcSubWidth();rowWidth>a&&(a=rowWidth)});$(this).find(".sub").css({width:a});$(this).find(".row:last").css({margin:"0"})}else $(this).calcSubWidth(),$(this).find(".sub").css({width:rowWidth})}
function b(){$(this).find(".sub").stop().fadeTo("fast",0,function(){$(this).hide()})}var c={sensitivity:2,interval:100,over:a,timeout:300,out:b};$("ul#topnav li .sub").css({opacity:"0"});$("ul#topnav li").hoverIntent(c);$("ul#topnav li").focusin(a);$("ul#topnav li").focusout(b)});var _actFrom,_actTo,_ticketType,_returnTicket=!1,_gavlt=0,_handicapPsgns=!1;
function validateJpBookForm(a){if(!isValidJpBookFormInputs())return alert("Invalid parameters."),!1;a=$(a);if(a.data("clicked"))return!1;a.data("clicked",!0);return!0}
function isValidJpBookFormInputs(){var a=$.trim($("#jpBookForm\\:jpTrainNumber").val()),b=$.trim($("#jpBookForm\\:jpFromStationCode").val()),c=$.trim($("#jpBookForm\\:jpToStationCode").val()),d=$.trim($("#jpBookForm\\:jpJourneydate").val()),e=$.trim($("#jpBookForm\\:jpJourneyClass").val()),h=$.trim($("#jpBookForm\\:jpJourneyQuota").val()),g=$.trim($("#jpBookForm\\:jpTicketType").val());return!validTrain(a)||!validStationCode(b)||!validStationCode(c)||""==d||!validDate(d)||null==e||""==e||void 0===
e.length||2!=e.length||null==h||""==h||void 0===h.length||2!=h.length||"I_TICKET"!=g&&"E_TICKET"!=g?!1:!0}function validDate(a){return a&&(a=a.split("-"),3==a.length)?"Invalid Date"==new Date(a[1]+"/"+a[0]+"/"+a[2])?!1:!0:!1}function validTrain(a){return a?""==a||/[^A-Za-z0-9]/.test(a)||5<a.length?!1:!0:!1}function validStationCode(a){var b=RegExp(/\b(^[A-Za-z]{1,4}$)\b/);return null!=a&&""!=a?b.test(a):!1}var tempTr;
function availFareEnq(a,b,c,d,e,h,g){if(isJpChanged())return alert("You have changed journey Details. \n Please Click On 'Submit' Button To Fetch The Train List."),!1;tempTr=$(a);a=$("#qcbd input").filter(":checked").val();null!=a?(showTbisPopup(),$("#avlAndFareForm\\:trainNumber").val(b),$("#avlAndFareForm\\:journeyClass").val(d),$("#avlAndFareForm\\:journeyDate").val(c),$("#avlAndFareForm\\:quota").val(a),$("#avlAndFareForm\\:fromStation").val(e),$("#avlAndFareForm\\:toStation").val(h),$("#avlAndFareForm\\:cc").val(g),
$("#avlAndFareForm\\:tktType").val(_ticketType),$("#avlAndFareForm\\:addtab").click(),$("#enqOutPanel").hide()):alert("Select Quota First....")}
function ajaxComplete(){ajaxPopUpHide();var a=document.getElementById("avlAndFareForm:cc").value;$("#tabContent").css("padding","5px");$("#tabContent").css("padding","10px");if("true"==a){var b=$("#avlAndFareForm\\:trainNumber").val()+"-"+$("#avlAndFareForm\\:journeyClass").val()+"-"+$("#avlAndFareForm\\:quota").val();func(a,b)}else a=$(tempTr).parents(".container-div").attr("id"),$("#"+a).html(""),$("#"+a).html($("#enqpanelid1-outer").html());null!=tempTr&&(tempTr.parents("tr:first").addClass("visited-row"),
tempTr=null);$("html").scrollTop()>$("#tabul").offset().top&&$("html,body").animate({scrollTop:$("#tabul").offset().top-15},"slow");0<_gavlt&&(a=(new Date).getTime()-_gavlt,b=$("#avlAndFareForm\\:fromStation").val()+"-"+$("#avlAndFareForm\\:toStation").val(),ga("send","timing",{timingCategory:"Ajax",timingVar:"AvlEnq",timingValue:a,timingLabel:b}),_gavlt=0)}
function jpBook(a,b,c,d,e,h,g,f){if(isJpChanged())return alert("You have changed journey Details. \n Please Click On 'Submit' Button To Fetch The Train List."),!1;if(differentJD(c,d)&&!confirm("You have searched trains for "+_actFrom+" to "+_actTo+".\nBut you are booking in a train between "+c+" and "+d+".\n\nDo you want to continue with the same train?"))return!1;("GMTO"==d||"NHLN"==d)&&alert("Passengers, other than natives of Arunachal Pradesh, require an Inner Line permit (ILP) before taking up their journey to Arunachal Pradesh through rail route.");
showTbisPopup();$("#jpBookForm\\:jpTrainNumber").val(b);$("#jpBookForm\\:jpFromStationCode").val(c);$("#jpBookForm\\:jpToStationCode").val(d);$("#jpBookForm\\:jpJourneydate").val(e);$("#jpBookForm\\:jpJourneyClass").val(h);$("#jpBookForm\\:jpJourneyQuota").val(g);$("#jpBookForm\\:jpAvlSts").val(f);$("#jpBookForm\\:jpTicketType").val(_ticketType);$("#jpBookForm\\:jpReturnTkt").val(_returnTicket);$("#jpBookForm\\:isHandicapPsgns").val(_handicapPsgns);$("#jpBookForm\\:jpBookNow").click();hideTbisPopup()}
function differentJD(a,b){return a!=_actFrom||b!=_actTo?!0:!1}
$(document).ready(function(){$(document.getElementById("avlAndFareForm_submitLink")).hide();$("#qcbd input[value=GN]").eq(0).attr("checked","checked");$("#avlAndFareForm\\:trainbtwnstns thead th").each(function(){var a=$.trim($(this).text());("Train No."==a||"Departure"==a||"Arrival"==a||"Dist.(Km)"==a||"Travel Time"==a)&&$(this).hover(function(){var a=$(this);a.removeClass("rf-dt-shdr-c");a.addClass("active-column")},function(){var a=$(this);a.removeClass("active-column");a.addClass("rf-dt-shdr-c")});
$("#avlAndFareForm\\:trainbtwnstns thead th div").each(function(){var a=$(this);a.css("float","right");a.hide()});$(this).click(function(){var a=$("#up",this),c=$("#down",this);!a.is(":visible")&&!c.is(":visible")?(a.show(),a.addClass("up-hdr"),isSorted=!0,jptableSort($.trim(a.parents("th:first").text()),!0)):a.is(":visible")&&!c.is(":visible")?(a.hide(),a.removeClass("up-hdr"),c.show(),c.addClass("down-hdr"),jptableSort($.trim(c.parent("th:first").text()),!1)):!a.is(":visible")&&c.is(":visible")&&
(c.hide(),c.removeClass("down-hdr"),a.show(),a.addClass("up-hdr"),jptableSort($.trim(a.parent().text()),!0));var d=$(this).get(0);$("#avlAndFareForm\\:trainbtwnstns thead th").each(function(){$(this).get(0)!=d&&$("div",this).each(function(){var a=$(this);a.removeClass("down-hdr");a.removeClass("up-hdr");a.hide()})})})});$("#avlAndFareForm\\:trainbtwnstns tbody tr").each(function(){$(this).hover(function(){$(this).addClass("active-row")},function(){$(this).removeClass("active-row")})});$("#avlAndFareForm\\:trainbtwnstns thead th").eq(3).click()});
function jptableSort(a,b){var c=$("#avlAndFareForm\\:trainbtwnstns tbody").eq(0).find("tr").get();c.sort(function(c,d){var g=0,f=0,k=0;"Departure"==a?(g=$(c).find("td").eq(3).text(),f=g.split(":"),g=60*f[0]+1*f[1],f=$(d).find("td").eq(3).text(),f=f.split(":"),f=60*f[0]+1*f[1]):"Arrival"==a?(g=$(c).find("td").eq(5).text(),f=g.split(":"),g=60*f[0]+1*f[1],f=$(d).find("td").eq(5).text(),f=f.split(":"),f=60*f[0]+1*f[1]):"Dist.(Km)"==a?(g=1*$(c).find("td").eq(6).text(),f=1*$(d).find("td").eq(6).text()):
"Travel Time"==a?(g=$(c).find("td").eq(7).text(),f=g.split(":"),g=60*f[0]+1*f[1],f=$(d).find("td").eq(7).text(),f=f.split(":"),f=60*f[0]+1*f[1]):"Train No."==a&&(g=$(c).find("td").eq(0).text(),f=$(d).find("td").eq(0).text());return k=b?g<f?-1:g>f?1:0:f<g?-1:f>g?1:0});var d=$("#avlAndFareForm\\:trainbtwnstns tbody").eq(0);$.each(c,function(a,b){d.append(b)})}var total_tabs=0,count1=0;
function func(a,b){var c,d,e;if("true"==a)return 0<count1&&$("#tabul").children().each(function(){e=d=c="";e=this.id;c=$("#"+this.id).text();d=$.trim(c.substr(0,c.length-1));d==$.trim(b)&&$("#"+e).find("a.close").click()}),count1>tabcount-1&&$("#tabul li").first().find("a.close").click(),$("#tabcontent .container-div").hide(),total_tabs++,count1++,addtab(total_tabs),!1}
function addtab(a){var b='<a href="" id="close'+a+'" class="close">&times;</a>';$("#tabul").append('<li id="t'+a+'" class="ntabs">'+$("#enqpanelid1-tab").html()+"&nbsp;&nbsp;"+b+"</li>");$("#tabcontent").append('<div id="c'+a+'" class="container-div">'+$("#enqpanelid1-outer").html()+"</div>");null!=$("#c"+a).find("a.refresh-avl-enq")&&$("#tabcontent").find("#c"+a).find("a").last().attr("id","refid"+a);$("#tabul li").removeClass("ctab");$("#t"+a).addClass("ctab");$("#t"+a).bind("click",function(){$("#tabul li").removeClass("ctab");
$("#t"+a).addClass("ctab");$("#tabcontent .container-div").hide();$("#c"+a).fadeIn("fast")});$("#close"+a).bind("click",function(){$(this).parent().hasClass("ctab")&&($(this).parent().removeClass("ctab"),$("#tabcontent .container-div").hide(),0<$(this).parent().next().length?($(this).parent().next().addClass("ctab"),$("#c"+a).next().fadeIn("fast"),$("#c"+a+".container-div").next().show()):0<$(this).parent().prev().length&&($(this).parent().prev().addClass("ctab"),$("#c"+a).prev().fadeIn("fast"),$("#c"+
a+".container-div").prev().show()));$(this).parent().remove();$("#c"+a).remove();count1--;return!1})}
function validateUserNameLength(){var a=document.getElementById("userRegistrationForm:userName");if(""==a.value)return alert("Please enter username"),a.focus(),!1;if(6>a.value.length)return alert("Please enter at least six characters"),a.focus(),!1;if(10<a.value.length)return alert("Please enter less than ten characters"),a.focus(),!1;if(/\W/.test(a.value))return alert("Only letters, numbers are allowed"),a.focus(),!1;return!/[a-z]/.test(a.value)?(alert("UserName must contain at least one small letter"),
a.focus(),!1):!0}var curDt=new Date("#{cacheWrapper.currentDateForJs}"),yesterDay=new Date("#{cacheWrapper.currentDateForJs}"),yesterDayTest=new Date("#{cacheWrapper.currentDateForJs}"),arpDate=new Date("#{cacheWrapper.incommingJourneyDateForJs}"),dt=new Date("8/24/2012"),dtc=new Date("9/24/2012");yesterDay.setDate(yesterDay.getDate()-6575);yesterDayTest.setDate(yesterDayTest.getDate()-45657);function disablementFunction(a){return a.date>yesterDayTest&&a.date<yesterDay?!0:!1}
function fetchStates(){var a=document.getElementById("userRegistrationForm:countries").value,b=$("#userRegistrationForm\\:statesName"),c=$("#userRegistrationForm\\:cityName"),d=$("#userRegistrationForm\\:postofficeName"),e=$("#userRegistrationForm\\:pincode"),h=$("#userRegistrationForm\\:pincodeError"),g=$("#userRegistrationForm\\:othercountry"),f=$("#userRegistrationForm\\:otherState"),k=$("#userRegistrationForm\\:otherCityId");94!=a||1E3==a?(h.val(""),b.val(""),e.val(""),c.val(0),d.val(0),document.getElementById("userRegistrationForm:othercountry").style.visibility=
"visible",document.getElementById("userRegistrationForm:otherCountryLbl").style.visibility="visible",document.getElementById("userRegistrationForm:otherState").style.visibility="visible",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityId").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility="visible",document.getElementById("userRegistrationForm:postofficeName").style.visibility=
"hidden",document.getElementById("userRegistrationForm:cityName").style.visibility="hidden",document.getElementById("userRegistrationForm:statesName").style.visibility="hidden"):(h.val(""),e.val(""),g.val(""),f.val(""),k.val(""),document.getElementById("userRegistrationForm:othercountry").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCountryLbl").style.visibility="hidden",document.getElementById("userRegistrationForm:otherState").style.visibility="hidden",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility=
"hidden",document.getElementById("userRegistrationForm:otherCityId").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility="hidden",document.getElementById("userRegistrationForm:postofficeName").style.visibility="visible",document.getElementById("userRegistrationForm:cityName").style.visibility="visible",document.getElementById("userRegistrationForm:statesName").style.visibility="visible");if(1E3!=a&&94!=a)g.val(""),h.val(""),b.val(""),e.val(""),c.val(0),
d.val(0),document.getElementById("userRegistrationForm:othercountry").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCountryLbl").style.visibility="hidden",document.getElementById("userRegistrationForm:otherState").style.visibility="visible",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityId").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility=
"visible",document.getElementById("userRegistrationForm:postofficeName").style.visibility="hidden",document.getElementById("userRegistrationForm:cityName").style.visibility="hidden",document.getElementById("userRegistrationForm:statesName").style.visibility="hidden"}
function fetchCities(){var a=document.getElementById("userRegistrationForm:statesId").value;"other"==a?(getCities(a),document.getElementById("userRegistrationForm:otherState").style.visibility="visible",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="visible"):(getCities(a),document.getElementById("userRegistrationForm:otherState").style.visibility="hidden",document.getElementById("userRegistrationForm:otherStateLbl").style.visibility="hidden")}
function fetchCitiesOther(){var a=document.getElementById("userRegistrationForm:cityId").value;"other"==a?(document.getElementById("userRegistrationForm:otherCityId").style.visibility="visible",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility="visible"):(getPostOfficePincode(a),document.getElementById("userRegistrationForm:otherCityId").style.visibility="hidden",document.getElementById("userRegistrationForm:otherCityLbl").style.visibility="hidden")}
function fetchPostOfficeDistrict(){"other-other"==document.getElementById("userRegistrationForm:postoffice").value?(document.getElementById("userRegistrationForm:otherPinId").style.visibility="visible",document.getElementById("userRegistrationForm:otherPinCodeLbl").style.visibility="visible"):(document.getElementById("userRegistrationForm:otherPinId").style.visibility="hidden",document.getElementById("userRegistrationForm:otherPinCodeLbl").style.visibility="hidden")}
function fetchStateFromPincode(){var a=$("#userRegistrationForm\\:pincode"),b=$("#userRegistrationForm\\:countries");if(0==b.val())return alert("Please select the country first"),b.focus(),a.val(""),!1;94==b.val()&&getStatesFromPin(a.val())}function fetchPostOfficeList(){var a=document.getElementById("userRegistrationForm:cityName").value;getPostOfficeFromCity(a)}
function displaySoftUserInput(){document.getElementById("userRegistrationForm:headingCardHolder").style.visibility="visible";document.getElementById("userRegistrationForm:cardHolderName").style.visibility="visible";document.getElementById("userRegistrationForm:confirmCardHolderName").style.visibility="visible";document.getElementById("userRegistrationForm:cardHolderNameConfirm").style.visibility="visible";document.getElementById("userRegistrationForm:headingMotherMaidenName").style.visibility="visible";
document.getElementById("userRegistrationForm:motherMaidenName").style.visibility="visible";document.getElementById("userRegistrationForm:headingCofirmMotherMaidenName").style.visibility="visible";document.getElementById("userRegistrationForm:motherMaidenNameConfirm").style.visibility="visible";document.getElementById("userRegistrationForm:subsSmstest").style.visibility="visible";document.getElementById("userRegistrationForm:subsSmstestLabel").style.visibility="visible"}
function clearIdCardValue(){$("#userRegistrationForm\\:pancardno").val("")}
function validate(){$("#masterlist\\:Name");var a=$("#userRegistrationForm\\:userName"),b=$("#userRegistrationForm\\:pasword"),c=$("#userRegistrationForm\\:confpasword"),d=/[\W_]/,e=/^[A-Za-z0-9]+$/,h=$("#userRegistrationForm\\:email"),g=$("#userRegistrationForm\\:mobile"),f=$("#userRegistrationForm\\:pincode"),k=$("#userRegistrationForm\\:countries");$("#userRegistrationForm\\:statesName");var n=$("#userRegistrationForm\\:cityName"),v=/^[0-9]+$/,p=/[a-z]/,t=/^[A-Za-z]+$/,u=$("#userRegistrationForm\\:landline"),
s=$("#userRegistrationForm\\:firstname"),l=$("#userRegistrationForm\\:middlename"),z=$("#userRegistrationForm\\:lastname"),B=$("#userRegistrationForm\\:secanswer"),G=$("#userRegistrationForm\\:address"),K=$("#userRegistrationForm\\:street"),q=$("#userRegistrationForm\\:area"),r=$("#userRegistrationForm\\:postofficeName");$("#userRegistrationForm\\:district");$("#userRegistrationForm\\:gendermsg\\:0:checked");$("#userRegistrationForm\\:gendermsg\\:1:checked");$("#userRegistrationForm\\:msgmarital\\:0:checked");
$("#userRegistrationForm\\:msgmarital\\:1:checked");$("#userRegistrationForm\\:dobInputDate");var m=$("#captcha"),w=$("#userRegistrationForm\\:othercountry"),x=$("#userRegistrationForm\\:otherState"),y=$("#userRegistrationForm\\:otherCityId");$("#userRegistrationForm\\:otherPinId");var O=Number(g.val().substr(0,1)),o=$("#userRegistrationForm\\:pancardno"),H=$("#userRegistrationForm\\:pancardMandateFlg"),C=$("#userRegistrationForm\\:verificationEnabledFlg"),L=$("#userRegistrationForm\\:verificationTypeFlg");
$("#userRegistrationForm\\:uidno");$("#userRegistrationForm\\:otp");$("#userRegistrationForm\\:otpMandatoryFlag");var D=$("#userRegistrationForm\\:dobDay"),I=$("#userRegistrationForm\\:dobMonth"),J=$("#userRegistrationForm\\:dobYear"),M=$("#userRegistrationForm\\:selecIdCard\\:0:checked"),N=$("#userRegistrationForm\\:selecIdCard\\:1:checked"),E=$("#userRegistrationForm\\:verificationTypeFlgValue"),A=Number(D.val().substr(0,1)),D=0==A?Number(D.val().substr(1,2)):D.val(),A=Number(I.val().substr(0,1)),
I=0==A?Number(I.val().substr(1,2)):I.val(),J=J.val(),A=new Date(J,I-1,D),A=""+A.getFullYear()+(A.getMonth()+1)+A.getDate(),D=""+J+I+D;if(""==a.val())return alert("Please enter username"),a.focus(),!1;if(!p.test(a.val()))return alert("UserName must contain at least one small letter"),a.focus(),!1;if(6>a.val().length)return alert("Please enter at least six characters"),a.focus(),!1;if(10<a.val().length)return alert("Please enter UserName less than ten characters"),a.focus(),!1;if(/\W/.test(a.val()))return alert("Only letters, numbers and underscores are allowed.No space is allowed"),
a.focus(),!1;if(""==b.val())return alert("Please enter password"),b.focus(),!1;if(!/[0-9]/.test(b.val()))return alert("password must contain at least one number (0-9)"),b.focus(),!1;if(!/[A-Z]/.test(b.val()))return alert("password must contain at least one capital letter"),b.focus(),!1;if(!p.test(b.val()))return alert("password must contain at least one small letter"),b.focus(),!1;if(7>b.val().length)return alert(" Password should be more than seven characters"),b.focus(),!1;if(15<b.val().length)return alert(" Password should not be more than fifteen characters"),
b.focus(),!1;if(d.test(b.val()))return alert("Only letters, numbers  are allowed for password"),b.focus(),!1;if(a.val()==b.val())return alert("UserName and Password cannot be same"),b.focus(),!1;if(""==c.val())return alert("Please enter confirm password"),c.focus(),!1;if(d.test(c.val()))return alert("Only letters, numbers  are allowed for confirm password"),c.focus(),!1;if(b.val()!=c.val())return alert("Your password and confirm password do not match."),b.focus(),!1;if(""==B.val())return alert("Please enter security answer"),
B.focus(),!1;if(3>B.val().length)return alert("Please enter at least 3 characters for security answer"),B.focus(),!1;if(40<B.val().length)return alert("Please enter less than 40 characters for security answer"),B.focus(),!1;if(""==s.val())return alert("Please enter first name"),s.focus(),!1;if(3>s.val().length)return alert("Please enter at least 3 characters for first name"),s.focus(),!1;if(20<s.val().length)return alert("Please enter less than 20 characters for first name"),s.focus(),!1;if(!t.test(s.val()))return alert("Only letters are allowed in First Name"),
s.focus(),!1;if(""!=l.val()&&!t.test(l.val()))return alert("Only letters are allowed in middle name"),l.focus(),!1;if(""!=l.val()&&20<l.val().length)return alert("Please enter less than 20 characters for middle name"),l.focus(),!1;if(""==z.val())return alert("Please enter last name"),z.focus(),!1;if(3>z.val().length)return alert("Please enter at least 3 characters for last name"),z.focus(),!1;if(20<z.val().length)return alert("Please enter less than 20 characters for last name"),z.focus(),!1;if(!t.test(z.val()))return alert("Only letters are allowed in Last Name"),
z.focus(),!1;if(0==$("#userRegistrationForm\\:gendermsg\\:0:checked").length&&0==$("#userRegistrationForm\\:gendermsg\\:1:checked").length)return alert("select gender"),!1;if(D!=A)return alert("Please enter valid Date of Birth"),!1;if(""==h.val())return alert("Please enter email id"),h.focus(),!1;if(!/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test(h.val()))return alert("Please enter a valid email id"),h.focus(),!1;if(1>h.val().length)return alert("Please enter at least 1 characters for email"),
h.focus(),!1;if(50<h.val().length)return alert("Please enter less than 50 characters for email"),h.focus(),!1;if(""==G.val())return alert("Please enter Flat No."),G.focus(),!1;if(3>G.val().length)return alert("Please enter at least 3 characters for Flat No."),G.focus(),!1;if(25<G.val().length)return alert("Please enter less than 25 characters for Flat No."),G.focus(),!1;if(""!=K.val()&&25<K.val().length)return alert("Please enter less than 25 characters for street"),K.focus(),!1;if(""!=q.val()&&25<
q.val().length)return alert("Please enter less than 25 characters for area"),q.focus(),!1;if(0==k.val())return alert("Please select country"),k.focus(),!1;if(1E3==k.val()&&""==w.val())return alert("Please enter other country"),w.focus(),!1;if(1E3==k.val()&&""!=w.val()&&!t.test(w.val()))return alert("Only letters are allowed in other country"),w.focus(),!1;if(1E3==k.val()&&""!=w.val()&&3>w.val().length)return alert("Please enter at least 3 characters for other country"),w.focus(),!1;if(1E3==k.val()&&
""!=w.val()&&25<w.val().length)return alert("Please enter less than 25 characters for other country"),w.focus(),!1;if(""==f.val())return alert("Please enter pincode"),f.focus(),!1;if(94==k.val()&&!v.test(f.val()))return alert("Enter the  Pincode in digits only"),f.focus(),!1;if(94==k.val()&&3>f.val().length)return alert("Please enter at least 3 characters for pincode"),f.focus(),!1;if(94==k.val()&&6<f.val().length)return alert("Please enter less than 7 characters for pincode"),f.focus(),!1;if(94!=
k.val()&&!e.test(f.val()))return alert("Only letters and numbers are allowed in pincode"),f.focus(),!1;if(94!=k.val()&&3>f.val().length)return alert("Please enter at least 3 characters for pincode"),f.focus(),!1;if(94!=k.val()&&15<f.val().length)return alert("Please enter less than 16 characters for pincode"),f.focus(),!1;if(94!=k.val()&&""==x.val())return alert("Please enter other state"),x.focus(),!1;if(94!=k.val()&&""!=x.val()&&!t.test(x.val()))return alert("Only letters are allowed in other state"),
x.focus(),!1;if(94!=k.val()&&""!=x.val()&&3>x.val().length)return alert("Please enter at least 3 characters for other state"),x.focus(),!1;if(94!=k.val()&&""!=x.val()&&25<x.val().length)return alert("Please enter less than 25 characters for other state"),x.focus(),!1;if(94==k.val()&&0==n.val())return alert("Please select city"),n.focus(),!1;if(94!=k.val()&&""==y.val())return alert("Please enter other city"),y.focus(),!1;if(94!=k.val()&&""!=y.val()&&!t.test(y.val()))return alert("Only letters are allowed in other city"),
y.focus(),!1;if(94!=k.val()&&""!=y.val()&&3>y.val().length)return alert("Please enter at least 3 characters for other city"),y.focus(),!1;if(94!=k.val()&&""!=y.val()&&25<y.val().length)return alert("Please enter less than 25 characters for other city"),y.focus(),!1;if(94==k.val()&&0==r.val())return alert("Please select post office"),r.focus(),!1;if(""==g.val())return alert("Please enter mobile number"),g.focus(),!1;if(!v.test(g.val()))return alert("Enter the  Mobile Number in digits only"),g.focus(),
!1;if(0==O)return alert(" Mobile Number should not start with zero"),g.focus(),!1;if(10<g.val().length||10>g.val().length)return alert(" Mobile Number should be of 10 digits"),g.focus(),!1;if("true"==H.val()&&"true"==C.val()&&"NULL_IDCARD"!=E.val()&&""==o.val())return alert("Please Enter "+L.val()+"."),o.focus(),!1;if(""!=o.val()&&"PAN Card"==L.val()&&"true"==C.val()&&"NULL_IDCARD"!=E.val()){if(!e.test(o.val()))return alert("Only letters and numbers are allowed in PAN Card number"),o.focus(),!1;if(10!=
o.val().length)return alert(" Enter Valid PAN Card Number."),o.focus(),!1}if(""!=o.val().trim()&&"Aadhaar ID"==L.val()&&"true"==C.val()&&"NULL_IDCARD"!=E.val()){if(!v.test(o.val()))return alert("Only numbers are allowed in Aadhaar Id Number."),o.focus(),!1;if(12!=o.val().length)return alert(" Enter  Valid Aadhaar Id Number."),o.focus(),!1;o=$("#userRegistrationForm\\:pancardno");if(""==o.val())return alert("Please enter Aadhaar Id"),o.focus(),!1;a=reverse_str(o.val());for(c=b=0;c<a.length;c++)b=Op[b][F[c%
8][a.charAt(c)]];if(0!=b)return alert("Invalid Aadhaar Id, Please Recheck!"),o.focus(),!1}if("true"==H.val()&&"true"==C.val()&&"NULL_IDCARD"==E.val()&&0==$("#userRegistrationForm\\:selecIdCard\\:0:checked").length&&0==$("#userRegistrationForm\\:selecIdCard\\:1:checked").length)return alert("select card"),!1;if("true"==H.val()&&"true"==C.val()&&"NULL_IDCARD"==E.val()&&"3"==N.val()&&""==o.val())return alert("Please Enter Pancard Number."),o.focus(),!1;if("true"==H.val()&&"true"==C.val()&&"NULL_IDCARD"==
E.val()&&"3"==N.val()){if(!e.test(o.val()))return alert("Only letters and numbers are allowed in PAN Card number"),o.focus(),!1;if(10!=o.val().length)return alert(" Enter Valid PAN Card Number."),o.focus(),!1}if("true"==H.val()&&"true"==C.val()&&"NULL_IDCARD"==E.val()&&"9"==M.val()&&""==o.val())return alert("Please Enter Aadhar Id Number."),o.focus(),!1;if("true"==H.val()&&"true"==C.val()&&"NULL_IDCARD"==E.val()&&"9"==M.val()){if(!v.test(o.val()))return alert("Only numbers are allowed in Aadhaar Id Number."),
o.focus(),!1;if(12!=o.val().length)return alert(" Enter  Valid Aadhaar Id Number."),o.focus(),!1;o=$("#userRegistrationForm\\:pancardno");if(""==o.val())return alert("Please enter Aadhaar Id"),o.focus(),!1;a=reverse_str(o.val());for(c=b=0;c<a.length;c++)b=Op[b][F[c%8][a.charAt(c)]];if(0!=b)return alert("Invalid Aadhaar Id, Please Recheck!"),o.focus(),!1}if(""!=u.val()){if(10<u.val().length)return alert(" LandLine Number should not be more than 10 digits"),u.focus(),!1;if(!v.test(u.val()))return alert("Enter the LandLine Number in digits only "),
u.focus(),!1}if(""==m.val())return alert("Please enter captcha code"),m.focus(),!1;return!0==confirm("Press OK to continue or Cancel for Return")?!0:!1}for(var F=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4]],i=2;8>i;i++){F[i]=[];for(var j=0;10>j;j++)F[i][j]=F[i-1][F[1][j]]}
var Op=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],Inv=[0,4,3,2,1,5,6,7,8,9];function reverse_str(a){for(var b="",c=a.length-1;0<=c;c--)b+=a.charAt(c);return b}
function check(){var a=$("#userRegistrationForm\\:pancardno");if(""==a.val())return alert("Please enter Aadhaar Id"),a.focus(),a.selected(),!1;for(var b=reverse_str(a.val()),c=0,d=0;d<b.length;d++)c=Op[c][F[d%8][b.charAt(d)]];if(0!=c)return alert("Invalid Aadhaar Id, Please Recheck!"),a.focus(),!1}$(document).ready(function(){$("#refresh").click(function(){$("#cimage").attr("src","captchaImage?"+Math.random())})});
function validateFeedbackInput(){var a=$("#txnListFormForSession\\:fdDescription");if(0==$("#txnListFormForSession\\:fdq1\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq1\\:5:checked").length||0==$("#txnListFormForSession\\:fdq2\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq2\\:1:checked").length&&
0==$("#txnListFormForSession\\:fdq2\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq2\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq2\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq2\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(0==$("#txnListFormForSession\\:fdq3\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq3\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq3\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq3\\:3:checked").length&&
0==$("#txnListFormForSession\\:fdq3\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq3\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(0==$("#txnListFormForSession\\:fdq4\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq4\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),
!1;if(0==$("#txnListFormForSession\\:fdq5\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq5\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq5\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq5\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq5\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq5\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(0==$("#txnListFormForSession\\:fdq6\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq6\\:1:checked").length&&
0==$("#txnListFormForSession\\:fdq6\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq6\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq6\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq6\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(0==$("#txnListFormForSession\\:fdq7\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq7\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq7\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq7\\:3:checked").length&&
0==$("#txnListFormForSession\\:fdq7\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq7\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(0==$("#txnListFormForSession\\:fdq8\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq8\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq8\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq8\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq8\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq8\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),
!1;if(0==$("#txnListFormForSession\\:fdq9\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq9\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq9\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq9\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq9\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq9\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(0==$("#txnListFormForSession\\:fdq10\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq10\\:1:checked").length&&
0==$("#txnListFormForSession\\:fdq10\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq10\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq10\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq10\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(0==$("#txnListFormForSession\\:fdq11\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq11\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq11\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq11\\:3:checked").length&&
0==$("#txnListFormForSession\\:fdq11\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq11\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(0==$("#txnListFormForSession\\:fdq12\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq12\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq12\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq12\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq12\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq12\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),
!1;if(0==$("#txnListFormForSession\\:fdq13\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:1:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq13\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(0==$("#txnListFormForSession\\:fdq14\\:0:checked").length&&0==$("#txnListFormForSession\\:fdq14\\:1:checked").length&&
0==$("#txnListFormForSession\\:fdq14\\:2:checked").length&&0==$("#txnListFormForSession\\:fdq14\\:3:checked").length&&0==$("#txnListFormForSession\\:fdq14\\:4:checked").length&&0==$("#txnListFormForSession\\:fdq14\\:5:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(/[`^~<>]/.test(a.val()))return alert("Special  Characters ( ` ^ ~ < >) are not  allowed for Description"),a.focus(),!1;if(950<a.val().length)return alert("Maximum Characters limit exceeded for Description"),
a.focus(),!1}
function validateQuickFeedbackInput(){var a=$("#txnListFormForSessionQuick\\:fdDescription");if(0==$("#txnListFormForSessionQuick\\:fdq1\\:0:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:1:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:2:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:3:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:4:checked").length&&0==$("#txnListFormForSessionQuick\\:fdq1\\:5:checked").length||0==$("#txnListFormForSessionQuick\\:fdq5\\:0:checked").length&&0==
$("#txnListFormForSessionQuick\\:fdq5\\:1:checked").length)return alert("Please rate all the services listed on the feedback form"),!1;if(/[`^~<>]/.test(a.val()))return alert("Special  Characters ( ` ^ ~ < >) are not  allowed for Description"),a.focus(),!1;if(950<a.val().length)return alert("Maximum Characters limit exceeded for Description"),a.focus(),!1}
function validateInputNew(){var a=$("#addMstListPsgn\\:Name"),b=$("#addMstListPsgn\\:mstDobInputDate"),c=$("#addMstListPsgn\\:idcardnumber"),d=$("#addMstListPsgn\\:idcardtypeNonMandate"),e=$("#addMstListPsgn\\:mstgender\\:0:checked"),h=$("#addMstListPsgn\\:mstgender\\:1:checked"),g=$("#addMstListPsgn\\:stznchoice\\:0:checked"),f=$("#addMstListPsgn\\:stznchoice\\:1:checked"),k=$("#addMstListPsgn\\:uidMandateFlg");$("#addMstListPsgn\\:uidEnabledFlg");var n=/[^A-Za-z0-9\/\\\-]/,v=/^[0-9]+$/,p=new Date,
t=Number(b.val().substr(6,4)),u=Number(b.val().substr(3,2)),s=Number(b.val().substr(0,2));p.getTime();t=p.getFullYear()-t;p.getMonth();p.getMonth();p.getDay();p.getDay();var l=t-1;if(""==a.val())return alert("Please enter passenger name"),a.focus(),!1;if(""==b.val())return alert("Please enter date of birth"),b.focus(),!1;2==g.val()&&alert("You have selected senior citizen concession choice");if(3>a.val().length)return alert("Please enter at least three characters for Passenger Name"),a.focus(),!1;
if(60<a.val().length)return alert("Please enter less than sixteen characters for Passenger Name"),a.focus(),!1;if(!/^[A-Za-z\s]+$/.test(a.val()))return alert("Only letters are allowed in Name"),a.focus(),!1;if("true"==k.val()&&9!=d.val())return alert("Please Select Id Card Type as Unique I-Card"),d.focus(),!1;if("true"==k.val()&&""==c.val()&&9==d.val())return alert("Please Enter id card  Number"),c.focus(),!1;if("true"==k.val()&&""!=c.val()&&9==d.val()&&!v.test(c.val()))return alert("Enter the Id Number in digits only"),
c.focus(),!1;if("true"==k.val()&&""!=c.val()&&9==d.val()&&12!=c.val().length)return alert("Please enter id number of 12 digits only"),c.focus(),!1;if(""!=c.val()&&9==d.val()){a=reverse_str(c.val());for(g=b=0;g<a.length;g++)b=Op[b][F[g%8][a.charAt(g)]];if(0!=b)return alert("Invalid Id Card Number, Please Recheck!"),c.focus(),!1}if("false"==k.val()&&0!=d.val()&&""==c.val())return alert("Please enter ID Card Number"),c.focus(),!1;if("false"==k.val()&&""!=c.val()&&0==d.val())return alert("Select ID card type"),
d.focus(),!1;if("false"==k.val()&&0!=d.val()&&n.test(c.val()))return alert("Only letters, numbers  are allowed for ID card number"),c.focus(),!1;if("false"==k.val()&&0!=d.val()&&16<c.val().length)return alert("Please enter less than sixteen characters for Id Card Number"),c.focus(),!1;if("false"==k.val()&&0!=d.val()&&4>c.val().length)return alert("Please enter at least four characters for Id Card Number"),c.focus(),!1;if((p.getMonth()<u||p.getMonth()==u)&&p.getDate()>=s)if(59<l&&"M"==e.val()&&1==
f.val()){if(c=confirm("You are eligible for senior citizen concession but have not opted for it. Are you sure ?"),!0!=c)return!1}else if(59<t&&"M"==e.val()&&1==f.val()&&(c=confirm("You are eligible for senior citizen concession but have not opted for it. Are you sure ?"),!0!=c))return!1;if((p.getMonth()<u||p.getMonth()==u)&&p.getDate()<=s)if(60<l&&"M"==e.val()&&1==f.val()){if(c=confirm("You are eligible for senior citizen concession but have not opted for it. Are you sure ?"),!0!=c)return!1}else if(60<
t&&"M"==e.val()&&1==f.val()&&(c=confirm("You are eligible for senior citizen concession but have not opted for it. Are you sure ?"),!0!=c))return!1;if((p.getMonth()<u||p.getMonth()==u)&&p.getDate()>=s)if(57<l&&"F"==h.val()&&1==f.val()){if(c=confirm("You are eligible for senior citizen concession but have not opted for it. Are you sure ?"),!0!=c)return!1}else if(57<t&&"F"==h.val()&&1==f.val()&&(c=confirm("You are eligible for senior citizen concession but have not opted for it. Are you sure ?"),!0!=
c))return!1;if((p.getMonth()<u||p.getMonth()==u)&&p.getDate()<=s)if(58<l&&"F"==h.val()&&1==f.val()){if(c=confirm("You are eligible for senior citizen concession but have not opted for it. Are you sure ?"),!0!=c)return!1}else if(58<t&&"F"==h.val()&&1==f.val()&&(c=confirm("You are eligible for senior citizen concession but have not opted for it. Are you sure ?"),!0!=c))return!1}F=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4]];for(i=2;8>i;i++){F[i]=[];for(j=0;10>j;j++)F[i][j]=F[i-1][F[1][j]]}
Op=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]];Inv=[0,4,3,2,1,5,6,7,8,9];function reverse_str(a){for(var b="",c=a.length-1;0<=c;c--)b+=a.charAt(c);return b}
function check(){var a=$("#addMstListPsgn\\:idcardnumber");if(""==a.val())return alert("Please enter Aadhaar Id"),a.focus(),a.selected(),!1;for(var b=reverse_str(a.val()),c=0,d=0;d<b.length;d++)c=Op[c][F[d%8][b.charAt(d)]];if(0!=c)return alert("Invalid Aadhaar Id, Please Recheck!"),a.focus(),!1}
function getMasterListDelete(a){$(document).ready(function(){document.getElementById("addMstListPsgn:selectMasterListId").value=a;if(!0==confirm("Do you want to delete passenger"))processMasterList(a);else return!1})}function getMasterListEdit(a){$(document).ready(function(){document.getElementById("addMstListPsgn:selectMasterListIdEdit").value=a;editMasterList(a)})}
function getTravelListAddNew(){var a=$("#createtravellistnew\\:travellistname"),b=$("#createtravellistnew\\:travellistdesc"),c=$("#createtravellistnew input:checkbox:checked").length,d=$("#createtravellistnew\\:displaylistname"),e=/^[A-Za-z\s]+$/;if("new"!=d.val())return alert("Please select create new from drop down list"),d.focus(),!1;if(1>c)return alert("Please select at least one passenger"),a.focus(),!1;if(6<c)return alert("Please select less than seven passenger"),a.focus(),!1;if(""==a.val())return alert("Please enter Travel List Name"),
a.focus(),!1;if(/[\W_]/.test(a.val())||!e.test(a.val()))return alert("Only letters are allowed for Travel List Name"),a.focus(),!1;if(4>a.val().length)return alert("Please enter at least four characters for Travel List Name"),a.focus(),!1;if(20<a.val().length)return alert("Please enter less than twenty characters Travel List Name"),a.focus(),!1;if(""!=b.val()){if(4>b.val().length)return alert("Please enter at least four characters for Travel List Description"),b.focus(),!1;if(20<b.val().length)return alert("Please enter less than twenty characters Travel List Description"),
b.focus(),!1;if(!e.test(b.val()))return alert("Only letters are allowed for Travel List Description"),b.focus(),!1}var h=[];$("#createtravellistnew input:checkbox").each(function(){$(this).is(":checked")&&($("input:checkbox:checked"),h.push($(this).val()))});addMasterListPassenger(h)}function getTravelListAdd(a){$(document).ready(function(){document.getElementById("createtravellistnew:selectAllMasterListIds").value=a;addMasterListPassenger(a)})}
function getTravelListDelete(){var a=$("#createtravellistnew\\:displaylistname"),b=$("#createtravellistnew\\:displaylistname").val();$("#createtravellistnew\\:travellistname");var c=$("#createtravellistnew\\:displaylistname");if("new"==c.val())return alert("Please select Travel List Name for deletion"),c.focus(),!1;delTravelListPassenger(b);delTravelListPassenger(a.val())}
function validatePassword(){var a=$("#changePassword\\:oldPswrd"),b=$("#changePassword\\:newPswrd"),c=$("#changePassword\\:cnfrmPswrd"),d=/[\W_]/;if(""==a.val())return alert("Please enter old password"),a.focus(),!1;if(d.test(a.val()))return alert("Only letters, numbers  are allowed for old password"),a.focus(),!1;if(""==b.val())return alert("Please enter new password"),b.focus(),!1;if(!/[0-9]/.test(b.val()))return alert("New password must contain at least one number (0-9)"),b.focus(),!1;if(!/[A-Z]/.test(b.val()))return alert("New password must contain at least one capital letter"),
b.focus(),!1;if(!/[a-z]/.test(b.val()))return alert("New password must contain at least one small letter"),b.focus(),!1;if(7>b.val().length)return alert(" New password should be more than seven characters"),b.focus(),!1;if(15<b.val().length)return alert(" New Password should not be more than fifteen characters"),b.focus(),!1;if(d.test(b.val()))return alert("Only letters, numbers  are allowed for new password"),b.focus(),!1;if(""==c.val())return alert("Please enter new confirm password"),c.focus(),
!1;if(d.test(c.val()))return alert("Only letters, numbers  are allowed for new confirm password"),c.focus(),!1;if(b.val()!=c.val())return alert("Your new password and new confirm password do not match."),c.focus(),!1;return a.val()==b.val()?(alert("Old Pasword and New Password cannot be same"),b.focus(),!1):!0}
function validateForgotPwdDtls(){var a=$("#forgot_passwrd\\:userNameForgot"),b=$("#forgot_passwrd\\:securityAns");if(""==a.val())return alert("Please enter username"),a.focus(),!1;if(6>a.val().length)return alert("Please enter at least six characters"),a.focus(),!1;if(10<a.val().length)return alert("Please enter UserName less than ten characters"),a.focus(),!1;if(/\W/.test(a.val()))return alert("Only letters, numbers and underscores are allowed.No space is allowed"),a.focus(),!1;if(""==b.val())return alert("Please enter security answer"),
b.focus(),!1;if(3>b.val().length)return alert("Please enter at least 3 characters for security answer"),b.focus(),!1;if(40<b.val().length)return alert("Please enter less than 40 characters for security answer"),b.focus(),!1;if(""==$.trim($("#captcha_txt").val()))return $("#fgtCaptchaErr").html('<span class="rf-msg-err"><span class="rf-msg-det">Enter the captcha text as in the image</span></span>'),!1;$("#fgtCaptchaErr").html("");return!0}
function validateInput(){var a=document.getElementById("favJourney:trnNumber"),b=document.getElementById("favJourney:fromStation"),c=document.getElementById("favJourney:toStation"),d=document.getElementById("favJourney:classFav"),e=document.getElementById("favJourney:quotaFav");if(""==a.value)return alert("Please enter Train Nunber"),a.focus(),!1;if(""==b.value)return alert("Please enter From Station"),b.focus(),!1;if(""==c.value)return alert("Please enter To Station"),c.focus(),!1;if("blank"==d.value)return alert("Please select Class"),
d.focus(),!1;if("blankQ"==e.value)return alert("Please select Quota"),e.focus(),!1;if(5>a.value.length||5<a.value.length)return alert("Please enter Train Nunber of 5 digits"),a.focus(),!1;return!0}function getFavJourneyListDelete(a){$(document).ready(function(){document.getElementById("favJourney:selectJrnyListId").value=a;if(!0==confirm("Do you want to delete journey list"))processFavJourneyList(a);else return!1})}
function fetchStatesProfile(){var a=document.getElementById("updateUserDtls:countriesProfile").value,b=$("#updateUserDtls\\:statesName"),c=$("#updateUserDtls\\:cityIdProfile"),d=$("#updateUserDtls\\:postofficeProfile"),e=$("#updateUserDtls\\:pincodeProfile"),h=$("#updateUserDtls\\:pincodeProfileError"),g=$("#updateUserDtls\\:othercountryProfile"),f=$("#updateUserDtls\\:otherStateProfile"),k=$("#updateUserDtls\\:otherCityIdProfile");94!=a||1E3==a?(h.val(""),b.val(""),e.val(""),c.val(0),d.val(0),document.getElementById("updateUserDtls:othercountryProfile").style.visibility=
"visible",document.getElementById("updateUserDtls:otherCountryLblProfile").style.visibility="visible",document.getElementById("updateUserDtls:otherStateProfile").style.visibility="visible",document.getElementById("updateUserDtls:otherStateLbl").style.visibility="visible",document.getElementById("updateUserDtls:otherCityIdProfile").style.visibility="visible",document.getElementById("updateUserDtls:otherCityLblProfile").style.visibility="visible",document.getElementById("updateUserDtls:postofficeProfile").style.visibility=
"hidden",document.getElementById("updateUserDtls:cityIdProfile").style.visibility="hidden",document.getElementById("updateUserDtls:statesName").style.visibility="hidden"):(h.val(""),e.val(""),g.val(""),f.val(""),k.val(""),document.getElementById("updateUserDtls:othercountryProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherCountryLblProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherStateProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherStateLbl").style.visibility=
"hidden",document.getElementById("updateUserDtls:otherCityIdProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherCityLblProfile").style.visibility="hidden",document.getElementById("updateUserDtls:postofficeProfile").style.visibility="visible",document.getElementById("updateUserDtls:cityIdProfile").style.visibility="visible",document.getElementById("updateUserDtls:statesName").style.visibility="visible");if(1E3!=a&&94!=a)g.val(""),h.val(""),b.val(""),e.val(""),c.val(0),
d.val(0),document.getElementById("updateUserDtls:othercountryProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherCountryLblProfile").style.visibility="hidden",document.getElementById("updateUserDtls:otherStateProfile").style.visibility="visible",document.getElementById("updateUserDtls:otherStateLbl").style.visibility="visible",document.getElementById("updateUserDtls:otherCityIdProfile").style.visibility="visible",document.getElementById("updateUserDtls:otherCityLblProfile").style.visibility=
"visible",document.getElementById("updateUserDtls:postofficeProfile").style.visibility="hidden",document.getElementById("updateUserDtls:cityIdProfile").style.visibility="hidden",document.getElementById("updateUserDtls:statesName").style.visibility="hidden"}function fetchCitiesProfile(){var a=document.getElementById("updateUserDtls:statesIdProfile").value;getCities(a)}
function alertForAccountLockEmailUpdate(){alert("Email ID updation will lead to deactivation of account till the new email id is verified.")}function alertForAccountLockMobileUpdate(){alert("Mobile Number updation will lead to deactivation of account till the new mobile number is verified.")}function fetchCitiesOtherProfile(){var a=document.getElementById("updateUserDtls:cityIdProfile").value;"other"!=a&&getPostOfficePincode(a)}
function fetchPostOfficeDistrictProfile(){"other-other"!=document.getElementById("updateUserDtls:postofficeProfile").value&&otherPin()}function fetchStateFromPincodeProfile(){var a=$("#updateUserDtls\\:pincodeProfile"),b=$("#updateUserDtls\\:countriesProfile");if(0==b.val())return alert("Please select the country first"),b.focus(),a.val(""),!1;94==b.val()&&getStatesFromPin(a.val())}
function fetchPostOfficeListProfile(){var a=document.getElementById("updateUserDtls:cityIdProfile").value;getPostOfficeFromCity(a)}
function validateProfile(){var a=$("#updateUserDtls\\:securityAns"),b=$("#updateUserDtls\\:emailId");$("#updateUserDtls\\:genderProfile\\:0:checked");$("#updateUserDtls\\:genderProfile\\:1:checked");$("#updateUserDtls\\:maritalProfile\\:0:checked");$("#updateUserDtls\\:maritalProfile\\:1:checked");var c=$("#updateUserDtls\\:profileAddress"),d=$("#updateUserDtls\\:profileStreet"),e=$("#updateUserDtls\\:profileArea"),h=$("#updateUserDtls\\:postofficeProfile");$("#updateUserDtls\\:profileDistrict");
var g=$("#updateUserDtls\\:countriesProfile");$("#updateUserDtls\\:statesIdProfile");var f=$("#updateUserDtls\\:cityIdProfile");$("#updateUserDtls\\:othercountryProfile");$("#updateUserDtls\\:otherStateProfile");$("#updateUserDtls\\:otherCityIdProfile");$("#updateUserDtls\\:otherPinIdProfile");var k=$("#updateUserDtls\\:resPhMob"),n=$("#updateUserDtls\\:pincodeProfile"),v=/^[0-9]+$/,p=$("#updateUserDtls\\:resLandline"),t=Number(k.val().substr(0,1)),u=/^[A-Za-z0-9]+$/,s=$("#updateUserDtls\\:pancardnoprofile"),
l=$("#updateUserDtls\\:pancardMandateFlgProfile");if(""==a.val())return alert("Please enter security answer"),a.focus(),!1;if(3>a.val().length)return alert("Please enter at least 3 characters for security answer"),a.focus(),!1;if(40<a.val().length)return alert("Please enter less than 40 characters for security answer"),a.focus(),!1;if(""!=s.val()&&!u.test(s.val()))return alert("Only letters and numbers are allowed in pancard number"),s.focus(),!1;if("true"==l.val()&&""==s.val())return alert("Please Enter Pancard Number"),
s.focus(),!1;if(0==$("#updateUserDtls\\:genderProfile\\:0:checked").length&&0==$("#updateUserDtls\\:genderProfile\\:1:checked").length)return alert("select gender"),!1;if(0==$("#updateUserDtls\\:maritalProfile\\:0:checked").length&&0==$("#updateUserDtls\\:maritalProfile\\:1:checked").length)return alert("select marital status"),!1;if(""==b.val())return alert("Please enter email-id"),b.focus(),!1;if(!/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test(b.val()))return alert("Please enter a valid email address."),
b.focus(),!1;if(""==c.val())return alert("Please enter Flat No."),c.focus(),!1;if(3>c.val().length)return alert("Please enter at least 3 characters for Flat No."),c.focus(),!1;if(25<c.val().length)return alert("Please enter less than 25 characters for Flat No."),c.focus(),!1;if(""!=d.val()&&25<d.val().length)return alert("Please enter less than 25 characters for street"),d.focus(),!1;if(""!=e.val()&&25<e.val().length)return alert("Please enter less than 25 characters for area"),e.focus(),!1;if(0==
g.val())return alert("Please select country"),g.focus(),!1;if(94!=g.val())return alert("Please select India as country"),g.focus(),!1;if(""==n.val())return alert("Please enter pincode"),n.focus(),!1;if(94==g.val()&&!v.test(n.val()))return alert("Enter the  Pincode in digits only"),n.focus(),!1;if(94==g.val()&&3>n.val().length)return alert("Please enter at least 3 characters for pincode"),n.focus(),!1;if(94==g.val()&&6<n.val().length)return alert("Please enter less than 7 characters for pincode"),
n.focus(),!1;if(94==g.val()&&0==f.val())return alert("Please select city"),f.focus(),!1;if(94==g.val()&&0==h.val())return alert("Please select post office"),h.focus(),!1;if(""==k.val())return alert("Please enter mobile number"),k.focus(),!1;if(!v.test(k.val()))return alert("Enter the  Mobile Number in digits only"),k.focus(),!1;if(0==t)return alert(" Mobile Number should not start with zero"),k.focus(),!1;if(10<k.val().length||10>k.val().length)return alert(" Mobile Number should be of 10 digits"),
k.focus(),!1;if(""!=p.val()){if(10<p.val().length)return alert(" LandLine Number should not be more than 10 digits"),p.focus(),!1;if(!v.test(p.val()))return alert("Enter the LandLine Number in digits only "),p.focus(),!1}return!0==confirm("Note:\nEmail ID updation will lead to deactivation of account till the new email id is verified.\nMobile Number updation will lead to deactivation of account till the new mobile number is verified.\nDo you want to continue?")?!0:!1}
function validateEnqform(a){$("#trainschedule\\:inputErrorMsgs").text("");$(a.form).find(":text").each(function(a,c){$(c).change()});a=$("#trainschedule\\:inputErrorMsgs").find("span");if(null!=a&&0<a.length)return!1;a=$("#trainschedule\\:trainnumber");if(""==a.val())return alert("Please enter Train Nunber"),a.focus(),!1;if(/[\W_]/.test(a.val()))return alert("No Special characters allowed for Train number"),a.focus(),!1;return!/^[0-9]+$/.test(a.val())?(alert("Enter the  Train Number in digits only"),
a.focus(),!1):!0}function validatePnr(){var a=document.getElementById("pnrEnquiryInputForm:pnr"),b=/^[0-9]+$/,c=Number(a.value.substr(0,1));if(""!=a.value){if(10!=a.value.length)return alert("Please enter ten digit PNR Number"),a.focus(),!1;if(!b.test(a.value))return alert("Enter the  PNR Number in digits only"),a.focus(),!1;if(0==c||1==c||3==c||5==c||7==c||9==c)return alert(" Please enter valid PNR Number"),a.focus(),!1}else alert("Please enter PNR Number");return!0}$(document).ready(function(){$("#pnrEnquiryInputForm\\:pnr").focus()});